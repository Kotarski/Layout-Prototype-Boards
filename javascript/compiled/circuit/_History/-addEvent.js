export default function addEvent(state, ...participants) {
    const currentIdx = state.currentIdx + 1, lastIdx = currentIdx;
    const previousEvents = state.events.slice(0, lastIdx);
    const newEvent = participants.map(participant => ({
        participant,
        state: participant.getState()
    }));
    const events = [...previousEvents, newEvent];
    return { events, currentIdx, lastIdx };
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLWFkZEV2ZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vdHlwZXNjcmlwdC9DaXJjdWl0L19IaXN0b3J5Ly1hZGRFdmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQSxNQUFNLENBQUMsT0FBTyxVQUFVLFFBQVEsQ0FBQyxLQUFtQixFQUFFLEdBQUcsWUFBMkI7SUFHakYsTUFBTSxVQUFVLEdBQUcsS0FBSyxDQUFDLFVBQVUsR0FBRyxDQUFDLEVBQUUsT0FBTyxHQUFHLFVBQVUsQ0FBQztJQUM5RCxNQUFNLGNBQWMsR0FBWSxLQUFLLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUUsT0FBTyxDQUFDLENBQUM7SUFHL0QsTUFBTSxRQUFRLEdBQVUsWUFBWSxDQUFDLEdBQUcsQ0FBQyxXQUFXLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDdEQsV0FBVztRQUNYLEtBQUssRUFBRSxXQUFXLENBQUMsUUFBUSxFQUFFO0tBQy9CLENBQUMsQ0FBQyxDQUFDO0lBR0osTUFBTSxNQUFNLEdBQVksQ0FBQyxHQUFHLGNBQWMsRUFBRSxRQUFRLENBQUMsQ0FBQTtJQUNyRCxPQUFPLEVBQUUsTUFBTSxFQUFFLFVBQVUsRUFBRSxPQUFPLEVBQUUsQ0FBQTtBQUN6QyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaGlzdG9yeXN0YXRlLCBwYXJ0aWNpcGFudCwgZXZlbnQgfSBmcm9tIFwiLi90eXBlc1wiO1xyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBhZGRFdmVudChzdGF0ZTogaGlzdG9yeXN0YXRlLCAuLi5wYXJ0aWNpcGFudHM6IHBhcnRpY2lwYW50W10pOiBoaXN0b3J5c3RhdGUge1xyXG5cclxuICAgLy8gRGlzY2FyZCBldmVudHMgYWZ0ZXIgdGhlIGN1cnJlbnQgb25lIGlmIHRoZXkgZXhpc3RcclxuICAgY29uc3QgY3VycmVudElkeCA9IHN0YXRlLmN1cnJlbnRJZHggKyAxLCBsYXN0SWR4ID0gY3VycmVudElkeDtcclxuICAgY29uc3QgcHJldmlvdXNFdmVudHM6IGV2ZW50W10gPSBzdGF0ZS5ldmVudHMuc2xpY2UoMCwgbGFzdElkeCk7XHJcblxyXG4gICAvLyBDcmVhdGUgbmV3IGV2ZW50XHJcbiAgIGNvbnN0IG5ld0V2ZW50OiBldmVudCA9IHBhcnRpY2lwYW50cy5tYXAocGFydGljaXBhbnQgPT4gKHtcclxuICAgICAgcGFydGljaXBhbnQsXHJcbiAgICAgIHN0YXRlOiBwYXJ0aWNpcGFudC5nZXRTdGF0ZSgpXHJcbiAgIH0pKTtcclxuXHJcbiAgIC8vIFJldHVybiBuZXcgc3RhdGVcclxuICAgY29uc3QgZXZlbnRzOiBldmVudFtdID0gWy4uLnByZXZpb3VzRXZlbnRzLCBuZXdFdmVudF1cclxuICAgcmV0dXJuIHsgZXZlbnRzLCBjdXJyZW50SWR4LCBsYXN0SWR4IH1cclxufVxyXG4iXX0=