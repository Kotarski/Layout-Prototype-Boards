"use strict";
var Circuit;
(function (Circuit) {
    var Component;
    (function (Component) {
        var _Power;
        (function (_Power) {
            _Power.loadSchematic = (raw) => {
                const name = (raw.name);
                const voltage = (raw.voltage || raw.value);
                const where = ValueCheck.where({ x: 0, y: 0 })(raw.where);
                const joints = (raw.joints || deriveJoints(voltage, where));
                return _Power.makeSchematic({ name, voltage, joints, });
            };
            const deriveJoints = (voltage, where) => {
                const baseJoints = (voltage < 0)
                    ? [{ x: 0, y: -10 }]
                    : (voltage > 0)
                        ? [{ x: 0, y: 10 }]
                        : [{ x: 0, y: -10 }];
                return vector(baseJoints).sumWith(where).vectors;
            };
        })(_Power = Component._Power || (Component._Power = {}));
    })(Component = Circuit.Component || (Circuit.Component = {}));
})(Circuit || (Circuit = {}));
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLWxvYWRTY2hlbWF0aWMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi90eXBlc2NyaXB0L2NpcmN1aXQvY29tcG9uZW50L19Qb3dlci8tbG9hZFNjaGVtYXRpYy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsSUFBVSxPQUFPLENBbUJoQjtBQW5CRCxXQUFVLE9BQU87SUFBQyxJQUFBLFNBQVMsQ0FtQjFCO0lBbkJpQixXQUFBLFNBQVM7UUFBQyxJQUFBLE1BQU0sQ0FtQmpDO1FBbkIyQixXQUFBLE1BQU07WUFDbEIsb0JBQWEsR0FBb0QsQ0FBQyxHQUFRLEVBQUUsRUFBRTtnQkFDeEYsTUFBTSxJQUFJLEdBQUcsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUM7Z0JBQ3hCLE1BQU0sT0FBTyxHQUFHLENBQUMsR0FBRyxDQUFDLE9BQU8sSUFBSSxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUM7Z0JBRTNDLE1BQU0sS0FBSyxHQUFHLFVBQVUsQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQztnQkFDMUQsTUFBTSxNQUFNLEdBQUcsQ0FBQyxHQUFHLENBQUMsTUFBTSxJQUFJLFlBQVksQ0FBQyxPQUFPLEVBQUUsS0FBSyxDQUFDLENBQUMsQ0FBQztnQkFFNUQsT0FBTyxPQUFBLGFBQWEsQ0FBQyxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsTUFBTSxHQUFHLENBQUMsQ0FBQztZQUNwRCxDQUFDLENBQUE7WUFFRCxNQUFNLFlBQVksR0FBRyxDQUFDLE9BQWUsRUFBRSxLQUFhLEVBQUUsRUFBRTtnQkFDckQsTUFBTSxVQUFVLEdBQUcsQ0FBQyxPQUFPLEdBQUcsQ0FBQyxDQUFDO29CQUM3QixDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLENBQUM7b0JBQ3BCLENBQUMsQ0FBQyxDQUFDLE9BQU8sR0FBRyxDQUFDLENBQUM7d0JBQ1osQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQzt3QkFDbkIsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUM7Z0JBQzNCLE9BQU8sTUFBTSxDQUFDLFVBQVUsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsQ0FBQyxPQUFPLENBQUM7WUFDcEQsQ0FBQyxDQUFBO1FBQ0osQ0FBQyxFQW5CMkIsTUFBTSxHQUFOLGdCQUFNLEtBQU4sZ0JBQU0sUUFtQmpDO0lBQUQsQ0FBQyxFQW5CaUIsU0FBUyxHQUFULGlCQUFTLEtBQVQsaUJBQVMsUUFtQjFCO0FBQUQsQ0FBQyxFQW5CUyxPQUFPLEtBQVAsT0FBTyxRQW1CaEIiLCJzb3VyY2VzQ29udGVudCI6WyJuYW1lc3BhY2UgQ2lyY3VpdC5Db21wb25lbnQuX1Bvd2VyIHtcclxuICAgZXhwb3J0IGNvbnN0IGxvYWRTY2hlbWF0aWM6IENvbXBvbmVudC5UeXBlcy5sb2FkRnVuY3Rpb248Q2xhc3Nlcy5TY2hlbWF0aWM+ID0gKHJhdzogYW55KSA9PiB7XHJcbiAgICAgIGNvbnN0IG5hbWUgPSAocmF3Lm5hbWUpO1xyXG4gICAgICBjb25zdCB2b2x0YWdlID0gKHJhdy52b2x0YWdlIHx8IHJhdy52YWx1ZSk7XHJcbiAgICAgIC8vSm9pbnRzIEJsb2NrXHJcbiAgICAgIGNvbnN0IHdoZXJlID0gVmFsdWVDaGVjay53aGVyZSh7IHg6IDAsIHk6IDAgfSkocmF3LndoZXJlKTtcclxuICAgICAgY29uc3Qgam9pbnRzID0gKHJhdy5qb2ludHMgfHwgZGVyaXZlSm9pbnRzKHZvbHRhZ2UsIHdoZXJlKSk7XHJcblxyXG4gICAgICByZXR1cm4gbWFrZVNjaGVtYXRpYyh7IG5hbWUsIHZvbHRhZ2UsIGpvaW50cywgfSk7XHJcbiAgIH1cclxuXHJcbiAgIGNvbnN0IGRlcml2ZUpvaW50cyA9ICh2b2x0YWdlOiBudW1iZXIsIHdoZXJlOiBWZWN0b3IpID0+IHtcclxuICAgICAgY29uc3QgYmFzZUpvaW50cyA9ICh2b2x0YWdlIDwgMClcclxuICAgICAgICAgPyBbeyB4OiAwLCB5OiAtMTAgfV0gLy8gbmVnYXRpdmVcclxuICAgICAgICAgOiAodm9sdGFnZSA+IDApXHJcbiAgICAgICAgICAgID8gW3sgeDogMCwgeTogMTAgfV0gLy8gcG9zaXRpdmVcclxuICAgICAgICAgICAgOiBbeyB4OiAwLCB5OiAtMTAgfV07IC8vIHplcm8gKGdyb3VuZClcclxuICAgICAgcmV0dXJuIHZlY3RvcihiYXNlSm9pbnRzKS5zdW1XaXRoKHdoZXJlKS52ZWN0b3JzO1xyXG4gICB9XHJcbn0iXX0=