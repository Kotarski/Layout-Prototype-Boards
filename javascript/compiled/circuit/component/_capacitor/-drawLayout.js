"use strict";
var Circuit;
(function (Circuit) {
    var Component;
    (function (Component) {
        var _Capacitor;
        (function (_Capacitor) {
            function drawLayout(instance) {
                const bodyGroup = Svg.Element.Group.make("body");
                const cathodeEnd = instance.joints[_Capacitor.INDEXCATHODE];
                const anodeEnd = instance.joints[_Capacitor.INDEXANODE];
                const centre = vector(cathodeEnd, anodeEnd).centre().vector;
                const rotation = vector(cathodeEnd).getAngleTo(anodeEnd);
                const text = Utility.getStandardForm(instance.capacitance, 'F');
                if (instance.isPolarised) {
                    $(bodyGroup.element).addClass("electrolytic");
                    const bodyArcEndPoint = 14 / Math.SQRT2;
                    const textArcEndPoint = 12.5 / Math.SQRT2;
                    const bodyPathString = "m14 0 A14 14 0 1 0 " + (bodyArcEndPoint) + " " + (bodyArcEndPoint);
                    const minusPathString = "m14 0 A14 14 0 0 1 " + (bodyArcEndPoint) + " " + (bodyArcEndPoint);
                    const pathForTextString = "m" + (textArcEndPoint) + " " + (textArcEndPoint) + "A12.5 12.5 0 1 1 12.5 0";
                    bodyGroup.append(Svg.Element.Circle.make({ x: 0, y: 0 }, 16, "highlight nofill"), Svg.Element.Path.make(bodyPathString, "body").rotate(157.5), Svg.Element.Path.make(minusPathString, "minus").rotate(157.5), Svg.Element.Text.make(text, { x: 1, y: 0 }, "text").followPath(pathForTextString).rotate(157.5));
                }
                else {
                    $(bodyGroup.element).addClass("ceramic");
                    bodyGroup.append(Svg.Element.Ellipse.make({ x: 0, y: 0 }, { x: 16, y: 8 }, "body highlight nofill"), Svg.Element.Text.make(text, { x: 0, y: 0 }, "text"));
                }
                return [
                    Svg.Element.Path.make([cathodeEnd, anodeEnd], "lead"),
                    bodyGroup.translate(centre).rotate(rotation)
                ];
            }
            _Capacitor.drawLayout = drawLayout;
        })(_Capacitor = Component._Capacitor || (Component._Capacitor = {}));
    })(Component = Circuit.Component || (Circuit.Component = {}));
})(Circuit || (Circuit = {}));
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLWRyYXdMYXlvdXQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi90eXBlc2NyaXB0L2NpcmN1aXQvY29tcG9uZW50L19jYXBhY2l0b3IvLWRyYXdMYXlvdXQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLElBQVUsT0FBTyxDQTJDaEI7QUEzQ0QsV0FBVSxPQUFPO0lBQUMsSUFBQSxTQUFTLENBMkMxQjtJQTNDaUIsV0FBQSxTQUFTO1FBQUMsSUFBQSxVQUFVLENBMkNyQztRQTNDMkIsV0FBQSxVQUFVO1lBQ25DLFNBQWdCLFVBQVUsQ0FBQyxRQUF3QjtnQkFFaEQsTUFBTSxTQUFTLEdBQUcsR0FBRyxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO2dCQUVqRCxNQUFNLFVBQVUsR0FBRyxRQUFRLENBQUMsTUFBTSxDQUFDLFdBQUEsWUFBWSxDQUFDLENBQUM7Z0JBQ2pELE1BQU0sUUFBUSxHQUFHLFFBQVEsQ0FBQyxNQUFNLENBQUMsV0FBQSxVQUFVLENBQUMsQ0FBQztnQkFFN0MsTUFBTSxNQUFNLEdBQUcsTUFBTSxDQUFDLFVBQVUsRUFBRSxRQUFRLENBQUMsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxNQUFNLENBQUM7Z0JBQzVELE1BQU0sUUFBUSxHQUFHLE1BQU0sQ0FBQyxVQUFVLENBQUMsQ0FBQyxVQUFVLENBQUMsUUFBUSxDQUFDLENBQUM7Z0JBQ3pELE1BQU0sSUFBSSxHQUFHLE9BQU8sQ0FBQyxlQUFlLENBQUMsUUFBUSxDQUFDLFdBQVcsRUFBRSxHQUFHLENBQUMsQ0FBQztnQkFFaEUsSUFBSSxRQUFRLENBQUMsV0FBVyxFQUFFO29CQUV2QixDQUFDLENBQUMsU0FBUyxDQUFDLE9BQU8sQ0FBQyxDQUFDLFFBQVEsQ0FBQyxjQUFjLENBQUMsQ0FBQztvQkFFOUMsTUFBTSxlQUFlLEdBQUcsRUFBRSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUM7b0JBQ3hDLE1BQU0sZUFBZSxHQUFHLElBQUksR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDO29CQUMxQyxNQUFNLGNBQWMsR0FBRyxxQkFBcUIsR0FBRyxDQUFDLGVBQWUsQ0FBQyxHQUFHLEdBQUcsR0FBRyxDQUFDLGVBQWUsQ0FBQyxDQUFDO29CQUMzRixNQUFNLGVBQWUsR0FBRyxxQkFBcUIsR0FBRyxDQUFDLGVBQWUsQ0FBQyxHQUFHLEdBQUcsR0FBRyxDQUFDLGVBQWUsQ0FBQyxDQUFDO29CQUM1RixNQUFNLGlCQUFpQixHQUFHLEdBQUcsR0FBRyxDQUFDLGVBQWUsQ0FBQyxHQUFHLEdBQUcsR0FBRyxDQUFDLGVBQWUsQ0FBQyxHQUFHLHlCQUF5QixDQUFDO29CQUV4RyxTQUFTLENBQUMsTUFBTSxDQUNiLEdBQUcsQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxrQkFBa0IsQ0FBQyxFQUMvRCxHQUFHLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsY0FBYyxFQUFFLE1BQU0sQ0FBQyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsRUFDM0QsR0FBRyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLGVBQWUsRUFBRSxPQUFPLENBQUMsQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLEVBQzdELEdBQUcsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxNQUFNLENBQUMsQ0FBQyxVQUFVLENBQUMsaUJBQWlCLENBQUMsQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQ2pHLENBQUM7aUJBQ0o7cUJBQU07b0JBRUosQ0FBQyxDQUFDLFNBQVMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxRQUFRLENBQUMsU0FBUyxDQUFDLENBQUM7b0JBRXpDLFNBQVMsQ0FBQyxNQUFNLENBQ2IsR0FBRyxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSx1QkFBdUIsQ0FBQyxFQUNsRixHQUFHLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsTUFBTSxDQUFDLENBQ3JELENBQUM7aUJBQ0o7Z0JBRUQsT0FBTztvQkFDSixHQUFHLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxVQUFVLEVBQUUsUUFBUSxDQUFDLEVBQUUsTUFBTSxDQUFDO29CQUNyRCxTQUFTLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUM7aUJBQzlDLENBQUM7WUFDTCxDQUFDO1lBekNlLHFCQUFVLGFBeUN6QixDQUFBO1FBQ0osQ0FBQyxFQTNDMkIsVUFBVSxHQUFWLG9CQUFVLEtBQVYsb0JBQVUsUUEyQ3JDO0lBQUQsQ0FBQyxFQTNDaUIsU0FBUyxHQUFULGlCQUFTLEtBQVQsaUJBQVMsUUEyQzFCO0FBQUQsQ0FBQyxFQTNDUyxPQUFPLEtBQVAsT0FBTyxRQTJDaEIiLCJzb3VyY2VzQ29udGVudCI6WyJuYW1lc3BhY2UgQ2lyY3VpdC5Db21wb25lbnQuX0NhcGFjaXRvciB7XHJcbiAgIGV4cG9ydCBmdW5jdGlvbiBkcmF3TGF5b3V0KGluc3RhbmNlOiBDbGFzc2VzLkxheW91dCkge1xyXG5cclxuICAgICAgY29uc3QgYm9keUdyb3VwID0gU3ZnLkVsZW1lbnQuR3JvdXAubWFrZShcImJvZHlcIik7XHJcblxyXG4gICAgICBjb25zdCBjYXRob2RlRW5kID0gaW5zdGFuY2Uuam9pbnRzW0lOREVYQ0FUSE9ERV07XHJcbiAgICAgIGNvbnN0IGFub2RlRW5kID0gaW5zdGFuY2Uuam9pbnRzW0lOREVYQU5PREVdO1xyXG5cclxuICAgICAgY29uc3QgY2VudHJlID0gdmVjdG9yKGNhdGhvZGVFbmQsIGFub2RlRW5kKS5jZW50cmUoKS52ZWN0b3I7XHJcbiAgICAgIGNvbnN0IHJvdGF0aW9uID0gdmVjdG9yKGNhdGhvZGVFbmQpLmdldEFuZ2xlVG8oYW5vZGVFbmQpO1xyXG4gICAgICBjb25zdCB0ZXh0ID0gVXRpbGl0eS5nZXRTdGFuZGFyZEZvcm0oaW5zdGFuY2UuY2FwYWNpdGFuY2UsICdGJyk7XHJcblxyXG4gICAgICBpZiAoaW5zdGFuY2UuaXNQb2xhcmlzZWQpIHtcclxuICAgICAgICAgLy8gRWxlY3Ryb2x5dGljXHJcbiAgICAgICAgICQoYm9keUdyb3VwLmVsZW1lbnQpLmFkZENsYXNzKFwiZWxlY3Ryb2x5dGljXCIpO1xyXG5cclxuICAgICAgICAgY29uc3QgYm9keUFyY0VuZFBvaW50ID0gMTQgLyBNYXRoLlNRUlQyO1xyXG4gICAgICAgICBjb25zdCB0ZXh0QXJjRW5kUG9pbnQgPSAxMi41IC8gTWF0aC5TUVJUMjtcclxuICAgICAgICAgY29uc3QgYm9keVBhdGhTdHJpbmcgPSBcIm0xNCAwIEExNCAxNCAwIDEgMCBcIiArIChib2R5QXJjRW5kUG9pbnQpICsgXCIgXCIgKyAoYm9keUFyY0VuZFBvaW50KTtcclxuICAgICAgICAgY29uc3QgbWludXNQYXRoU3RyaW5nID0gXCJtMTQgMCBBMTQgMTQgMCAwIDEgXCIgKyAoYm9keUFyY0VuZFBvaW50KSArIFwiIFwiICsgKGJvZHlBcmNFbmRQb2ludCk7XHJcbiAgICAgICAgIGNvbnN0IHBhdGhGb3JUZXh0U3RyaW5nID0gXCJtXCIgKyAodGV4dEFyY0VuZFBvaW50KSArIFwiIFwiICsgKHRleHRBcmNFbmRQb2ludCkgKyBcIkExMi41IDEyLjUgMCAxIDEgMTIuNSAwXCI7XHJcblxyXG4gICAgICAgICBib2R5R3JvdXAuYXBwZW5kKFxyXG4gICAgICAgICAgICBTdmcuRWxlbWVudC5DaXJjbGUubWFrZSh7IHg6IDAsIHk6IDAgfSwgMTYsIFwiaGlnaGxpZ2h0IG5vZmlsbFwiKSxcclxuICAgICAgICAgICAgU3ZnLkVsZW1lbnQuUGF0aC5tYWtlKGJvZHlQYXRoU3RyaW5nLCBcImJvZHlcIikucm90YXRlKDE1Ny41KSxcclxuICAgICAgICAgICAgU3ZnLkVsZW1lbnQuUGF0aC5tYWtlKG1pbnVzUGF0aFN0cmluZywgXCJtaW51c1wiKS5yb3RhdGUoMTU3LjUpLFxyXG4gICAgICAgICAgICBTdmcuRWxlbWVudC5UZXh0Lm1ha2UodGV4dCwgeyB4OiAxLCB5OiAwIH0sIFwidGV4dFwiKS5mb2xsb3dQYXRoKHBhdGhGb3JUZXh0U3RyaW5nKS5yb3RhdGUoMTU3LjUpXHJcbiAgICAgICAgICk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgIC8vIENlcmFtaWNcclxuICAgICAgICAgJChib2R5R3JvdXAuZWxlbWVudCkuYWRkQ2xhc3MoXCJjZXJhbWljXCIpO1xyXG5cclxuICAgICAgICAgYm9keUdyb3VwLmFwcGVuZChcclxuICAgICAgICAgICAgU3ZnLkVsZW1lbnQuRWxsaXBzZS5tYWtlKHsgeDogMCwgeTogMCB9LCB7IHg6IDE2LCB5OiA4IH0sIFwiYm9keSBoaWdobGlnaHQgbm9maWxsXCIpLFxyXG4gICAgICAgICAgICBTdmcuRWxlbWVudC5UZXh0Lm1ha2UodGV4dCwgeyB4OiAwLCB5OiAwIH0sIFwidGV4dFwiKVxyXG4gICAgICAgICApO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gW1xyXG4gICAgICAgICBTdmcuRWxlbWVudC5QYXRoLm1ha2UoW2NhdGhvZGVFbmQsIGFub2RlRW5kXSwgXCJsZWFkXCIpLFxyXG4gICAgICAgICBib2R5R3JvdXAudHJhbnNsYXRlKGNlbnRyZSkucm90YXRlKHJvdGF0aW9uKVxyXG4gICAgICBdO1xyXG4gICB9XHJcbn1cclxuIl19