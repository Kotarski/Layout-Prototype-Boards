{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./typescript/-vector.ts","webpack:///./typescript/_vector/-asPolar.ts","webpack:///./typescript/_vector/-centre.ts","webpack:///./typescript/_vector/-centreWith.ts","webpack:///./typescript/_vector/-getAngleTo.ts","webpack:///./typescript/_vector/-isCloseTo.ts","webpack:///./typescript/_vector/-isVector.ts","webpack:///./typescript/_vector/-rotate.ts","webpack:///./typescript/_vector/-scaleWith.ts","webpack:///./typescript/_vector/-snapToGrid.ts","webpack:///./typescript/_vector/-standardise.ts","webpack:///./typescript/_vector/-sum.ts","webpack:///./typescript/_vector/-sumWith.ts","webpack:///./typescript/circuit/+component.ts","webpack:///./typescript/circuit/+diagram.ts","webpack:///./typescript/circuit/_history/-addEvent.ts","webpack:///./typescript/circuit/_history/-factory.ts","webpack:///./typescript/circuit/_history/-init.ts","webpack:///./typescript/circuit/_history/-mergeEvents.ts","webpack:///./typescript/circuit/_history/-redoEvent.ts","webpack:///./typescript/circuit/_history/-undoEvent.ts","webpack:///./typescript/circuit/component/_bipolar/-drawLayout.ts","webpack:///./typescript/circuit/component/_bipolar/-drawSchematic.ts","webpack:///./typescript/circuit/component/_bipolar/-loadLayout.ts","webpack:///./typescript/circuit/component/_bipolar/-loadSchematic.ts","webpack:///./typescript/circuit/component/_bipolar/-makeLayout.ts","webpack:///./typescript/circuit/component/_bipolar/-makeSchematic.ts","webpack:///./typescript/circuit/component/_bipolar/-maps.ts","webpack:///./typescript/circuit/component/_bipolar/constants.ts","webpack:///./typescript/circuit/component/_bipolar/~classes.ts","webpack:///./typescript/circuit/component/_breadboard/-drawLarge.ts","webpack:///./typescript/circuit/component/_breadboard/-drawSmall.ts","webpack:///./typescript/circuit/component/_breadboard/-loadLarge.ts","webpack:///./typescript/circuit/component/_breadboard/-loadSmall.ts","webpack:///./typescript/circuit/component/_breadboard/-makeLarge.ts","webpack:///./typescript/circuit/component/_breadboard/-makeSmall.ts","webpack:///./typescript/circuit/component/_breadboard/-makeTracks.ts","webpack:///./typescript/circuit/component/_breadboard/-maps.ts","webpack:///./typescript/circuit/component/_breadboard/constants.ts","webpack:///./typescript/circuit/component/_breadboard/~classes.ts","webpack:///./typescript/circuit/component/_capacitor/-drawLayout.ts","webpack:///./typescript/circuit/component/_capacitor/-drawSchematic.ts","webpack:///./typescript/circuit/component/_capacitor/-loadLayout.ts","webpack:///./typescript/circuit/component/_capacitor/-loadSchematic.ts","webpack:///./typescript/circuit/component/_capacitor/-makeLayout.ts","webpack:///./typescript/circuit/component/_capacitor/-makeSchematic.ts","webpack:///./typescript/circuit/component/_capacitor/-maps.ts","webpack:///./typescript/circuit/component/_capacitor/constants.ts","webpack:///./typescript/circuit/component/_capacitor/~classes.ts","webpack:///./typescript/circuit/component/_diode/-drawLayout.ts","webpack:///./typescript/circuit/component/_diode/-drawSchematic.ts","webpack:///./typescript/circuit/component/_diode/-loadLayout.ts","webpack:///./typescript/circuit/component/_diode/-loadSchematic.ts","webpack:///./typescript/circuit/component/_diode/-makeLayout.ts","webpack:///./typescript/circuit/component/_diode/-makeSchematic.ts","webpack:///./typescript/circuit/component/_diode/-maps.ts","webpack:///./typescript/circuit/component/_diode/constants.ts","webpack:///./typescript/circuit/component/_diode/~classes.ts","webpack:///./typescript/circuit/component/_inductor/-drawLayout.ts","webpack:///./typescript/circuit/component/_inductor/-drawSchematic.ts","webpack:///./typescript/circuit/component/_inductor/-loadLayout.ts","webpack:///./typescript/circuit/component/_inductor/-loadSchematic.ts","webpack:///./typescript/circuit/component/_inductor/-makeLayout.ts","webpack:///./typescript/circuit/component/_inductor/-makeSchematic.ts","webpack:///./typescript/circuit/component/_inductor/-maps.ts","webpack:///./typescript/circuit/component/_inductor/constants.ts","webpack:///./typescript/circuit/component/_inductor/~classes.ts","webpack:///./typescript/circuit/component/_opAmp/-drawLayout.ts","webpack:///./typescript/circuit/component/_opAmp/-drawSchematic.ts","webpack:///./typescript/circuit/component/_opAmp/-loadLayout.ts","webpack:///./typescript/circuit/component/_opAmp/-loadSchematic.ts","webpack:///./typescript/circuit/component/_opAmp/-makeLayout.ts","webpack:///./typescript/circuit/component/_opAmp/-makeSchematic.ts","webpack:///./typescript/circuit/component/_opAmp/-maps.ts","webpack:///./typescript/circuit/component/_opAmp/constants.ts","webpack:///./typescript/circuit/component/_opAmp/~classes.ts","webpack:///./typescript/circuit/component/_power/-drawLayout.ts","webpack:///./typescript/circuit/component/_power/-drawSchematic.ts","webpack:///./typescript/circuit/component/_power/-loadLayout.ts","webpack:///./typescript/circuit/component/_power/-loadSchematic.ts","webpack:///./typescript/circuit/component/_power/-makeLayout.ts","webpack:///./typescript/circuit/component/_power/-makeSchematic.ts","webpack:///./typescript/circuit/component/_power/-maps.ts","webpack:///./typescript/circuit/component/_power/constants.ts","webpack:///./typescript/circuit/component/_power/~classes.ts","webpack:///./typescript/circuit/component/_resistor/-drawLayout.ts","webpack:///./typescript/circuit/component/_resistor/-drawSchematic.ts","webpack:///./typescript/circuit/component/_resistor/-loadLayout.ts","webpack:///./typescript/circuit/component/_resistor/-loadSchematic.ts","webpack:///./typescript/circuit/component/_resistor/-makeLayout.ts","webpack:///./typescript/circuit/component/_resistor/-makeSchematic.ts","webpack:///./typescript/circuit/component/_resistor/-maps.ts","webpack:///./typescript/circuit/component/_resistor/constants.ts","webpack:///./typescript/circuit/component/_resistor/~classes.ts","webpack:///./typescript/circuit/component/_stripboard/-loadLayout.ts","webpack:///./typescript/circuit/component/_stripboard/-make-tracks.ts","webpack:///./typescript/circuit/component/_stripboard/-makeLayout.ts","webpack:///./typescript/circuit/component/_stripboard/-maps.ts","webpack:///./typescript/circuit/component/_stripboard/~classes.ts","webpack:///./typescript/circuit/component/_track/-drawLayout.ts","webpack:///./typescript/circuit/component/_track/-loadLayout.ts","webpack:///./typescript/circuit/component/_track/-makeLayout.ts","webpack:///./typescript/circuit/component/_track/-maps.ts","webpack:///./typescript/circuit/component/_track/constants.ts","webpack:///./typescript/circuit/component/_track/~classes.ts","webpack:///./typescript/circuit/component/_wire/-drawLayout.ts","webpack:///./typescript/circuit/component/_wire/-drawSchematic.ts","webpack:///./typescript/circuit/component/_wire/-loadLayout.ts","webpack:///./typescript/circuit/component/_wire/-loadSchematic.ts","webpack:///./typescript/circuit/component/_wire/-makeLayout.ts","webpack:///./typescript/circuit/component/_wire/-makeSchematic.ts","webpack:///./typescript/circuit/component/_wire/-maps.ts","webpack:///./typescript/circuit/component/_wire/~classes.ts","webpack:///./typescript/circuit/component/addins/board.ts","webpack:///./typescript/circuit/component/addins/connectionHighlights.ts","webpack:///./typescript/circuit/component/addins/draggable.ts","webpack:///./typescript/circuit/component/addins/extendable.ts","webpack:///./typescript/circuit/component/addins/graphical.ts","webpack:///./typescript/circuit/component/addins/junctions.ts","webpack:///./typescript/circuit/component/addins/recolorable.ts","webpack:///./typescript/circuit/component/addins/rotatable.ts","webpack:///./typescript/circuit/component/addins/selectable.ts","webpack:///./typescript/circuit/component/addins/wireCreation.ts","webpack:///./typescript/circuit/component/~valueCheck.ts","webpack:///./typescript/circuit/events.ts","webpack:///./typescript/circuit/generics/-getComponentConnections.ts","webpack:///./typescript/circuit/generics/-getMaker.ts","webpack:///./typescript/circuit/generics/-loadObjectWithDefaults.ts","webpack:///./typescript/circuit/generics/-makeConnector.ts","webpack:///./typescript/circuit/generics/-makeMap.ts","webpack:///./typescript/circuit/history.ts","webpack:///./typescript/circuit/manifest.ts","webpack:///./typescript/circuit/mappings.ts","webpack:///./typescript/fileIO/load/-handleFileInputEvent.ts","webpack:///./typescript/fileIO/load/dasim/-buildComponents.ts","webpack:///./typescript/fileIO/load/dasim/-filterInvalidComponents.ts","webpack:///./typescript/fileIO/load/dasim/-getRawComponentsFromString.ts","webpack:///./typescript/fileIO/load/dasim/-getStringFromFileInput.ts","webpack:///./typescript/fileIO/save/-createFile.ts","webpack:///./typescript/fileIO/save/-handleFileSaveEvent.ts","webpack:///./typescript/main.ts","webpack:///./typescript/svg/+element.ts","webpack:///./typescript/svg/+root.ts","webpack:///./typescript/svg/-addTransform.ts","webpack:///./typescript/svg/-makeMatrix.ts","webpack:///./typescript/svg/-svg.ts","webpack:///./typescript/svg/addins/draggable.ts","webpack:///./typescript/svg/addins/scaleable.ts","webpack:///./typescript/svg/element/+circle.ts","webpack:///./typescript/svg/element/+ellipse.ts","webpack:///./typescript/svg/element/+group.ts","webpack:///./typescript/svg/element/+line.ts","webpack:///./typescript/svg/element/+path.ts","webpack:///./typescript/svg/element/+rect.ts","webpack:///./typescript/svg/element/+svg.ts","webpack:///./typescript/svg/element/+text.ts","webpack:///./typescript/svg/element/groups/+dip.ts","webpack:///./typescript/svg/element/groups/+textSequence.ts","webpack:///./typescript/ui/-init.ts","webpack:///./typescript/ui/~events.ts","webpack:///./typescript/utility/-cumulativeSum.ts","webpack:///./typescript/utility/-deepCopy.ts","webpack:///./typescript/utility/-degreesToRadians.ts","webpack:///./typescript/utility/-getStandardForm.ts","webpack:///./typescript/utility/-is.ts","webpack:///./typescript/utility/-isNot.ts","webpack:///./typescript/utility/-isUnaryMap.ts","webpack:///./typescript/utility/-radiansToDegrees.ts","webpack:///./typescript/utility/-split.ts","webpack:///./typescript/utility/-testType.ts","webpack:///./typescript/utility/-tuple.ts","webpack:///./typescript/utility/-validateType.ts","webpack:///./typescript/utility/polar/-toVector.ts","webpack:///./typescript/utility/~curry.ts","webpack:///./typescript/utility/~flatten.ts","webpack:///./typescript/utility/~insert.ts","webpack:///./typescript/~active.ts","webpack:///./typescript/~constants.ts","webpack:///./typescript/~nodeElements.ts"],"names":[],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./typescript/main.ts\");\n","import asPolar from \"./_vector/-asPolar\";\r\nimport centre from \"./_vector/-centre\";\r\nimport centreWith from \"./_vector/-centreWith\";\r\nimport getAngleTo from \"./_vector/-getAngleTo\";\r\nimport isCloseTo from \"./_vector/-isCloseTo\";\r\nimport { isVector, isVectorArray } from \"./_vector/-isVector\"\r\nimport { rotateM, rotateS } from \"./_vector/-rotate\";\r\nimport { scaleMapS, scaleWithM, scaleWithS } from \"./_vector/-scaleWith\";\r\nimport { snapToGridM, snapToGridS } from \"./_vector/-snapToGrid\";\r\nimport standardise from \"./_vector/-standardise\";\r\nimport sum from \"./_vector/-sum\";\r\nimport { sumWithM, sumWithS } from \"./_vector/-sumWith\";\r\n\r\nexport type Vector = { x: number, y: number };\r\nexport type LVector = Vector;\r\nexport type UVector = { X: number, Y: number };\r\nexport type AVector = [number, number];\r\nexport type AnyVector = LVector | UVector | AVector;\r\n\r\nconst singleExtension = (inVector: Vector) => {\r\n   return {\r\n      vector: inVector,\r\n      x: inVector.x,\r\n      y: inVector.y,\r\n      getAngleTo: getAngleTo(inVector),\r\n      asPolar: asPolar(inVector),\r\n      isCloseTo: isCloseTo(inVector),\r\n\r\n      sumWith: sumWithS(inVector),\r\n      scaleWith: scaleWithS(inVector),\r\n      scaleMap: scaleMapS(inVector),\r\n      centreWith: centreWith(inVector),\r\n      rotate: rotateS(inVector),\r\n      snapToGrid: snapToGridS(inVector)\r\n   }\r\n}\r\n\r\nconst multiExtension = (inVectors: Vector[]) => {\r\n   return {\r\n      vectors: inVectors,\r\n      sum: sum(inVectors),\r\n      sumWith: sumWithM(inVectors),\r\n      scaleWith: scaleWithM(inVectors),\r\n      rotate: rotateM(inVectors),\r\n      centre: centre(inVectors),\r\n      snapToGrid: snapToGridM(inVectors)\r\n   }\r\n}\r\n\r\ntype SingleVectorInterface = ReturnType<typeof singleExtension>;\r\ntype MultiVectorInterface = ReturnType<typeof multiExtension>;\r\n\r\nfunction vectorFunction(inVectors: AnyVector): SingleVectorInterface;\r\nfunction vectorFunction(inVectors: number): SingleVectorInterface;\r\nfunction vectorFunction(inVectors: AnyVector[]): MultiVectorInterface;\r\nfunction vectorFunction(inVectors: AnyVector, ...moreVectors: AnyVector[]): MultiVectorInterface;\r\nfunction vectorFunction<A extends AnyVector | AnyVector[] | number>(inVectors: A, ...moreVectors: AnyVector[]\r\n): SingleVectorInterface | MultiVectorInterface {\r\n   // const vectorsAsArray = ((inVectors instanceof Array) ? inVectors : [inVectors]) as Array<T>;\r\n   // const moreVectorsAsArray = (moreVectors !== undefined) ? moreVectors : [];\r\n\r\n   const vCopy = standardise(inVectors, ...moreVectors);\r\n\r\n   const ext = (vCopy instanceof Array)\r\n      ? multiExtension(vCopy)\r\n      : singleExtension(vCopy);\r\n\r\n\r\n   return Object.assign({}, ext) as (\r\n      ((A & typeof moreVectors) extends Array<AnyVector> ?\r\n         MultiVectorInterface :\r\n         SingleVectorInterface)\r\n   );\r\n}\r\nconst vectorObject = {\r\n   sumWith: sumWithS,\r\n   scaleWith: scaleWithS,\r\n   getAngleTo: getAngleTo,\r\n   isCloseTo: isCloseTo,\r\n   centreWith: centreWith,\r\n   rotate: rotateS,\r\n   snapToGrid: snapToGridS,\r\n   asPolar: asPolar,\r\n   standardise: standardise,\r\n   isVector: isVector,\r\n   isVectorArray: isVectorArray,\r\n}\r\n\r\nconst vector = Object.assign(vectorFunction, vectorObject);\r\n\r\nexport default vector;\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import { Vector } from \"../-vector\";\r\nimport radiansToDegrees from \"../utility/-radiansToDegrees\"\r\nexport default function asPolar<T extends Vector>(inVector: T) {\r\n   return () => {\r\n      return {\r\n         radius: Math.sqrt(Math.pow(inVector.x, 2) + Math.pow(inVector.y, 2)),\r\n         angle: radiansToDegrees(Math.atan2(inVector.y, inVector.x))\r\n      };\r\n   }\r\n}\r\n\r\n","import vector, { Vector } from \"../-vector\";\r\nexport default function centre(inVectors: Vector[]) {\r\n   return () => {\r\n      let sum: Vector = { x: 0, y: 0 };\r\n      let count = 0;\r\n\r\n      inVectors.forEach(inVector => {\r\n         count += 1;\r\n         sum.x += inVector.x;\r\n         sum.y += inVector.y;\r\n      })\r\n\r\n      const mean = {\r\n         x: sum.x / count,\r\n         y: sum.y / count\r\n      }\r\n\r\n      return vector(mean)\r\n   }\r\n}\r\n\r\n\r\n\r\n","import vector, { Vector } from \"../-vector\";\r\n// TODO, THERE IS SOMETHING WRONG HERE\r\nexport default function centreWith<T extends Vector>(inVector: T) {\r\n   return (...vectors: (Vector | Vector[])[]) => {\r\n      let sum: Vector = { x: 0, y: 0 };\r\n      let count = 0;\r\n      vectors.forEach(vectorSet => {\r\n         let asArray = vectorSet instanceof Array ? vectorSet : [vectorSet]\r\n         asArray.forEach(vector => {\r\n            count += 1;\r\n            sum.x += vector.x;\r\n            sum.y += vector.y;\r\n         });\r\n      })\r\n\r\n      const mean = {\r\n         x: sum.x / count,\r\n         y: sum.y / count\r\n      }\r\n\r\n      return vector(mean)\r\n   }\r\n}\r\n\r\n\r\n\r\n","import { Vector } from \"../-vector\";\r\nexport default function getAngleTo<T extends Vector>(inVector: T) {\r\n   return (compareVector: Vector) => {\r\n      return Math.atan2(compareVector.y - inVector.y, compareVector.x - inVector.x) * 180 / Math.PI;\r\n   }\r\n}\r\n\r\n","import { Vector } from \"../-vector\";\r\nexport default function isCloseTo(inVector: Vector) {\r\n   return (compareVector: Vector, boundary: number = 5) => {\r\n\r\n      const vectorXisClose = (Math.abs(inVector.x - compareVector.x) < boundary);\r\n      const vectorYisClose = (Math.abs(inVector.y - compareVector.y) < boundary);\r\n      return (vectorXisClose && vectorYisClose)\r\n   }\r\n}\r\n","import { Vector, AnyVector, UVector } from \"../-vector\";\r\n\r\nexport function isVector(inVector: any): inVector is AnyVector {\r\n   return inVector && (isLVector(inVector) || isUVector(inVector));\r\n}\r\n\r\nexport function isVectorArray(inVectors: any): inVectors is AnyVector[] {\r\n   return (\r\n      inVectors instanceof Array &&\r\n      inVectors.every(isVector)\r\n   );\r\n}\r\n\r\nexport function isLVector(inVector: any): inVector is Vector {\r\n   return (\r\n      (typeof inVector.x === 'number') &&\r\n      (typeof inVector.y === 'number')\r\n   );\r\n}\r\n\r\nexport function isUVector(inVector: any): inVector is UVector {\r\n   return (\r\n      (typeof inVector.X === 'number') &&\r\n      (typeof inVector.Y === 'number')\r\n   );\r\n}\r\n","import vector, { Vector } from \"../-vector\";\r\n\r\nexport function rotateS(inVector: Vector) {\r\n   return (angle: number) => {\r\n      return vector(curriedRotate(angle)(inVector));\r\n   }\r\n}\r\n\r\nexport function rotateM(inVectors: Vector[]) {\r\n   return (angle: number) => {\r\n      return vector(inVectors.map(curriedRotate(angle)));\r\n   }\r\n}\r\n\r\nfunction curriedRotate(angle: number) {\r\n   const radians = (Math.PI / 180) * angle;\r\n   const cos = Math.cos(radians);\r\n   const sin = Math.sin(radians);\r\n   return (inVector: Vector): Vector => {\r\n      return {\r\n         x: (cos * inVector.x) - (sin * inVector.y),\r\n         y: (cos * inVector.y) + (sin * inVector.x)\r\n      };\r\n   }\r\n}\r\n","import vector, { Vector } from \"../-vector\";\r\ntype PartialVector = Partial<Vector>;\r\n\r\nexport function scaleWithS(inVector: Vector) {\r\n   return (scaleIn: PartialVector | number) => {\r\n      const scaleVector = (typeof scaleIn === \"number\") ? { x: scaleIn, y: scaleIn } : scaleIn;\r\n      return vector(scale(inVector, scaleVector));\r\n   };\r\n}\r\n\r\nexport function scaleMapS(inVector: Vector) {\r\n   return (scaleIns: (PartialVector | number)[]) => {\r\n      return vector(scaleIns.map(scaleIn => {\r\n         const scaleVector = (typeof scaleIn === \"number\") ? { x: scaleIn, y: scaleIn } : scaleIn;\r\n         return scale(inVector, scaleVector);\r\n      }))\r\n   };\r\n}\r\n\r\nexport function scaleWithM(inVectors: Vector[]) {\r\n   return (scaleIn: PartialVector | number) => {\r\n      const scaleVector = (typeof scaleIn === \"number\") ? { x: scaleIn, y: scaleIn } : scaleIn;\r\n      return vector(inVectors.map(a => {\r\n         return scale(a, scaleVector);\r\n      }));\r\n   }\r\n}\r\n\r\nfunction scale(a: Vector, b: PartialVector) {\r\n   let bV: Vector = {\r\n      x: ((b.x !== undefined) ? b.x : 1),\r\n      y: ((b.y !== undefined) ? b.y : 1)\r\n   }\r\n   return {\r\n      x: a.x * bV.x,\r\n      y: a.y * bV.y\r\n   }\r\n}\r\n\r\n\r\n","import vector, { Vector } from \"../-vector\";\r\nexport function snapToGridS<T extends Vector>(inVector: T) {\r\n   return (grid: Vector = { x: 10, y: 10 }) => {\r\n      return vector({\r\n         x: Math.round(inVector.x / (grid.x)) * (grid.x),\r\n         y: Math.round(inVector.y / (grid.y)) * (grid.y)\r\n      })\r\n   }\r\n}\r\n\r\nexport function snapToGridM<T extends Vector>(inVectors: T[]) {\r\n   return (grid: Vector = { x: 10, y: 10 }) => {\r\n      return vector(inVectors.map(inVector => ({\r\n         x: Math.round(inVector.x / (grid.x)) * (grid.x),\r\n         y: Math.round(inVector.y / (grid.y)) * (grid.y)\r\n      })));\r\n   };\r\n}\r\n\r\n\r\n","import { Vector, AnyVector } from \"../-vector\";\r\nimport { isLVector, isUVector, isVectorArray } from \"./-isVector\"\r\n\r\nexport default function standardise(inVector: AnyVector): Vector;\r\nexport default function standardise(inVector: number): Vector;\r\nexport default function standardise(inVectors: AnyVector[]): Vector[];\r\nexport default function standardise(inVector: AnyVector, ...moreVectors: AnyVector[]): Vector[];\r\nexport default function standardise(inVectors: AnyVector | AnyVector[] | number, ...moreVectors: AnyVector[]): Vector | Vector[];\r\nexport default function standardise(inVectors: AnyVector | AnyVector[] | number, ...moreVectors: AnyVector[]): Vector | Vector[] {\r\n\r\n   if (typeof inVectors === \"number\") {\r\n      return { x: inVectors, y: inVectors };\r\n   }\r\n\r\n   const vectorsAsArray = ((isVectorArray(inVectors)) ? inVectors : [inVectors]) as Array<AnyVector>;\r\n   const moreVectorsAsArray = ((moreVectors !== undefined) ? moreVectors : []) as Array<AnyVector>;\r\n\r\n   const standardised = (vectorsAsArray.concat(moreVectorsAsArray)).map(inVector => {\r\n      if (isLVector(inVector)) {\r\n         return { x: inVector.x, y: inVector.y };\r\n      } else if (isUVector(inVector)) {\r\n         return { x: inVector.X, y: inVector.Y };\r\n      } else if (inVector instanceof Array && (typeof inVector[0] === \"number\") && (typeof inVector[1] === \"number\")) {\r\n         return { x: inVector[0], y: inVector[1] };\r\n      } else {\r\n            //TODO \r\n            /*LOGSTART*/console.error(\"IS NOT A VECTOR\")/*LOGEND*/\r\n         return { x: NaN, y: NaN };\r\n      }\r\n   });\r\n\r\n   if (standardised.length > 1 || isVectorArray(inVectors)) {\r\n      return standardised;\r\n   } else {\r\n      return standardised[0]\r\n   }\r\n}\r\n\r\n","import vector, { Vector } from \"../-vector\";\r\nexport default function sum(inVectors: Vector[]) {\r\n   return () => {\r\n      let sum: Vector = { x: 0, y: 0 };\r\n      inVectors.forEach(inVector => {\r\n         sum.x += inVector.x;\r\n         sum.y += inVector.y;\r\n      })\r\n      return vector(sum);\r\n   }\r\n}\r\n\r\n","import vector, { Vector } from \"../-vector\";\r\n\r\nexport function sumWithS(inVector: Vector) {\r\n   return (...sumVectors: Partial<Vector>[]) => {\r\n      return vector(add(inVector, sum(sumVectors)));\r\n   };\r\n}\r\n\r\nexport function sumWithM(inVectors: Vector[]) {\r\n   return (...sumVectors: Partial<Vector>[]) => {\r\n      let b = sum(sumVectors)\r\n      return vector(inVectors.map(a => {\r\n         return add(a, b);\r\n      }));\r\n   }\r\n}\r\n\r\nfunction add(a: Partial<Vector>, b: Partial<Vector>) {\r\n   return {\r\n      x: (a.x || 0) + (b.x || 0),\r\n      y: (a.y || 0) + (b.y || 0)\r\n   }\r\n}\r\n\r\nfunction sum(inVectors: Partial<Vector>[]) {\r\n   let sum: Vector = { x: 0, y: 0 };\r\n   inVectors.forEach(inVector => {\r\n      sum = add(sum, inVector)\r\n   });\r\n   return sum;\r\n}\r\n\r\n\r\n","import { Vector } from \"../-vector\";\r\nimport getMaker from \"./generics/-getMaker\"\r\nexport namespace Types {\r\n   export interface properties {\r\n      name: string;\r\n   };\r\n\r\n   export interface state {\r\n      disabled: boolean;\r\n   };\r\n\r\n   export interface insertionFunction {\r\n      (group: SVGGElement, target: SVGGElement, ...any: any[]): void;\r\n   }\r\n\r\n   export interface loadFunction<R extends Component | Component[]= Component> {\r\n      (raw: any): R;\r\n   }\r\n\r\n   export interface connectionFunction {\r\n      (component: Component): connector[][];\r\n   }\r\n\r\n   export interface map {\r\n      savename: string;\r\n      diagramType: \"layout\" | \"schematic\";\r\n      instance: { new(values: any): Component };\r\n      make: ReturnType<typeof getMaker>;\r\n      load: Types.loadFunction<Component | Component[]>;\r\n      correspondsTo?: map;\r\n      isUnique?: boolean;\r\n      isBoard?: boolean;\r\n   }\r\n\r\n   export type connectorTypes = \"pin\" | \"hole\" | \"brokenhole\" | \"node\";\r\n   export interface connector {\r\n      name: string;\r\n      type: connectorTypes;\r\n      point: Vector;\r\n      component: Component;\r\n      symbol?: string;\r\n   }\r\n\r\n   export interface hole extends connector {\r\n      type: \"hole\" | \"brokenhole\"\r\n   };\r\n\r\n   export interface node extends connector {\r\n      type: \"node\"\r\n   };\r\n\r\n}\r\n\r\nimport { make as makeGroup } from \"../svg/element/+group\";\r\nexport default abstract class Component implements Types.properties, Types.state {\r\n   name: string;\r\n   group = makeGroup();\r\n   connectorSets: Types.connector[][] = [];\r\n   disabled: boolean;\r\n\r\n   constructor(values: Types.properties & Types.state) {\r\n      this.name = values.name;\r\n      this.disabled = values.disabled || false;\r\n   }\r\n\r\n   abstract getProperties(): Types.properties;\r\n\r\n   abstract getState(): Types.state;\r\n\r\n\r\n   abstract draw(): void;\r\n\r\n   /** Builds and draws the components connectors */\r\n   abstract makeConnectors(): void;\r\n\r\n   abstract insertInto(element?: SVGGraphicsElement): void;\r\n\r\n   /** Gets other components that this component is connected to, or that\r\n    * the component specified in \"from\" is connected to via this component.\r\n   */\r\n   abstract getConnections(): Types.connector[][][];\r\n\r\n   /** ...\r\n   */\r\n   abstract transferFunction(from: Types.connector): Types.connector[];\r\n}\r\n\r\n\r\n","//TODO FOLDER STRUCTURE\r\nimport Root from \"../svg/+root\"\r\n\r\nexport default class Diagram {\r\n   // For Self\r\n   root = new Root();\r\n   group = this.root.group;\r\n\r\n   // Make and draw this\r\n   constructor(node: HTMLDivElement) {\r\n      this.root.draw(node);\r\n   }\r\n\r\n}\r\n","import { historystate, participant, event } from \"./types\";\r\nexport default function addEvent(state: historystate, ...participants: participant[]): historystate {\r\n\r\n   // Discard events after the current one if they exist\r\n   const currentIdx = state.currentIdx + 1, lastIdx = currentIdx;\r\n   const previousEvents: event[] = state.events.slice(0, lastIdx);\r\n\r\n   // Create new event\r\n   const newEvent: event = participants.map(participant => ({\r\n      participant,\r\n      state: participant.getState()\r\n   }));\r\n\r\n   // Return new state\r\n   const events: event[] = [...previousEvents, newEvent]\r\n   return { events, currentIdx, lastIdx }\r\n}\r\n","import init from \"./-init\";\r\nimport addEvent from \"./-addEvent\";\r\nimport undoEvent from \"./-undoEvent\";\r\nimport redoEvent from \"./-redoEvent\";\r\nimport mergeEvents from \"./-mergeEvents\";\r\nimport { historystate, participant } from \"./types\";\r\n\r\nexport default function factory(...initialParticipants: participant[]) {\r\n   let state = init(...initialParticipants);\r\n   return {\r\n      reInit(...participants: participant[]) {\r\n         state = init(...participants);\r\n      },\r\n      add(...participants: participant[]) {\r\n         state = addEvent(state, ...participants);\r\n      },\r\n      undo() {\r\n         state = undoEvent(state);\r\n      },\r\n      redo() {\r\n         state = redoEvent(state);\r\n      },\r\n      mergeLast(mergeCount: number = 1) {\r\n         state = mergeEvents(state, mergeCount);\r\n      },\r\n      getState(): historystate {\r\n         return { ...state, events: [...state.events] };\r\n      }\r\n   }\r\n}\r\n\r\n","import { historystate, participant, event } from \"./types\";\r\nimport addEvent from \"./-addEvent\";\r\nexport default function init(...participants: participant[]): historystate {\r\n   // Clear events, and reset indices\r\n   const events: event[] = [];\r\n   const currentIdx = -1, lastIdx = -1;\r\n   // Add an initial event\r\n   return addEvent({ events, currentIdx, lastIdx }, ...participants);\r\n}\r\n","import { historystate, event } from \"./types\";\r\nexport default function mergeEvents(state: historystate, mergeCount: number): historystate {\r\n   const mergeStartIdx = Math.max(0, state.lastIdx - mergeCount);\r\n   const eventsToMerge = state.events.slice(mergeStartIdx);\r\n   const previousEvents = state.events.slice(0, mergeStartIdx);\r\n\r\n   const mergedEvent: event = [];\r\n   eventsToMerge.forEach(event => {\r\n      event.forEach(dev => {\r\n         if (!mergedEvent.some(mDev => mDev.participant === dev.participant)) {\r\n            mergedEvent.push(dev);\r\n         }\r\n      })\r\n   });\r\n\r\n   const events = [...previousEvents, mergedEvent]\r\n   const lastIdx = mergeStartIdx;\r\n   const currentIdx = (state.currentIdx > state.lastIdx)\r\n      ? lastIdx\r\n      : state.currentIdx;\r\n\r\n   return { events, currentIdx, lastIdx }\r\n}\r\n\r\n","import { historystate, event } from \"./types\";\r\n//TODO: Remove Events dependancy\r\nimport Events from \"../events\";\r\nexport default function redoEvent(state: historystate): historystate {\r\n   if (state.currentIdx >= state.lastIdx) return state;\r\n\r\n   // Go forward one event\r\n   const currentIdx = state.currentIdx + 1;\r\n\r\n   const currentEvent = state.events[currentIdx];\r\n\r\n   // Get the current state of all participants that will be reverted\r\n   const undoEvent = currentEvent.map(development => development.participant).map(participant => ({\r\n      participant,\r\n      state: participant.getState()\r\n   }));\r\n\r\n   // Unrevert the current participants\r\n   currentEvent.forEach(development => {\r\n      Object.assign(development.participant, development.state);\r\n      if (development.participant.group) {\r\n         $(development.participant.group.element).trigger(Events.draw);\r\n      }\r\n   });\r\n\r\n   // Replace the redone event with an event to undo it\r\n   const previousEvents: event[] = state.events.slice(0, currentIdx);\r\n   const nextEvents: event[] = state.events.slice(currentIdx + 1);\r\n   const events = [...previousEvents, undoEvent, ...nextEvents];\r\n\r\n   return { events, currentIdx, lastIdx: state.lastIdx }\r\n}\r\n","import { historystate, event } from \"./types\";\r\n//import * as $ from 'jquery';\r\n//TODO: Remove Events dependancy\r\nimport Events from \"../events\";\r\nexport default function undoEvent(state: historystate): historystate {\r\n   if (state.currentIdx <= 0) return state;\r\n\r\n   const currentEvent = state.events[state.currentIdx];\r\n\r\n   // Get the current state of all participants that will be reverted\r\n   const redoEvent = currentEvent.map(development => development.participant).map(participant => ({\r\n      participant,\r\n      state: participant.getState()\r\n   }));\r\n\r\n   // Revert the current participants\r\n   currentEvent.forEach(development => {\r\n      Object.assign(development.participant, development.state);\r\n      if (development.participant.group) {\r\n         $(development.participant.group.element).trigger(Events.draw);\r\n      }\r\n   });\r\n\r\n   // Replace the undone event with an event to redo it\r\n   const previousEvents: event[] = state.events.slice(0, state.currentIdx);\r\n   const nextEvents: event[] = state.events.slice(state.currentIdx + 1);\r\n   const events = [...previousEvents, redoEvent, ...nextEvents];\r\n\r\n   // Go back one event\r\n   const currentIdx = state.currentIdx - 1;\r\n\r\n   return { events, currentIdx, lastIdx: state.lastIdx }\r\n}\r\n\r\n\r\n","import { BipolarLayout } from \"./~classes\";\r\nimport vector, { Vector } from \"../../../-vector\";\r\nimport { INDEXBASE, INDEXCOLLECTOR, INDEXEMITTER } from \"./constants\";\r\n\r\nimport { make as makePath } from \"../../../svg/element/+path\";\r\nimport { make as makeText } from \"../../../svg/element/+text\";\r\nimport { make as makeGroup } from \"../../../svg/element/+group\";\r\n\r\nexport default function drawLayout(instance: BipolarLayout) {\r\n   const bodyGroup = makeGroup(\"body\");\r\n\r\n   const emitterEnd = instance.joints[INDEXEMITTER];\r\n   const collectorEnd = instance.joints[INDEXCOLLECTOR];\r\n   const baseEnd = instance.joints[INDEXBASE];\r\n\r\n   const centre = vector(emitterEnd, collectorEnd, baseEnd).centre().vector;\r\n   const rotation = vector(emitterEnd).getAngleTo(baseEnd);\r\n\r\n   const [emitterStart, collectorStart, baseStart]: Vector[] = vector(\r\n      { x: - 12, y: 3 }, { x: 0, y: -2 }, { x: 12, y: 3 }\r\n   ).rotate(rotation).sumWith(centre).vectors;\r\n\r\n   const joints = [\r\n      [emitterStart, emitterEnd],\r\n      [collectorStart, collectorEnd],\r\n      [baseStart, baseEnd],\r\n   ]\r\n\r\n   const semiCircleString =\r\n      \"M \" + (16) + \" \" + (4) +\r\n      \"a \" + (1) + \" \" + (1) + \" \" + (0) + \" \" + (0) + \" \" + (0) + \" \" + (-32) + \" \" + (0) +\r\n      \"v \" + (3) +\r\n      \"h \" + (32) +\r\n      \"v \" + (-3) +\r\n      \"Z\";\r\n\r\n   bodyGroup.append(\r\n      makePath(semiCircleString, \"body highlight\"),\r\n      makeText(instance.type, { x: 0, y: 4 }, \"text\")\r\n   );\r\n\r\n   return [\r\n      makePath(joints, \"lead\"),\r\n      bodyGroup.translate(centre).rotate(rotation),\r\n      makePath(joints, \"leadguide\")\r\n   ];\r\n}","import getStandardForm from \"../../../utility/-getStandardForm\";\r\nimport vector, { Vector } from \"../../../-vector\";\r\nimport { BipolarLayout } from \"./~classes\";\r\nimport { INDEXBASE, INDEXCOLLECTOR, INDEXEMITTER } from \"./constants\";\r\n\r\nimport { make as makePath } from \"../../../svg/element/+path\";\r\nimport { make as makeText } from \"../../../svg/element/+text\";\r\nimport { make as makeGroup } from \"../../../svg/element/+group\";\r\nimport { make as makeLine } from \"../../../svg/element/+line\";\r\nimport { make as makeCircle } from \"../../../svg/element/+circle\";\r\n\r\nexport default function drawSchematic(instance: BipolarLayout) {\r\n   const bodyGroup = makeGroup(\"body\");\r\n\r\n   const emitterEnd = instance.joints[INDEXEMITTER];\r\n   const collectorEnd = instance.joints[INDEXCOLLECTOR];\r\n   const baseEnd = instance.joints[INDEXBASE];\r\n\r\n   // Same as vector([{ x: 7, y: 6 }, { x: 7, y: -6 }, { x: -7, y: 0 }, { x: 7, y: 6 }])\r\n   //    .rotate(149 | -31).sumWith({ x: 18, y: -9.2 } | { x: 6, y: -16.4 })\r\n   const arrowJoints = (instance.type === \"PNP\")\r\n      ? [{ x: 15, y: -18 }, { x: 9, y: -7.5 }, { x: 24, y: -5.5 }, { x: 15, y: -18 }]\r\n      : [{ x: 9, y: -7.5 }, { x: 15, y: -18 }, { x: 0, y: -20 }, { x: 9, y: -7.5 }];\r\n\r\n   // The drawings orientation (before transforms) is: \r\n   //   emitter at the top\r\n   //   collector at the bottom\r\n   //   base to the right\r\n   bodyGroup.append(\r\n      //Highlight\r\n      makeCircle({ x: 10, y: 0 }, 30, \"extrathick highlight\"),\r\n      //Base Vertical Bar\r\n      makeLine({ x: 25, y: -15 }, { x: 25, y: +15 }, \"line medium-thick nocap\"),\r\n      //Collector Angled Line\r\n      makeLine({ x: 25, y: -5 }, { x: 0, y: -20 }, \"line thin\"),\r\n      //Emitter Angled Line\r\n      makeLine({ x: 25, y: 5 }, { x: 0, y: 20 }, \"line thin\"),\r\n      //Base Horizontal Line to circle\r\n      makeLine({ x: 25, y: 0 }, { x: 40, y: 0 }, \"line thin\"),\r\n      //Collector Vertical Line to circle\r\n      makeLine({ x: 0, y: -20 }, { x: 0, y: -28 }, \"line thin\"),\r\n      //Emitter Vertical Line to circle\r\n      makeLine({ x: 0, y: 20 }, { x: 0, y: 28 }, \"line thin\"),\r\n      //Arrow\r\n      makePath(arrowJoints, \"body black thin\"),\r\n      //Circle\r\n      makeCircle({ x: 10, y: 0 }, 30, \"line medium nofill\")\r\n   );\r\n\r\n\r\n   // Image centre does not take base into account\r\n   // Is always directly between the emitter and collector\r\n   const centre = vector(emitterEnd, collectorEnd).centre().vector;\r\n\r\n   // all angles are relative to the x-axis, hence in default orientation:\r\n   //   when no rotation is required, angleEmitterCentre = 90, \r\n   const angleCentreBase = vector(centre).getAngleTo(baseEnd);\r\n   const angleEmitterCollector = vector(emitterEnd).getAngleTo(collectorEnd);\r\n\r\n   const rotation = angleEmitterCollector - 90;\r\n\r\n   // Don't ask.\r\n   const scale = (((angleEmitterCollector - angleCentreBase + 360) % 360) > 180)\r\n      ? { x: -1 }\r\n      : { x: 1 };\r\n\r\n   // Only the start of the connections should be transformed, \r\n   // the ends should be absolute.\r\n   // (Hence using vector transforms, not svg transforms)\r\n   const [emitterStart, collectorStart, baseStart]: Vector[] = vector(\r\n      { x: 0, y: -28 }, { x: 0, y: 28 }, { x: 40, y: 0 }\r\n   ).scaleWith(scale).rotate(rotation).sumWith(centre).vectors;\r\n\r\n\r\n   const joints = [\r\n      [emitterStart, emitterEnd],\r\n      [collectorStart, collectorEnd],\r\n      [baseStart, baseEnd],\r\n   ]\r\n\r\n   const text = getStandardForm(instance.currentGain, '')\r\n   const textEl = makeText(text, vector({ x: -40, y: 0 }).scaleWith(scale), \"text\");\r\n\r\n   return [\r\n      bodyGroup.translate(centre).rotate(rotation).scale(scale, false),\r\n      makePath(joints, \"line thin\"),\r\n      textEl.translate(centre).rotatePosition(rotation),\r\n   ];\r\n}\r\n","import makeLayout from \"./-makeLayout\"\r\n\r\nexport default function loadLayout(raw: any) {\r\n   const name = (raw.name);\r\n   const currentGain = (raw.currentGain);\r\n   const type = (raw.type);\r\n   const joints = (raw.joints);\r\n\r\n   return makeLayout({ name, currentGain, type, joints });\r\n}\r\n","import makeSchematic from \"./-makeSchematic\";\r\nimport vector, { Vector } from \"../../../-vector\";\r\nimport ValueCheck from \"../~valueCheck\"\r\n\r\nexport default function loadSchematic(raw: any) {\r\n   const name = (raw.name);\r\n   const currentGain = (raw.currentGain);\r\n   const type = (raw.type);\r\n   // Joints Block\r\n   const orientation = ValueCheck.validate<\"LR\" | \"RL\">([\"LR\", \"RL\"], \"LR\")(raw.orientation);\r\n   const where = ValueCheck.where({ x: 0, y: 0 })(raw.where);\r\n   const joints = (raw.joints || deriveJoints(orientation, type, where));\r\n\r\n   return makeSchematic({ name, currentGain, type, joints });\r\n}\r\n\r\nconst deriveJoints = (orientation: \"LR\" | \"RL\", type: \"NPN\" | \"PNP\", where: Vector) => {\r\n   const [emitter, collector] = type === \"PNP\"\r\n      ? [{ x: 0, y: -50 }, { x: 0, y: +50 }]\r\n      : [{ x: 0, y: +50 }, { x: 0, y: -50 }];\r\n\r\n   const [base, offset] = orientation === \"LR\"\r\n      ? [{ x: -60, y: 0 }, { x: +10 }]\r\n      : [{ x: +60, y: 0 }, { x: -10 }];\r\n\r\n   return vector([emitter, collector, base]).sumWith(where, offset).vectors;\r\n}\r\n","import ValueCheck from \"../~valueCheck\";\r\nimport * as Types from \"./types\";\r\nimport { BipolarLayout } from \"./~classes\";\r\nimport getMaker from \"../../generics/-getMaker\";\r\nimport { Vector } from \"../../../-vector\";\r\nimport Graphical from \"../addins/graphical\";\r\nimport Draggable from \"../addins/draggable\";\r\nimport Selectable from \"../addins/selectable\";\r\nimport Extendable from \"../addins/extendable\";\r\nimport ConnectionHighlights from \"../addins/connectionHighlights\"\r\n\r\nconst defaulterLayout: ValueCheck.Defaulter<Types.values> = {\r\n   joints: ValueCheck.joints<[Vector, Vector, Vector]>(\r\n      [{ x: 0, y: 0 }, { x: 20, y: -20 }, { x: 40, y: 0 }]\r\n   ),\r\n   disabled: ValueCheck.validate(\"boolean\", false),\r\n   name: ValueCheck.validate(\"string\", \"bipolar\"),\r\n   currentGain: ValueCheck.validate(\"number\", 0),\r\n   type: ValueCheck.validate<\"NPN\" | \"PNP\">([\"NPN\", \"PNP\"], \"NPN\")\r\n};\r\n\r\nconst makeLayout = getMaker(BipolarLayout, defaulterLayout,\r\n   (component: BipolarLayout) => {\r\n      Graphical.init(component);\r\n      Draggable.init(component);\r\n      Selectable.init(component);\r\n      Extendable.init(component);\r\n      ConnectionHighlights.init(component);\r\n   }\r\n);\r\nexport default makeLayout;\r\n","import ValueCheck from \"../~valueCheck\";\r\nimport * as Types from \"./types\";\r\nimport { BipolarSchematic } from \"./~classes\";\r\nimport getMaker from \"../../generics/-getMaker\";\r\nimport { Vector } from \"../../../-vector\";\r\nimport Graphical from \"../addins/graphical\";\r\nimport Draggable from \"../addins/draggable\";\r\nimport Selectable from \"../addins/selectable\";\r\nimport Extendable from \"../addins/extendable\";\r\nimport ConnectionHighlights from \"../addins/connectionHighlights\"\r\nimport { schematicManipulationEnabled } from \"../../../~constants\";\r\n\r\nconst defaulterSchematic: ValueCheck.Defaulter<Types.values> = {\r\n   name: ValueCheck.validate(\"string\", \"bipolar\"),\r\n   disabled: ValueCheck.validate(\"boolean\", false),\r\n   joints: ValueCheck.joints<[Vector, Vector, Vector]>(\r\n      [{ x: -50, y: 0 }, { x: +10, y: -50 }, { x: +10, y: +50 }]\r\n   ),\r\n   currentGain: ValueCheck.validate(\"number\", 0),\r\n   type: ValueCheck.validate<\"NPN\" | \"PNP\">([\"NPN\", \"PNP\"], \"NPN\")\r\n};\r\n\r\n\r\nconst makeSchematic = getMaker(BipolarSchematic, defaulterSchematic,\r\n   (component: BipolarSchematic) => {\r\n      Selectable.init(component);\r\n      ConnectionHighlights.init(component, false);\r\n      Graphical.init(component);\r\n      if (schematicManipulationEnabled) {\r\n         Draggable.init(component);\r\n         Extendable.init(component);\r\n      }\r\n   }\r\n);\r\nexport default makeSchematic;","import makeMap from \"../../generics/-makeMap\";\r\nimport { BipolarSchematic, BipolarLayout } from \"./~classes\";\r\nimport makeSchematic from \"./-makeSchematic\";\r\nimport makeLayout from \"./-makeLayout\";\r\nimport loadSchematic from \"./-loadSchematic\";\r\nimport loadLayout from \"./-loadLayout\";\r\n\r\n\r\nconst schematicMap = {\r\n   savename: \"makeBipolar\",\r\n   diagramType: \"schematic\" as \"schematic\",\r\n   instance: BipolarSchematic,\r\n   make: makeSchematic,\r\n   load: loadSchematic,\r\n}\r\n\r\nconst layoutMap = {\r\n   savename: \"makeLayoutBipolar\",\r\n   diagramType: \"layout\" as \"layout\",\r\n   instance: BipolarLayout,\r\n   make: makeLayout,\r\n   load: loadLayout,\r\n}\r\n\r\nconst maps = {\r\n   schematic: makeMap(schematicMap, layoutMap),\r\n   layout: makeMap(layoutMap, schematicMap)\r\n}\r\nexport default maps;","export const INDEXEMITTER = 0;\r\nexport const INDEXCOLLECTOR = 1;\r\nexport const INDEXBASE = 2;\r\n\r\n","import { Vector } from \"../../../-vector\";\r\nimport Component, { Types as ComponentTypes } from \"../../+component\";;\r\nimport deepCopy from \"../../../utility/-deepCopy\";\r\nimport Insert from \"../../../utility/~insert\";\r\nimport * as Types from \"./types\";\r\nimport { INDEXBASE, INDEXCOLLECTOR, INDEXEMITTER } from \"./constants\";\r\nimport manifest from \"../../manifest\";\r\nimport getComponentConnections from \"../../generics/-getComponentConnections\";\r\nimport makeConnector from \"../../generics/-makeConnector\";\r\nimport drawLayout from \"./-drawLayout\";\r\nimport drawSchematic from \"./-drawSchematic\";\r\n//import * as $ from 'jquery';\r\n\r\nabstract class BipolarBase extends Component implements Types.values {\r\n   currentGain: number;\r\n   type: \"NPN\" | \"PNP\"\r\n   joints: [Vector, Vector, Vector];\r\n   constructor(values: Types.values) {\r\n      super(values);\r\n      $(this.group.element).addClass(\"component \" + this.name);\r\n      this.joints = values.joints;\r\n      this.type = values.type;\r\n      this.currentGain = values.currentGain;\r\n   }\r\n\r\n   getProperties(): Types.properties {\r\n      return deepCopy({\r\n         name: this.name,\r\n         currentGain: this.currentGain,\r\n         type: this.type\r\n      });\r\n   }\r\n\r\n   getState(): Types.state {\r\n      return deepCopy({\r\n         joints: this.joints,\r\n         disabled: this.disabled\r\n      });\r\n   }\r\n\r\n   insertInto(element?: SVGGraphicsElement) {\r\n      Insert.last(this.group.element, element);\r\n   }\r\n\r\n   transferFunction() { return [] };\r\n}\r\n\r\nexport class BipolarSchematic extends BipolarBase {\r\n   draw() {\r\n      //(Prepend so handles appear on top)\r\n      this.group.prepend(drawSchematic(this));\r\n   }\r\n   getConnections(): ComponentTypes.connector[][][] {\r\n      return getComponentConnections(this, manifest.schematic);\r\n   }\r\n   makeConnectors() {\r\n      this.connectorSets = [[\r\n         makeConnector(this, \"emitter\", \"node\", this.joints[INDEXEMITTER], \"e\"),\r\n         makeConnector(this, \"collector\", \"node\", this.joints[INDEXCOLLECTOR], \"c\"),\r\n         makeConnector(this, \"base\", \"node\", this.joints[INDEXBASE], \"b\")\r\n      ]];\r\n   }\r\n}\r\n\r\nexport class BipolarLayout extends BipolarBase {\r\n   draw() {\r\n      //(Prepend so handles appear on top)\r\n      this.group.prepend(drawLayout(this));\r\n   }\r\n   getConnections(): ComponentTypes.connector[][][] {\r\n      return getComponentConnections(this, manifest.layout);\r\n   }\r\n   makeConnectors() {\r\n      this.connectorSets = [[\r\n         makeConnector(this, \"emitter\", \"pin\", this.joints[INDEXEMITTER], \"e\"),\r\n         makeConnector(this, \"collector\", \"pin\", this.joints[INDEXCOLLECTOR], \"c\"),\r\n         makeConnector(this, \"base\", \"pin\", this.joints[INDEXBASE], \"b\")\r\n      ]];\r\n   }\r\n}\r\n\r\n","import { Large } from \"./~classes\";\r\nimport vector from \"../../../-vector\";\r\nimport { INDEXCENTRE, INDEXROTATION } from \"./constants\";\r\n\r\nimport { make as makePath } from \"../../../svg/element/+path\";\r\nimport { make as makeGroup } from \"../../../svg/element/+group\";\r\nimport { make as makeRect } from \"../../../svg/element/+rect\";\r\nimport { make as makeTextSequence } from \"../../../svg/element/groups/+textSequence\";\r\nimport { gridSpacing } from \"../../../~constants\";\r\n\r\nexport default function drawLarge(instance: Large) {\r\n   const bodyGroup = makeGroup(\"body\");\r\n\r\n   const centre = instance.joints[INDEXCENTRE];\r\n   const rotationPoint = instance.joints[INDEXROTATION];\r\n\r\n   let rotation = vector(centre).getAngleTo(rotationPoint);\r\n\r\n\r\n   const gS = gridSpacing;\r\n\r\n   // Power Rails strings:\r\n   const railPairPathString = [\r\n      \"M\" + (gS * -29.7) + \" \" + (gS * -10.5),\r\n      \"H\" + (gS * -1),\r\n      \"M\" + (gS * +29.7) + \" \" + (gS * -10.5),\r\n      \"H\" + (gS * 1),\r\n      \"M\" + (gS * -29.7) + \" \" + (gS * 7.5),\r\n      \"H\" + (gS * -1),\r\n      \"M\" + (gS * +29.7) + \" \" + (gS * 7.5),\r\n      \"H\" + (gS * 1)\r\n   ].join();\r\n\r\n   const plus = \"m-5 0 h10 m-5 -5 v10 m0 -5\";\r\n\r\n   const plussesPathString = [\r\n      \"M\" + (gS * -30.5) + \" \" + (gS * -10),\r\n      \"M\" + (gS * 30.5) + \" \" + (gS * -10),\r\n      \"M\" + (gS * -30.5) + \" \" + (gS * 8),\r\n      \"M\" + (gS * 30.5) + \" \" + (gS * 8),\r\n      \"\" // Do not remove.     \r\n   ].join(plus);\r\n\r\n   const minus = \"m0 -5 v10 m0 -5\";\r\n\r\n   const minusesPathString = [\r\n      \"M\" + (gS * -30.5) + \" \" + (gS * -11),\r\n      \"M\" + (gS * 30.5) + \" \" + (gS * -11),\r\n      \"M\" + (gS * -30.5) + \" \" + (gS * 7),\r\n      \"M\" + (gS * 30.5) + \" \" + (gS * 7),\r\n      \"\" // Do not remove.  \r\n   ].join(minus);\r\n\r\n\r\n   const size = {\r\n      width: 67 * gS,\r\n      height: 22 * gS\r\n   };\r\n\r\n   bodyGroup.append([\r\n      //Body\r\n      makeRect({ x: 0, y: 0 }, size, { x: 4, y: 4 }, \"body\"),\r\n      //Centre rut\r\n      makeRect({ x: 0, y: 0 }, { width: size.width, height: gS * 0.75, }, { x: 0, y: 0 }, \"rut\"),\r\n      //Body Highlights\r\n      makeRect({ x: 0, y: 0 }, size, { x: 4, y: 4 }, \"body highlight\"),\r\n      //Power rail positives\r\n      makePath(railPairPathString + plussesPathString, \"rail positive\"),\r\n      //Power rail negatives\r\n      makePath(railPairPathString + minusesPathString, \"rail negative\").translate({ x: 0, y: gS * 3 }),\r\n      //Text Left (portrait)\r\n      makeTextSequence({ x: 31.5 * gS - gS / 6, y: -6.5 * gS }, { x: 0, y: gS }, { start: 1, length: 64 }).rotate(90),\r\n      //Text Right (portrait)\r\n      makeTextSequence({ x: 31.5 * gS - gS / 6, y: 6.5 * gS }, { x: 0, y: gS }, { start: 1, length: 64 }).rotate(90),\r\n      //Text Top Left (portrait)\r\n      makeTextSequence({ x: 32.5 * gS - gS / 4, y: -5.5 * gS }, { x: gS, y: 0 }, \"abcde\").rotate(90),\r\n      //Text Bottom Left (portrait)\r\n      makeTextSequence({ x: -32.5 * gS, y: -5.5 * gS }, { x: gS, y: 0 }, \"abcde\").rotate(90),\r\n      //Text Top Right (portrait)\r\n      makeTextSequence({ x: 32.5 * gS - gS / 4, y: 5.5 * gS }, { x: -gS, y: 0 }, \"jihgf\").rotate(90),\r\n      //Text Bottom Right (portrait)\r\n      makeTextSequence({ x: -32.5 * gS, y: 5.5 * gS }, { x: -gS, y: 0 }, \"jihgf\").rotate(90),\r\n   ])\r\n\r\n   return [\r\n      bodyGroup.translate(centre).rotate(rotation)\r\n   ];\r\n}\r\n","import { Small } from \"./~classes\";\r\nimport vector from \"../../../-vector\";\r\nimport { INDEXCENTRE, INDEXROTATION } from \"./constants\";\r\n\r\nimport { make as makePath } from \"../../../svg/element/+path\";\r\nimport { make as makeGroup } from \"../../../svg/element/+group\";\r\nimport { make as makeRect } from \"../../../svg/element/+rect\";\r\nimport { make as makeTextSequence } from \"../../../svg/element/groups/+textSequence\";\r\n\r\nimport { gridSpacing } from \"../../../~constants\";\r\n\r\nexport default function drawSmall(instance: Small) {\r\n   const bodyGroup = makeGroup(\"body\");\r\n\r\n   const centre = instance.joints[INDEXCENTRE];\r\n   const rotationPoint = instance.joints[INDEXROTATION];\r\n\r\n   let rotation = vector(centre).getAngleTo(rotationPoint);\r\n\r\n\r\n   const gS = gridSpacing;\r\n\r\n   // Power Rails strings:\r\n   const railPairPathString = [\r\n      \"M\" + (gS * -14.2) + \" \" + (gS * -10.5),\r\n      \"H\" + (gS * 14.2),\r\n      \"M\" + (gS * -14.2) + \" \" + (gS * 7.5),\r\n      \"H\" + (gS * 14.2)\r\n   ].join();\r\n\r\n   const plus = \"m-5 0 h10 m-5 -5 v10 m0 -5\";\r\n\r\n   const plussesPathString = [\r\n      \"M\" + (gS * -15) + \" \" + (gS * -10),\r\n      \"M\" + (gS * 15) + \" \" + (gS * -10),\r\n      \"M\" + (gS * -15) + \" \" + (gS * 8),\r\n      \"M\" + (gS * 15) + \" \" + (gS * 8),\r\n      \"\" // Do not remove.     \r\n   ].join(plus);\r\n\r\n   const minus = \"m0 -5 v10 m0 -5\";\r\n\r\n   const minusesPathString = [\r\n      \"M\" + (gS * -15) + \" \" + (gS * -11),\r\n      \"M\" + (gS * 15) + \" \" + (gS * -11),\r\n      \"M\" + (gS * -15) + \" \" + (gS * 7),\r\n      \"M\" + (gS * 15) + \" \" + (gS * 7),\r\n      \"\" // Do not remove.  \r\n   ].join(minus);\r\n\r\n\r\n   const size = {\r\n      width: 32 * gS,\r\n      height: 22 * gS\r\n   };\r\n\r\n   bodyGroup.append([\r\n      //Body\r\n      makeRect({ x: 0, y: 0 }, size, { x: 4, y: 4 }, \"body\"),\r\n      //Centre rut\r\n      makeRect({ x: 0, y: 0 }, { width: size.width, height: gS * 0.75, }, { x: 0, y: 0 }, \"rut\"),\r\n      //Body Highlights\r\n      makeRect({ x: 0, y: 0 }, size, { x: 4, y: 4 }, \"body highlight\"),\r\n      //Power rail positives\r\n      makePath(railPairPathString + plussesPathString, \"rail positive\"),\r\n      //Power rail negatives\r\n      makePath(railPairPathString + minusesPathString, \"rail negative\").translate({ x: 0, y: gS * 3 }),\r\n      //Text Left (portrait)\r\n      makeTextSequence({ x: 14.5 * gS - gS / 6, y: -6.5 * gS }, { x: 0, y: gS }, { start: 1, length: 30 }).rotate(90),\r\n      //Text Right (portrait)\r\n      makeTextSequence({ x: 14.5 * gS - gS / 6, y: 6.5 * gS }, { x: 0, y: gS }, { start: 1, length: 30 }).rotate(90),\r\n      //Text Top Left (portrait)\r\n      makeTextSequence({ x: 15.5 * gS - gS / 4, y: -5.5 * gS }, { x: gS, y: 0 }, \"abcde\").rotate(90),\r\n      //Text Bottom Left (portrait)\r\n      makeTextSequence({ x: -15.5 * gS, y: -5.5 * gS }, { x: gS, y: 0 }, \"abcde\").rotate(90),\r\n      //Text Top Right (portrait)\r\n      makeTextSequence({ x: 15.5 * gS - gS / 4, y: 5.5 * gS }, { x: -gS, y: 0 }, \"jihgf\").rotate(90),\r\n      //Text Bottom Right (portrait)\r\n      makeTextSequence({ x: -15.5 * gS, y: 5.5 * gS }, { x: -gS, y: 0 }, \"jihgf\").rotate(90),\r\n   ])\r\n\r\n   return [\r\n      bodyGroup.translate(centre).rotate(rotation)\r\n   ];\r\n}\r\n\r\n","import makeLarge from \"./-makeLarge\"\r\n\r\nexport default function loadLarge(raw: any) {\r\n   const name = (raw.name);\r\n   const joints = (raw.joints);\r\n\r\n   return makeLarge({ name, joints });\r\n}\r\n","import makeSmall from \"./-makeSmall\"\r\n\r\nexport default function loadSmall(raw: any) {\r\n   const name = (raw.name);\r\n   const joints = (raw.joints);\r\n\r\n   return makeSmall({ name, joints });\r\n}","import ValueCheck from \"../~valueCheck\";\r\nimport * as Types from \"./types\";\r\nimport { Large } from \"./~classes\";\r\nimport getMaker from \"../../generics/-getMaker\";\r\nimport { Vector } from \"../../../-vector\";\r\nimport Graphical from \"../addins/graphical\";\r\nimport Draggable from \"../addins/draggable\";\r\nimport Selectable from \"../addins/selectable\";\r\nimport Board from \"../addins/board\";\r\nimport WireCreation from \"../addins/wireCreation\"\r\n\r\nconst defaulterLarge: ValueCheck.Defaulter<Types.values> = {\r\n   name: ValueCheck.validate(\"string\", \"breadboardlarge\"),\r\n   disabled: ValueCheck.validate(\"boolean\", false),\r\n   joints: ValueCheck.joints<[Vector, Vector]>(\r\n      [{ x: 0, y: 0 }, { x: 20, y: 0 }]\r\n   ),\r\n};\r\n\r\nconst makeLarge = getMaker(Large, defaulterLarge,\r\n   (component: Large) => {\r\n      Graphical.init(component);\r\n      Board.init(component);\r\n      Selectable.init(component);\r\n      WireCreation.init(component);\r\n      Draggable.init(component);\r\n   }\r\n);\r\nexport default makeLarge;","import ValueCheck from \"../~valueCheck\";\r\nimport * as Types from \"./types\";\r\nimport { Small } from \"./~classes\";\r\nimport getMaker from \"../../generics/-getMaker\";\r\nimport { Vector } from \"../../../-vector\";\r\nimport Graphical from \"../addins/graphical\";\r\nimport Draggable from \"../addins/draggable\";\r\nimport Selectable from \"../addins/selectable\";\r\nimport Board from \"../addins/board\";\r\nimport WireCreation from \"../addins/wireCreation\";\r\nimport Rotatable from \"../addins/rotatable\";\r\n\r\nconst defaulterSmall: ValueCheck.Defaulter<Types.values> = {\r\n   name: ValueCheck.validate(\"string\", \"breadboardsmall\"),\r\n   disabled: ValueCheck.validate(\"boolean\", false),\r\n   joints: ValueCheck.joints<[Vector, Vector]>(\r\n      [{ x: 0, y: 0 }, { x: 20, y: 0 }]\r\n   ),\r\n};\r\n\r\n\r\nconst makeSmall = getMaker(Small, defaulterSmall,\r\n   (component: Small) => {\r\n      Graphical.init(component);\r\n      Board.init(component);\r\n      Selectable.init(component);\r\n      WireCreation.init(component);\r\n      Draggable.init(component);\r\n      Rotatable.init(component);\r\n   }\r\n);\r\nexport default makeSmall;","import { Small, Large } from \"./~classes\";\r\nimport { Layout as Track } from \"../_track/~classes\"\r\nimport trackMap from \"../_track/-maps\";\r\nimport vector from \"../../../-vector\";\r\n\r\n\r\nimport { gridSpacing } from \"../../../~constants\";\r\n\r\nexport default function makeTracks(parent: Small, size: \"small\"): Track[];\r\nexport default function makeTracks(parent: Large, size: \"large\"): Track[];\r\nexport default function makeTracks(parent: Small | Large, size: \"small\" | \"large\") {\r\n   return (size === \"small\") ? makeTracksSmall(parent) : makeTracksLarge(parent);\r\n}\r\n\r\nfunction makeTracksSmall(parent: Small): Track[] {\r\n   let tracks: Track[] = [];\r\n\r\n   let gS = gridSpacing;\r\n\r\n   let rotation = vector(parent.joints[0]).getAngleTo(parent.joints[1]);\r\n\r\n   let powerTrackYPositions = [-9.5, -8.5, 8.5, 9.5];\r\n   for (let y of powerTrackYPositions) {\r\n\r\n      const start = vector({ x: gS * -14, y: y * gS })\r\n         .rotate(rotation)\r\n         .sumWith(parent.joints[0]);\r\n\r\n      const step = vector({ x: gS, y: 0 }).rotate(rotation);\r\n\r\n      let track = trackMap.make({\r\n         holeSpacings: [0, 1, 1, 1, 1, 2, 1, 1, 1, 1, 2, 1, 1, 1, 1, 2, 1, 1, 1, 1, 2, 1, 1, 1, 1],\r\n         joints: [start, step]\r\n      }, false);\r\n      tracks.push(track);\r\n   }\r\n\r\n   let mainGridTrackXPositions = [...Array(30).keys()];\r\n   let mainGridTrackYPositions = [-5.5, +1.5];\r\n\r\n   for (let x of mainGridTrackXPositions) {\r\n      for (let y of mainGridTrackYPositions) {\r\n\r\n         const start = vector({ x: (x - 14.5) * gS, y: y * gS })\r\n            .rotate(rotation)\r\n            .sumWith(parent.joints[0]);\r\n\r\n         const step = vector({ x: 0, y: gS }).rotate(rotation);\r\n\r\n         let track = trackMap.make({\r\n            holeSpacings: [0, 1, 1, 1, 1],\r\n            joints: [start, step]\r\n         }, false);\r\n         tracks.push(track);\r\n      }\r\n   }\r\n\r\n   return tracks;\r\n}\r\n\r\nfunction makeTracksLarge(parent: Large): Track[] {\r\n   let tracks: Track[] = [];\r\n\r\n   let gS = gridSpacing;\r\n\r\n   let rotation = vector(parent.joints[0]).getAngleTo(parent.joints[1]);\r\n\r\n\r\n   let powerTrackYPositions = [-9.5, -8.5, 8.5, 9.5];\r\n   let powerTrackXPositions = [-29.5, 1.5];\r\n   for (let x of powerTrackXPositions) {\r\n      for (let y of powerTrackYPositions) {\r\n\r\n         const start = vector({ x: x * gS, y: y * gS })\r\n            .rotate(rotation)\r\n            .sumWith(parent.joints[0]);\r\n\r\n         const step = vector({ x: gS, y: 0 }).rotate(rotation);\r\n\r\n         let track = trackMap.make({\r\n            holeSpacings: [0, 1, 1, 1, 1, 2, 1, 1, 1, 1, 2, 1, 1, 1, 1, 2, 1, 1, 1, 1, 2, 1, 1, 1, 1],\r\n            joints: [start, step]\r\n         }, false);\r\n         tracks.push(track);\r\n      }\r\n   }\r\n\r\n   let mainGridTrackXPositions = [...Array(64).keys()];\r\n   let mainGridTrackYPositions = [-5.5, +1.5];\r\n\r\n   for (let x of mainGridTrackXPositions) {\r\n      for (let y of mainGridTrackYPositions) {\r\n\r\n         const start = vector({ x: (x - 31.5) * gS, y: y * gS })\r\n            .rotate(rotation)\r\n            .sumWith(parent.joints[0]);\r\n\r\n         const step = vector({ x: 0, y: gS }).rotate(rotation);\r\n\r\n         let track = trackMap.make({\r\n            holeSpacings: [0, 1, 1, 1, 1],\r\n            joints: [start, step]\r\n         }, false);\r\n         tracks.push(track);\r\n      }\r\n   }\r\n\r\n   return tracks;\r\n}\r\n","import makeMap from \"../../generics/-makeMap\";\r\nimport { Large, Small } from \"./~classes\";\r\nimport makeSmall from \"./-makeSmall\";\r\nimport makeLarge from \"./-makeLarge\";\r\nimport loadSmall from \"./-loadSmall\";\r\nimport loadLarge from \"./-loadLarge\";\r\n\r\nconst smallMap = {\r\n   savename: \"makeLayoutBreadboardSmall\",\r\n   diagramType: \"layout\" as \"layout\",\r\n   instance: Small,\r\n   make: makeSmall,\r\n   load: loadSmall,\r\n   isBoard: true\r\n}\r\n\r\nconst largeMap = {\r\n   savename: \"makeLayoutBreadboardLarge\",\r\n   diagramType: \"layout\" as \"layout\",\r\n   instance: Large,\r\n   make: makeLarge,\r\n   load: loadLarge,\r\n   isBoard: true\r\n}\r\n\r\n\r\nconst maps = {\r\n   layoutSmall: makeMap(smallMap),\r\n   layoutLarge: makeMap(largeMap)\r\n}\r\nexport default maps;","\r\nexport const INDEXCENTRE = 0;\r\nexport const INDEXROTATION = 1;\r\n\r\n","import Component, { Types as ComponentTypes } from \"../../+component\";\r\nimport * as Types from \"./types\";\r\nimport { Vector } from \"../../../-vector\";\r\nimport deepCopy from \"../../../utility/-deepCopy\";\r\nimport Insert from \"../../../utility/~insert\";\r\nimport manifest from \"../../manifest\";\r\nimport getComponentConnections from \"../../generics/-getComponentConnections\";\r\nimport { Layout as Track } from \"../_track/~classes\";\r\nimport drawLarge from \"./-drawLarge\";\r\nimport drawSmall from \"./-drawSmall\";\r\nimport makeTracks from \"./-makeTracks\";\r\n\r\nabstract class Base extends Component implements Types.values {\r\n   joints: [Vector, Vector];\r\n   tracks: Track[] = [];\r\n   connectorSets: ComponentTypes.hole[][] = [];\r\n\r\n   constructor(values: Types.values) {\r\n      super(values);\r\n      this.joints = values.joints\r\n   }\r\n\r\n   getProperties(): Types.properties {\r\n      return deepCopy({\r\n         name: this.name,\r\n      });\r\n   }\r\n\r\n   getState(): Types.state {\r\n      return deepCopy({\r\n         joints: this.joints,\r\n         disabled: this.disabled\r\n      });\r\n   }\r\n\r\n   // Handled in the tracks\r\n   makeConnectors() { }\r\n\r\n   insertInto(element?: SVGGraphicsElement) {\r\n      Insert.first(this.group.element, element);\r\n   }\r\n\r\n   transferFunction() { return [] };\r\n\r\n   getConnections(): ComponentTypes.connector[][][] {\r\n      return getComponentConnections(this, manifest.layout);\r\n   }\r\n}\r\n\r\nexport class Small extends Base {\r\n   draw() {\r\n      this.tracks = makeTracks(this, \"small\");\r\n      //(Prepend so handles appear on top)\r\n      this.group.prepend(drawSmall(this), this.tracks.map(t => t.group));\r\n   }\r\n}\r\n\r\nexport class Large extends Base {\r\n   draw() {\r\n      this.tracks = makeTracks(this, \"large\");\r\n      //(Prepend so handles appear on top)\r\n      this.group.prepend(drawLarge(this), this.tracks.map(t => t.group));\r\n   }\r\n}\r\n\r\n","import { Layout } from \"./~classes\";\r\nimport vector from \"../../../-vector\";\r\nimport { INDEXANODE, INDEXCATHODE } from \"./constants\";\r\nimport getStandardForm from \"../../../utility/-getStandardForm\";\r\n\r\nimport { make as makePath } from \"../../../svg/element/+path\";\r\nimport { make as makeText } from \"../../../svg/element/+text\";\r\nimport { make as makeGroup } from \"../../../svg/element/+group\";\r\nimport { make as makeCircle } from \"../../../svg/element/+circle\";\r\nimport { make as makeEllipse } from \"../../../svg/element/+ellipse\";\r\n//import * as $ from 'jquery';\r\n\r\nexport default function drawLayout(instance: Layout) {\r\n\r\n   const bodyGroup = makeGroup(\"body\");\r\n\r\n   const cathodeEnd = instance.joints[INDEXCATHODE];\r\n   const anodeEnd = instance.joints[INDEXANODE];\r\n\r\n   const centre = vector(cathodeEnd, anodeEnd).centre().vector;\r\n   const rotation = vector(cathodeEnd).getAngleTo(anodeEnd);\r\n   const text = getStandardForm(instance.capacitance, 'F');\r\n\r\n   if (instance.isPolarised) {\r\n      // Electrolytic\r\n      $(bodyGroup.element).addClass(\"electrolytic\");\r\n\r\n      const bodyArcEndPoint = 14 / Math.SQRT2;\r\n      const textArcEndPoint = 12.5 / Math.SQRT2;\r\n      const bodyPathString = \"m14 0 A14 14 0 1 0 \" + (bodyArcEndPoint) + \" \" + (bodyArcEndPoint);\r\n      const minusPathString = \"m14 0 A14 14 0 0 1 \" + (bodyArcEndPoint) + \" \" + (bodyArcEndPoint);\r\n      const pathForTextString = \"m\" + (textArcEndPoint) + \" \" + (textArcEndPoint) + \"A12.5 12.5 0 1 1 12.5 0\";\r\n\r\n      bodyGroup.append(\r\n         makeCircle({ x: 0, y: 0 }, 16, \"highlight nofill\"),\r\n         makePath(bodyPathString, \"body\").rotate(157.5),\r\n         makePath(minusPathString, \"minus\").rotate(157.5),\r\n         makeText(text, { x: 1, y: 0 }, \"text\").followPath(pathForTextString).rotate(157.5)\r\n      );\r\n   } else {\r\n      // Ceramic\r\n      $(bodyGroup.element).addClass(\"ceramic\");\r\n\r\n      bodyGroup.append(\r\n         makeEllipse({ x: 0, y: 0 }, { x: 16, y: 8 }, \"body highlight nofill\"),\r\n         makeText(text, { x: 0, y: 0 }, \"text\")\r\n      );\r\n   }\r\n\r\n   return [\r\n      makePath([cathodeEnd, anodeEnd], \"lead\"),\r\n      bodyGroup.translate(centre).rotate(rotation)\r\n   ];\r\n}\r\n\r\n","import { Schematic } from \"./~classes\";\r\nimport vector, { Vector } from \"../../../-vector\";\r\nimport { INDEXANODE, INDEXCATHODE } from \"./constants\";\r\nimport getStandardForm from \"../../../utility/-getStandardForm\";\r\n\r\nimport { make as makePath } from \"../../../svg/element/+path\";\r\nimport { make as makeText } from \"../../../svg/element/+text\";\r\nimport { make as makeGroup } from \"../../../svg/element/+group\";\r\nimport { make as makeLine } from \"../../../svg/element/+line\";\r\nimport { make as makeRect } from \"../../../svg/element/+rect\";\r\n\r\nexport default function drawSchematic(instance: Schematic) {\r\n   const bodyGroup = makeGroup(\"body\");\r\n\r\n   const cathodeEnd = instance.joints[INDEXCATHODE];\r\n   const anodeEnd = instance.joints[INDEXANODE];\r\n\r\n   let centre = vector(cathodeEnd, anodeEnd).centre().vector;\r\n   let rotation = vector(cathodeEnd).getAngleTo(anodeEnd);\r\n\r\n   let [cathodeStart, anodeStart]: Vector[] = vector(\r\n      { x: -6, y: 0 }, { x: 6, y: 0 }\r\n   ).rotate(rotation).sumWith(centre).vectors;\r\n\r\n   //Text\r\n   let text = getStandardForm(instance.capacitance, 'F')\r\n\r\n   bodyGroup.append(\r\n      makeRect(vector(0), { width: 15, height: 30 }, vector(2), \"highlight highlightwithfill extrathick\"),\r\n      makeLine({ x: -4, y: -15 }, { x: -4, y: +15 }, \"line thick nocap\"),\r\n      makeLine({ x: +4, y: -15 }, { x: +4, y: +15 }, \"line thick nocap\"),\r\n   );\r\n\r\n   if (instance.isPolarised) {\r\n      bodyGroup.append(makePath([\r\n         [{ x: +15, y: -10 }, { x: +7, y: -10 }],\r\n         [{ x: +11, y: -6 }, { x: +11, y: -14 }]\r\n      ], \"line thin\"));\r\n   }\r\n\r\n   return [\r\n      makePath([[cathodeStart, cathodeEnd], [anodeStart, anodeEnd]], \"line thin\"),\r\n      bodyGroup.translate(centre).rotate(rotation),\r\n      makeText(text, { x: 0, y: -20 }, \"text\").translate(centre).rotatePosition(rotation)\r\n   ];\r\n}\r\n\r\n","import makeLayout from \"./-makeLayout\"\r\n\r\nexport default function loadLayout(raw: any) {\r\n   const name = (raw.name);\r\n   const capacitance = (raw.capacitance);\r\n   const isPolarised = (raw.isPolarised);\r\n   const joints = (raw.joints);\r\n\r\n   return makeLayout({ name, capacitance, isPolarised, joints });\r\n\r\n}","import makeSchematic from \"./-makeSchematic\";\r\nimport ValueCheck from \"../~valueCheck\";\r\nimport vector, { Vector } from \"../../../-vector\";\r\n\r\nexport default function loadSchematic(raw: any) {\r\n   const name = (raw.name);\r\n   const capacitance = (raw.capacitance || raw.value);\r\n   //Polarisation Block\r\n   const isPolarised = (raw.isPolarised || derivePolarisation(capacitance, raw.polarised));\r\n   //Joints Block\r\n   type orientation = \"LR\" | \"RL\" | \"UD\" | \"DU\";\r\n   const orientations: orientation[] = [\"LR\", \"RL\", \"UD\", \"DU\"];\r\n   const orientation = ValueCheck.validate<orientation>(orientations, \"LR\")(raw.orientation);\r\n   const where = ValueCheck.where({ x: 0, y: 0 })(raw.where);\r\n   const joints = (raw.joints || deriveJoints(orientation, where));\r\n\r\n   return makeSchematic({ name, capacitance, isPolarised, joints });\r\n}\r\n\r\nconst derivePolarisation = (capacitance: number, polarisation?: \"polar\" | \"non-polar\") => {\r\n   const isPolarValid = ValueCheck.test<\"polar\" | \"non-polar\">([\"polar\", \"non-polar\"]);\r\n   return isPolarValid(polarisation) ? polarisation === \"polar\" : (capacitance > 1e-6);\r\n}\r\n\r\nconst deriveJoints = (orientation: \"LR\" | \"RL\" | \"UD\" | \"DU\", where: Vector) => {\r\n   const baseJoints = ({\r\n      LR: [{ x: -20, y: 0 }, { x: 20, y: 0 }],\r\n      UD: [{ x: 0, y: -20 }, { x: 0, y: 20 }],\r\n      RL: [{ x: 20, y: 0 }, { x: -20, y: 0 }],\r\n      DU: [{ x: 0, y: 20 }, { x: 0, y: -20 }]\r\n   })[orientation] as [Vector, Vector];\r\n   return vector(baseJoints).sumWith(where).vectors;\r\n}\r\n","import ValueCheck from \"../~valueCheck\";\r\nimport * as Types from \"./types\";\r\nimport { Layout } from \"./~classes\";\r\nimport getMaker from \"../../generics/-getMaker\";\r\nimport { Vector } from \"../../../-vector\";\r\nimport Graphical from \"../addins/graphical\";\r\nimport Draggable from \"../addins/draggable\";\r\nimport Selectable from \"../addins/selectable\";\r\nimport Extendable from \"../addins/extendable\";\r\nimport ConnectionHighlights from \"../addins/connectionHighlights\"\r\n\r\nconst defaulterLayout: ValueCheck.Defaulter<Types.values> = {\r\n   name: ValueCheck.validate(\"string\", \"capacitor\"),\r\n   disabled: ValueCheck.validate(\"boolean\", false),\r\n   isPolarised: ValueCheck.validate(\"boolean\", false),\r\n   joints: ValueCheck.joints<[Vector, Vector]>(\r\n      [{ x: 0, y: 0 }, { x: 80, y: 0 }]\r\n   ),\r\n   capacitance: ValueCheck.validate(\"number\", 0)\r\n};\r\n\r\nconst makeLayout = getMaker(Layout, defaulterLayout,\r\n   (component: Layout) => {\r\n      Graphical.init(component);\r\n      Draggable.init(component);\r\n      Selectable.init(component);\r\n      Extendable.init(component);\r\n      ConnectionHighlights.init(component);\r\n   }\r\n);\r\nexport default makeLayout;","import ValueCheck from \"../~valueCheck\";\r\nimport * as Types from \"./types\";\r\nimport { Schematic } from \"./~classes\";\r\nimport getMaker from \"../../generics/-getMaker\";\r\nimport { Vector } from \"../../../-vector\";\r\nimport Graphical from \"../addins/graphical\";\r\nimport Draggable from \"../addins/draggable\";\r\nimport Selectable from \"../addins/selectable\";\r\nimport Extendable from \"../addins/extendable\";\r\nimport ConnectionHighlights from \"../addins/connectionHighlights\"\r\n\r\nimport { schematicManipulationEnabled } from \"../../../~constants\";\r\n\r\nconst defaulterSchematic: ValueCheck.Defaulter<Types.values> = {\r\n   name: ValueCheck.validate(\"string\", \"capacitor\"),\r\n   disabled: ValueCheck.validate(\"boolean\", false),\r\n   isPolarised: ValueCheck.validate(\"boolean\", false),\r\n   joints: ValueCheck.joints<[Vector, Vector]>(\r\n      [{ x: 0, y: 0 }, { x: 40, y: 40 }]\r\n   ),\r\n   capacitance: ValueCheck.validate(\"number\", 0)\r\n};\r\n\r\n\r\nconst makeSchematic = getMaker(Schematic, defaulterSchematic,\r\n   (component: Schematic) => {\r\n      Selectable.init(component);\r\n      ConnectionHighlights.init(component, false);\r\n      Graphical.init(component);\r\n      if (schematicManipulationEnabled) {\r\n         Draggable.init(component);\r\n         Extendable.init(component);\r\n      }\r\n   }\r\n);\r\nexport default makeSchematic;","import makeMap from \"../../generics/-makeMap\";\r\nimport { Schematic, Layout } from \"./~classes\";\r\nimport makeSchematic from \"./-makeSchematic\";\r\nimport makeLayout from \"./-makeLayout\";\r\nimport loadSchematic from \"./-loadSchematic\";\r\nimport loadLayout from \"./-loadLayout\";\r\n\r\n\r\nconst schematicMap = {\r\n   savename: \"makeCapacitor\",\r\n   diagramType: \"schematic\" as \"schematic\",\r\n   instance: Schematic,\r\n   make: makeSchematic,\r\n   load: loadSchematic,\r\n}\r\n\r\nconst layoutMap = {\r\n   savename: \"makeLayoutCapacitor\",\r\n   diagramType: \"layout\" as \"layout\",\r\n   instance: Layout,\r\n   make: makeLayout,\r\n   load: loadLayout,\r\n}\r\n\r\nconst maps = {\r\n   schematic: makeMap(schematicMap, layoutMap),\r\n   layout: makeMap(layoutMap, schematicMap)\r\n}\r\nexport default maps;","\r\nexport const INDEXCATHODE = 0;\r\nexport const INDEXANODE = 1;\r\n\r\n\r\n","import Component, { Types as ComponentTypes } from \"../../+component\";\r\nimport * as Types from \"./types\";\r\nimport { Vector } from \"../../../-vector\";\r\nimport deepCopy from \"../../../utility/-deepCopy\";\r\nimport Insert from \"../../../utility/~insert\";\r\nimport manifest from \"../../manifest\";\r\nimport getComponentConnections from \"../../generics/-getComponentConnections\";\r\nimport makeConnector from \"../../generics/-makeConnector\";\r\nimport { INDEXANODE, INDEXCATHODE } from \"./constants\";\r\nimport drawLayout from \"./-drawLayout\";\r\nimport drawSchematic from \"./-drawSchematic\";\r\nabstract class Base extends Component implements Types.values {\r\n   capacitance: number;\r\n   isPolarised: boolean;\r\n   joints: [Vector, Vector];\r\n\r\n   constructor(values: Types.values) {\r\n      super(values);\r\n      this.joints = values.joints;\r\n      this.capacitance = values.capacitance;\r\n      this.isPolarised = values.isPolarised;\r\n   }\r\n\r\n   getProperties(): Types.properties {\r\n      return deepCopy({\r\n         name: this.name,\r\n         capacitance: this.capacitance,\r\n         isPolarised: this.isPolarised\r\n      });\r\n   }\r\n\r\n   getState(): Types.state {\r\n      return deepCopy({\r\n         joints: this.joints,\r\n         disabled: this.disabled\r\n      });\r\n   }\r\n\r\n   insertInto(element?: SVGGraphicsElement) {\r\n      Insert.last(this.group.element, element);\r\n   }\r\n\r\n   transferFunction() { return [] };\r\n}\r\n\r\nexport class Schematic extends Base {\r\n   draw() {\r\n      //(Prepend so handles appear on top)\r\n      this.group.prepend(drawSchematic(this));\r\n   }\r\n\r\n   getConnections(): ComponentTypes.connector[][][] {\r\n      return getComponentConnections(this, manifest.schematic);\r\n   }\r\n\r\n   makeConnectors() {\r\n      if (this.isPolarised) {\r\n         this.connectorSets = [[\r\n            makeConnector(this, \"cathode\", \"node\", this.joints[INDEXCATHODE], \"-\"),\r\n            makeConnector(this, \"anode\", \"node\", this.joints[INDEXANODE], \"+\"),\r\n         ]]\r\n      } else {\r\n         this.connectorSets = [[\r\n            makeConnector(this, \"\", \"node\", this.joints[INDEXCATHODE]),\r\n            makeConnector(this, \"\", \"node\", this.joints[INDEXANODE]),\r\n         ]]\r\n      }\r\n   }\r\n}\r\n\r\nexport class Layout extends Base {\r\n   draw() {\r\n      //(Prepend so handles appear on top)\r\n      this.group.prepend(drawLayout(this));\r\n   }\r\n\r\n   getConnections(): ComponentTypes.connector[][][] {\r\n      return getComponentConnections(this, manifest.layout);\r\n   }\r\n\r\n   makeConnectors() {\r\n      if (this.isPolarised) {\r\n         this.connectorSets = [[\r\n            makeConnector(this, \"cathode\", \"pin\", this.joints[INDEXCATHODE], \"-\"),\r\n            makeConnector(this, \"anode\", \"pin\", this.joints[INDEXANODE], \"+\"),\r\n         ]]\r\n      } else {\r\n         this.connectorSets = [[\r\n            makeConnector(this, \"\", \"pin\", this.joints[INDEXCATHODE]),\r\n            makeConnector(this, \"\", \"pin\", this.joints[INDEXANODE]),\r\n         ]]\r\n      }\r\n   }\r\n}\r\n\r\n","import { Layout } from \"./~classes\";\r\nimport vector from \"../../../-vector\";\r\nimport { INDEXANODE, INDEXCATHODE } from \"./constants\";\r\n\r\nimport { make as makePath } from \"../../../svg/element/+path\";\r\nimport { make as makeGroup } from \"../../../svg/element/+group\";\r\nimport { make as makeCircle } from \"../../../svg/element/+circle\";\r\nimport { make as makeRect } from \"../../../svg/element/+rect\";\r\n//import * as $ from 'jquery';\r\n\r\nexport default function drawLayout(instance: Layout) {\r\n   const bodyGroup = makeGroup(\"body\");\r\n\r\n   const cathodeEnd = instance.joints[INDEXCATHODE];\r\n   const anodeEnd = instance.joints[INDEXANODE];\r\n\r\n   const centre = vector(cathodeEnd, anodeEnd).centre().vector;\r\n   const rotation = vector(anodeEnd).getAngleTo(cathodeEnd);\r\n\r\n   if (instance.color === \"N/A\") {\r\n      bodyGroup.append(\r\n         makeRect({ x: -5.5, y: 0 }, { width: 29, height: 15 }, { x: 0, y: 0 }, \"body\"),\r\n         makeRect({ x: 17.5, y: 0 }, { width: 5, height: 15 }, { x: 0, y: 0 }, \"body\"),\r\n         makeRect({ x: 12, y: 0 }, { width: 6, height: 15 }, { x: 0, y: 0 }, \"cathode\"),\r\n         makeRect({ x: 0, y: 0 }, { width: 40, height: 15 }, { x: 1, y: 1 }, \"highlight nofill\")\r\n      );\r\n   } else {\r\n      $(bodyGroup.element).addClass(\"led\");\r\n\r\n      const bodyString =\r\n         \"M \" + (10) + \" \" + (15) +\r\n         \"a \" + (18) + \" \" + (18) + \" \" + (0) + \" \" + (1) + \" \" + (0) + \" \" + (-20) + \" \" + (0) +\r\n         \"Z\";\r\n\r\n      const highlightString =\r\n         \"M \" + (10) + \" \" + (16) +\r\n         \"a \" + (18.8) + \" \" + (18.8) + \" \" + (0) + \" \" + (1) + \" \" + (0) + \" \" + (-20) + \" \" + (0) +\r\n         \"Z\";\r\n\r\n      const edge = makePath(bodyString, \"edge\");\r\n      const middle = makeCircle({ x: 0, y: 0 }, 14, \"centre\");\r\n\r\n      $([edge.element, middle.element]).css(\"fill\", instance.color);\r\n\r\n\r\n      bodyGroup.append(\r\n         edge,\r\n         makePath(bodyString, \"darkener\"),\r\n         middle,\r\n         makeCircle({ x: 0, y: 0 }, 8, \"lightener\"),\r\n         makePath(highlightString, \"nofill highlight\"),\r\n      ).rotate(-90);\r\n   }\r\n\r\n   return [\r\n      makePath([cathodeEnd, anodeEnd], \"lead\"),\r\n      bodyGroup.translate(centre).rotate(rotation)\r\n   ];\r\n}\r\n","import { Schematic } from \"./~classes\";\r\nimport vector, { Vector } from \"../../../-vector\";\r\nimport { INDEXANODE, INDEXCATHODE } from \"./constants\";\r\nimport getStandardForm from \"../../../utility/-getStandardForm\";\r\n\r\nimport { make as makePath } from \"../../../svg/element/+path\";\r\nimport { make as makeText } from \"../../../svg/element/+text\";\r\nimport { make as makeGroup } from \"../../../svg/element/+group\";\r\nimport { make as makeCircle } from \"../../../svg/element/+circle\";\r\n//import * as $ from 'jquery';\r\n\r\nexport default function drawSchematic(instance: Schematic) {\r\n   const bodyGroup = makeGroup(\"body\");\r\n\r\n   const cathodeEnd = instance.joints[INDEXCATHODE];\r\n   const anodeEnd = instance.joints[INDEXANODE];\r\n\r\n   const centre = vector(cathodeEnd, anodeEnd).centre().vector;\r\n   const rotation = vector(anodeEnd).getAngleTo(cathodeEnd);\r\n\r\n   let [cathodeStart, anodeStart]: Vector[] = vector(\r\n      { x: -12, y: 0 }, { x: 12, y: 0 }\r\n   ).rotate(rotation).sumWith(centre).vectors;\r\n\r\n   //Text\r\n   let text = (instance.breakdownVoltage < 51)\r\n      ? getStandardForm(instance.breakdownVoltage, 'V')\r\n      : getStandardForm(instance.saturationCurrent, 'A');\r\n\r\n   const bodyPath = 'M 12 0 L -12 12 L -12 -12 L 12 0 Z';\r\n   bodyGroup.append(\r\n      makePath(bodyPath, \"body highlight highlightwithfill extrathick\"),\r\n      makePath(bodyPath, \"body black\"),\r\n      // Polarisation Line\r\n      makePath('M 12 -12 L 12 12', \"line medium\")\r\n   );\r\n\r\n\r\n   if (instance.color === \"N/A\" || instance.color === undefined) {\r\n      if (instance.breakdownVoltage < 51) {\r\n         // Add the \"wings\" for xener\r\n         bodyGroup.append(makePath([[{ x: 12, y: -12 }, { x: 18, y: -12 },], [{ x: 12, y: 12 }, { x: 6, y: 12 }]], \"line medium\"));\r\n      }\r\n   } else {\r\n      // LED\r\n      const arrowJointsBase = vector([{ x: 0, y: 3 }, { x: -4, y: 0 }, { x: 0, y: -3 }, { x: -4, y: 0 }, { x: 8, y: 0 }]);\r\n      const arrowJoints1 = arrowJointsBase.sumWith({ x: -16, y: -10 }).rotate(-116.43).vectors;\r\n      const arrowJoints2 = arrowJointsBase.sumWith({ x: -16, y: 0 }).rotate(-116.43).vectors;\r\n      const colorCircle = makeCircle({ x: -4, y: 0 }, 4, \"line thin\");\r\n\r\n      $(colorCircle.element).css(\"fill\", instance.color);\r\n      $(colorCircle.element).css(\"stroke\", instance.color);\r\n\r\n      bodyGroup.append(\r\n         makePath(arrowJoints1, \"line black thin\"), //Arrow1\r\n         makePath(arrowJoints2, \"line black thin\"), //Arrow2\r\n         colorCircle //Color Indicator\r\n      );\r\n   }\r\n\r\n   const textEl = makeText(text, { x: 0, y: -15 }, \"text\");\r\n\r\n   return [\r\n      makePath([[cathodeStart, cathodeEnd], [anodeStart, anodeEnd]], \"line thin\"),\r\n      bodyGroup.translate(centre).rotate(rotation),\r\n      textEl.translate(centre).rotatePosition(rotation),\r\n   ];\r\n}\r\n\r\n","import makeLayout from \"./-makeLayout\"\r\n\r\nexport default function loadLayout(raw: any) {\r\n   const name = (raw.name);\r\n   const breakdownVoltage = (raw.breakdownVoltage);\r\n   const saturationCurrent = (raw.saturationCurrent);\r\n   const color = (raw.color);\r\n   const joints = (raw.joints);\r\n\r\n   return makeLayout({ name, breakdownVoltage, saturationCurrent, color, joints });\r\n}\r\n","import makeSchematic from \"./-makeSchematic\";\r\nimport ValueCheck from \"../~valueCheck\";\r\nimport vector, { Vector } from \"../../../-vector\"\r\n\r\nexport default function loadSchematic(raw: any) {\r\n   const name = (raw.name);\r\n   const breakdownVoltage = (raw.breakdownVoltage);\r\n   const saturationCurrent = (raw.saturationCurrent);\r\n   const color = (raw.color || raw.colour);\r\n   //Joints Block\r\n   const orientations: [\"LR\", \"RL\", \"UD\", \"DU\"] = [\"LR\", \"RL\", \"UD\", \"DU\"];\r\n   const orientation = ValueCheck.validate(orientations, \"LR\")(raw.orientation);\r\n   const where = ValueCheck.where({ x: 0, y: 0 })(raw.where);\r\n   const joints = (raw.joints || deriveJoints(orientation, where));\r\n\r\n   return makeSchematic({ name, breakdownVoltage, saturationCurrent, color, joints });\r\n}\r\n\r\nconst deriveJoints = (orientation: \"LR\" | \"RL\" | \"UD\" | \"DU\", where: Vector) => {\r\n   const baseJoints = ({\r\n      LR: [{ x: -20, y: 0 }, { x: 20, y: 0 }],\r\n      UD: [{ x: 0, y: -20 }, { x: 0, y: 20 }],\r\n      RL: [{ x: 20, y: 0 }, { x: -20, y: 0 }],\r\n      DU: [{ x: 0, y: 20 }, { x: 0, y: -20 }]\r\n   })[orientation] as [Vector, Vector];\r\n   return vector(baseJoints).sumWith(where).vectors;\r\n}\r\n","import ValueCheck from \"../~valueCheck\";\r\nimport * as Types from \"./types\";\r\nimport { Layout } from \"./~classes\";\r\nimport getMaker from \"../../generics/-getMaker\";\r\nimport { Vector } from \"../../../-vector\";\r\nimport Graphical from \"../addins/graphical\";\r\nimport Draggable from \"../addins/draggable\";\r\nimport Selectable from \"../addins/selectable\";\r\nimport Extendable from \"../addins/extendable\";\r\nimport ConnectionHighlights from \"../addins/connectionHighlights\"\r\n\r\nconst defaulterLayout: ValueCheck.Defaulter<Types.values> = {\r\n   name: ValueCheck.validate(\"string\", \"diode\"),\r\n   disabled: ValueCheck.validate(\"boolean\", false),\r\n   joints: ValueCheck.joints<[Vector, Vector]>(\r\n      [{ x: 0, y: 0 }, { x: 80, y: 0 }]\r\n   ),\r\n   breakdownVoltage: ValueCheck.validate(\"number\", 0),\r\n   saturationCurrent: ValueCheck.validate(\"number\", 0),\r\n   color: ValueCheck.color(\"N/A\")\r\n};\r\n\r\nconst makeLayout = getMaker(Layout, defaulterLayout,\r\n   (component: Layout) => {\r\n      Graphical.init(component);\r\n      Selectable.init(component);\r\n      Draggable.init(component);\r\n      Extendable.init(component);\r\n      ConnectionHighlights.init(component);\r\n   }\r\n);\r\nexport default makeLayout;","import ValueCheck from \"../~valueCheck\";\r\nimport * as Types from \"./types\";\r\nimport { Schematic } from \"./~classes\";\r\nimport getMaker from \"../../generics/-getMaker\";\r\nimport { Vector } from \"../../../-vector\";\r\nimport Graphical from \"../addins/graphical\";\r\nimport Draggable from \"../addins/draggable\";\r\nimport Selectable from \"../addins/selectable\";\r\nimport Extendable from \"../addins/extendable\";\r\nimport ConnectionHighlights from \"../addins/connectionHighlights\"\r\n\r\nimport { schematicManipulationEnabled } from \"../../../~constants\";\r\n\r\nconst defaulterSchematic: ValueCheck.Defaulter<Types.values> = {\r\n   name: ValueCheck.validate(\"string\", \"diode\"),\r\n   disabled: ValueCheck.validate(\"boolean\", false),\r\n   joints: ValueCheck.joints<[Vector, Vector]>(\r\n      [{ x: 0, y: 0 }, { x: 40, y: 40 }]\r\n   ),\r\n   breakdownVoltage: ValueCheck.validate(\"number\", 0),\r\n   saturationCurrent: ValueCheck.validate(\"number\", 0),\r\n   color: ValueCheck.color(\"N/A\")\r\n};\r\n\r\n\r\nconst makeSchematic = getMaker(Schematic, defaulterSchematic,\r\n   (component: Schematic) => {\r\n      Graphical.init(component);\r\n      Selectable.init(component);\r\n      ConnectionHighlights.init(component, false);\r\n      if (schematicManipulationEnabled) {\r\n         Draggable.init(component);\r\n         Extendable.init(component);\r\n      }\r\n   }\r\n);\r\nexport default makeSchematic;","import makeMap from \"../../generics/-makeMap\";\r\nimport { Schematic, Layout } from \"./~classes\";\r\nimport makeSchematic from \"./-makeSchematic\";\r\nimport makeLayout from \"./-makeLayout\";\r\nimport loadSchematic from \"./-loadSchematic\";\r\nimport loadLayout from \"./-loadLayout\";\r\n\r\n\r\nconst schematicMap = {\r\n   savename: \"makeDiode\",\r\n   diagramType: \"schematic\" as \"schematic\",\r\n   instance: Schematic,\r\n   make: makeSchematic,\r\n   load: loadSchematic,\r\n}\r\n\r\nconst layoutMap = {\r\n   savename: \"makeLayoutDiode\",\r\n   diagramType: \"layout\" as \"layout\",\r\n   instance: Layout,\r\n   make: makeLayout,\r\n   load: loadLayout,\r\n}\r\n\r\nconst maps = {\r\n   schematic: makeMap(schematicMap, layoutMap),\r\n   layout: makeMap(layoutMap, schematicMap)\r\n}\r\nexport default maps;","export const INDEXANODE = 0;\r\nexport const INDEXCATHODE = 1;\r\n\r\n\r\n","import Component, { Types as ComponentTypes } from \"../../+component\";\r\nimport * as Types from \"./types\";\r\nimport { Vector } from \"../../../-vector\";\r\nimport deepCopy from \"../../../utility/-deepCopy\";\r\nimport Insert from \"../../../utility/~insert\";\r\nimport manifest from \"../../manifest\";\r\nimport getComponentConnections from \"../../generics/-getComponentConnections\";\r\nimport makeConnector from \"../../generics/-makeConnector\";\r\nimport drawLayout from \"./-drawLayout\";\r\nimport drawSchematic from \"./-drawSchematic\";\r\nimport { INDEXANODE, INDEXCATHODE } from \"./constants\";\r\nabstract class Base extends Component implements Types.values {\r\n   breakdownVoltage: number;\r\n   saturationCurrent: number;\r\n   joints: [Vector, Vector];\r\n   color: string;\r\n\r\n   constructor(values: Types.values) {\r\n      super(values);\r\n      this.joints = values.joints;\r\n      this.saturationCurrent = values.saturationCurrent;\r\n      this.breakdownVoltage = values.breakdownVoltage;\r\n      this.color = values.color;\r\n   }\r\n\r\n   getProperties(): Types.properties {\r\n      return deepCopy({\r\n         name: this.name,\r\n         breakdownVoltage: this.breakdownVoltage,\r\n         saturationCurrent: this.saturationCurrent,\r\n         color: this.color\r\n      });\r\n   }\r\n\r\n   getState(): Types.state {\r\n      return deepCopy({\r\n         joints: this.joints,\r\n         disabled: this.disabled\r\n      });\r\n   }\r\n\r\n   insertInto(element?: SVGGraphicsElement) {\r\n      Insert.last(this.group.element, element);\r\n   }\r\n\r\n   transferFunction() { return [] };\r\n}\r\n\r\nexport class Schematic extends Base {\r\n   draw() {\r\n      //(Prepend so handles appear on top)\r\n      this.group.prepend(drawSchematic(this));\r\n   }\r\n   getConnections(): ComponentTypes.connector[][][] {\r\n      return getComponentConnections(this, manifest.schematic);\r\n   }\r\n   makeConnectors() {\r\n      this.connectorSets = [[\r\n         makeConnector(this, \"anode\", \"node\", this.joints[INDEXANODE], \"+\"),\r\n         makeConnector(this, \"cathode\", \"node\", this.joints[INDEXCATHODE], \"-\"),\r\n      ]];\r\n   }\r\n}\r\n\r\nexport class Layout extends Base {\r\n   draw() {\r\n      //(Prepend so handles appear on top)\r\n      this.group.prepend(drawLayout(this));\r\n   }\r\n   getConnections(): ComponentTypes.connector[][][] {\r\n      return getComponentConnections(this, manifest.layout);\r\n   }\r\n   makeConnectors() {\r\n      this.connectorSets = [[\r\n         makeConnector(this, \"anode\", \"pin\", this.joints[INDEXANODE], \"+\"),\r\n         makeConnector(this, \"cathode\", \"pin\", this.joints[INDEXCATHODE], \"-\"),\r\n      ]];\r\n   }\r\n}\r\n\r\n","import { Layout } from \"./~classes\";\r\nimport vector from \"../../../-vector\";\r\nimport { INDEXEND1, INDEXEND2 } from \"./constants\";\r\n\r\nimport { make as makePath } from \"../../../svg/element/+path\";\r\nimport { make as makeGroup } from \"../../../svg/element/+group\";\r\n\r\nexport default function drawLayout(instance: Layout) {\r\n   const bodyGroup = makeGroup(\"body\");\r\n\r\n   const end1 = instance.joints[INDEXEND1];\r\n   const end2 = instance.joints[INDEXEND2];\r\n\r\n   let centre = vector(end1, end2).centre().vector;\r\n   let rotation = vector(end1).getAngleTo(end2);\r\n\r\n   const nCoils = 4;\r\n   const wireWidth = 8;\r\n   const coilTop = -15;\r\n   const coilBottom = 15;\r\n   const coilStart = (-(nCoils * wireWidth) / 2 + wireWidth / 4);\r\n\r\n   let bodyPath = \"M\" + (coilStart) + \" \" + (coilBottom);\r\n   let bodyEdgePath = \"\";\r\n   for (let i = 1; i < nCoils; i++) {\r\n      let x0 = coilStart + wireWidth * (i - 0.5);\r\n      let x1 = coilStart + wireWidth * (i);\r\n      bodyPath += \"L\" + (x0) + \" \" + (coilTop) + \"L\" + (x1) + \" \" + (coilBottom);\r\n      bodyEdgePath += \"M\" + (x0) + \" \" + (coilBottom) + \"L\" + (x1) + \" \" + (coilTop);\r\n   }\r\n   bodyPath += \"L\" + (-coilStart) + \" \" + (coilTop);\r\n\r\n   bodyGroup.append(\r\n      makePath(bodyPath, \"highlight highlightwithfill\"),\r\n      makePath(bodyPath, \"body\"),\r\n      makePath(bodyEdgePath, \"bodyEdge\")\r\n   );\r\n\r\n   return [\r\n      makePath([end1, end2], \"lead\"),\r\n      bodyGroup.translate(centre).rotate(rotation)\r\n   ];\r\n}\r\n","import { Schematic } from \"./~classes\";\r\nimport vector, { Vector } from \"../../../-vector\";\r\nimport { INDEXEND1, INDEXEND2 } from \"./constants\";\r\nimport getStandardForm from \"../../../utility/-getStandardForm\";\r\n\r\nimport { make as makePath } from \"../../../svg/element/+path\";\r\nimport { make as makeText } from \"../../../svg/element/+text\";\r\nimport { make as makeGroup } from \"../../../svg/element/+group\";\r\nimport { make as makeRect } from \"../../../svg/element/+rect\";\r\n\r\nexport default function drawSchematic(instance: Schematic) {\r\n   const bodyGroup = makeGroup(\"body\");\r\n\r\n   const end1 = instance.joints[INDEXEND1];\r\n   const end2 = instance.joints[INDEXEND2];\r\n\r\n   let centre = vector(end1, end2).centre().vector;\r\n   let rotation = vector(end1).getAngleTo(end2);\r\n\r\n   let [start1, start2]: Vector[] = vector(\r\n      { x: -20, y: 0 }, { x: 20, y: 0 }\r\n   ).rotate(rotation).sumWith(centre).vectors;\r\n\r\n   //Text\r\n   let text = getStandardForm(instance.inductance, 'H');\r\n\r\n   bodyGroup.append(\r\n      makeRect({ x: 0, y: -2 }, { width: 40, height: 12 }, vector(2), \"highlight highlightwithfill extrathick\"),\r\n      makePath('M-20 0 q5 -12, 10 0 q5 -12, 10 0 q5 -12, 10 0 q5 -12, 10 0', \"line medium\")\r\n   );\r\n\r\n   let textEl = makeText(text, { x: 0, y: -13 }, \"text\");\r\n\r\n   return [\r\n      makePath([[start1, end1], [start2, end2]], \"line thin\"),\r\n      bodyGroup.translate(centre).rotate(rotation),\r\n      textEl.translate(centre).rotatePosition(rotation),\r\n   ];\r\n}\r\n\r\n","import makeLayout from \"./-makeLayout\"\r\n\r\nexport default function loadLayout(raw: any) {\r\n   const name = (raw.name);\r\n   const inductance = (raw.inductance);\r\n   const joints = (raw.joints);\r\n\r\n   return makeLayout({ name, inductance, joints });\r\n}\r\n","import makeSchematic from \"./-makeSchematic\";\r\nimport ValueCheck from \"../~valueCheck\";\r\nimport vector, { Vector } from \"../../../-vector\"\r\n\r\nexport default function loadSchematic(raw: any) {\r\n   const name = (raw.name);\r\n   const inductance = (raw.inductance || raw.value);\r\n   //Joints Block\r\n   const orientations: [\"LR\", \"RL\", \"UD\", \"DU\"] = [\"LR\", \"RL\", \"UD\", \"DU\"];\r\n   const orientation = ValueCheck.validate(orientations, \"LR\")(raw.orientation);\r\n   const where = ValueCheck.where({ x: 0, y: 0 })(raw.where);\r\n   const joints = (raw.joints || deriveJoints(orientation, where));\r\n\r\n   return makeSchematic({ name, inductance, joints, });\r\n}\r\n\r\nconst deriveJoints = (orientation: \"LR\" | \"RL\" | \"UD\" | \"DU\", where: Vector) => {\r\n   const baseJoints = ({\r\n      LR: [{ x: -30, y: 0 }, { x: 30, y: 0 }],\r\n      UD: [{ x: 0, y: -30 }, { x: 0, y: 30 }],\r\n      RL: [{ x: 30, y: 0 }, { x: -30, y: 0 }],\r\n      DU: [{ x: 0, y: 30 }, { x: 0, y: -30 }]\r\n   })[orientation] as [Vector, Vector];\r\n   return vector(baseJoints).sumWith(where).vectors;\r\n}\r\n","import ValueCheck from \"../~valueCheck\";\r\nimport * as Types from \"./types\";\r\nimport { Layout } from \"./~classes\";\r\nimport getMaker from \"../../generics/-getMaker\";\r\nimport { Vector } from \"../../../-vector\";\r\nimport Graphical from \"../addins/graphical\";\r\nimport Draggable from \"../addins/draggable\";\r\nimport Selectable from \"../addins/selectable\";\r\nimport Extendable from \"../addins/extendable\";\r\nimport ConnectionHighlights from \"../addins/connectionHighlights\"\r\n\r\nconst defaulterLayout: ValueCheck.Defaulter<Types.values> = {\r\n   name: ValueCheck.validate(\"string\", \"inductor\"),\r\n   disabled: ValueCheck.validate(\"boolean\", false),\r\n   joints: ValueCheck.joints<[Vector, Vector]>(\r\n      [{ x: 0, y: 0 }, { x: 80, y: 0 }]\r\n   ),\r\n   inductance: ValueCheck.validate(\"number\", 0)\r\n};\r\n\r\nconst makeLayout = getMaker(Layout, defaulterLayout,\r\n   (component: Layout) => {\r\n      Graphical.init(component);\r\n      Draggable.init(component);\r\n      Selectable.init(component);\r\n      Extendable.init(component);\r\n      ConnectionHighlights.init(component);\r\n   }\r\n);\r\nexport default makeLayout;","import ValueCheck from \"../~valueCheck\";\r\nimport * as Types from \"./types\";\r\nimport { Schematic } from \"./~classes\";\r\nimport getMaker from \"../../generics/-getMaker\";\r\nimport { Vector } from \"../../../-vector\";\r\nimport Graphical from \"../addins/graphical\";\r\nimport Draggable from \"../addins/draggable\";\r\nimport Selectable from \"../addins/selectable\";\r\nimport Extendable from \"../addins/extendable\";\r\nimport ConnectionHighlights from \"../addins/connectionHighlights\";\r\n\r\nimport { schematicManipulationEnabled } from \"../../../~constants\";\r\n\r\nconst defaulterSchematic: ValueCheck.Defaulter<Types.values> = {\r\n   name: ValueCheck.validate(\"string\", \"inductor\"),\r\n   disabled: ValueCheck.validate(\"boolean\", false),\r\n   joints: ValueCheck.joints<[Vector, Vector]>(\r\n      [{ x: 0, y: 0 }, { x: 40, y: 40 }]\r\n   ),\r\n   inductance: ValueCheck.validate(\"number\", 0)\r\n};\r\n\r\n\r\nconst makeSchematic = getMaker(Schematic, defaulterSchematic,\r\n   (component: Schematic) => {\r\n      Selectable.init(component);\r\n      ConnectionHighlights.init(component, false);\r\n      Graphical.init(component);\r\n      if (schematicManipulationEnabled) {\r\n         Draggable.init(component);\r\n         Extendable.init(component);\r\n      }\r\n   }\r\n);\r\n\r\nexport default makeSchematic;","import makeMap from \"../../generics/-makeMap\";\r\nimport { Schematic, Layout } from \"./~classes\";\r\nimport makeSchematic from \"./-makeSchematic\";\r\nimport makeLayout from \"./-makeLayout\";\r\nimport loadSchematic from \"./-loadSchematic\";\r\nimport loadLayout from \"./-loadLayout\";\r\n\r\n\r\nconst schematicMap = {\r\n   savename: \"makeInductor\",\r\n   diagramType: \"schematic\" as \"schematic\",\r\n   instance: Schematic,\r\n   make: makeSchematic,\r\n   load: loadSchematic,\r\n}\r\n\r\nconst layoutMap = {\r\n   savename: \"makeLayoutInductor\",\r\n   diagramType: \"layout\" as \"layout\",\r\n   instance: Layout,\r\n   make: makeLayout,\r\n   load: loadLayout,\r\n}\r\n\r\nconst maps = {\r\n   schematic: makeMap(schematicMap, layoutMap),\r\n   layout: makeMap(layoutMap, schematicMap)\r\n}\r\nexport default maps;","\r\nexport const INDEXEND1 = 0;\r\nexport const INDEXEND2 = 1;\r\n\r\n\r\n","import Component, { Types as ComponentTypes } from \"../../+component\";\r\nimport * as Types from \"./types\";\r\nimport { Vector } from \"../../../-vector\";\r\nimport deepCopy from \"../../../utility/-deepCopy\";\r\nimport Insert from \"../../../utility/~insert\";\r\nimport manifest from \"../../manifest\";\r\nimport getComponentConnections from \"../../generics/-getComponentConnections\";\r\nimport makeConnector from \"../../generics/-makeConnector\";\r\nimport drawLayout from \"./-drawLayout\";\r\nimport drawSchematic from \"./-drawSchematic\";\r\nimport { INDEXEND1, INDEXEND2 } from \"./constants\";\r\nabstract class Base extends Component implements Types.values {\r\n   inductance: number;\r\n   joints: [Vector, Vector];\r\n\r\n   constructor(values: Types.values) {\r\n      super(values);\r\n      this.joints = values.joints;\r\n      this.inductance = values.inductance;\r\n   }\r\n\r\n   getProperties(): Types.properties {\r\n      return deepCopy({\r\n         name: this.name,\r\n         inductance: this.inductance,\r\n      });\r\n   }\r\n\r\n   getState(): Types.state {\r\n      return deepCopy({\r\n         joints: this.joints,\r\n         disabled: this.disabled\r\n      });\r\n   }\r\n\r\n   insertInto(element?: SVGGraphicsElement) {\r\n      Insert.last(this.group.element, element);\r\n   }\r\n\r\n   transferFunction() { return [] };\r\n}\r\n\r\nexport class Schematic extends Base {\r\n   draw() {\r\n      //(Prepend so handles appear on top)\r\n      this.group.prepend(drawSchematic(this));\r\n   }\r\n   getConnections(): ComponentTypes.connector[][][] {\r\n      return getComponentConnections(this, manifest.schematic);\r\n   }\r\n   makeConnectors() {\r\n      this.connectorSets = [[\r\n         makeConnector(this, \"\", \"node\", this.joints[INDEXEND1]),\r\n         makeConnector(this, \"\", \"node\", this.joints[INDEXEND2]),\r\n      ]]\r\n   }\r\n}\r\n\r\nexport class Layout extends Base {\r\n   draw() {\r\n      //(Prepend so handles appear on top)\r\n      this.group.prepend(drawLayout(this));\r\n   }\r\n   getConnections(): ComponentTypes.connector[][][] {\r\n      return getComponentConnections(this, manifest.layout);\r\n   }\r\n   makeConnectors() {\r\n      this.connectorSets = [[\r\n         makeConnector(this, \"\", \"pin\", this.joints[INDEXEND1]),\r\n         makeConnector(this, \"\", \"pin\", this.joints[INDEXEND2]),\r\n      ]]\r\n   }\r\n\r\n}\r\n\r\n","import { Layout } from \"./~classes\";\r\nimport vector from \"../../../-vector\";\r\nimport { INDEXCENTRE, INDEXROTATION } from \"./constants\";\r\n\r\nimport { make as makeDip } from \"../../../svg/element/groups/+dip\";\r\n\r\nexport default function drawLayout(instance: Layout) {\r\n\r\n   const centre = instance.joints[INDEXCENTRE];\r\n   const rotationPoint = instance.joints[INDEXROTATION];\r\n\r\n   const rotation = vector(centre).getAngleTo(rotationPoint);\r\n\r\n   //TODO Make DIP draw in centre? So this can be tidied.\r\n   if (instance.isDual) {\r\n      return makeDip(4, \"\", \"TL072\", \"\").translate(vector(-30)).rotate(rotation, vector(30)).translate(centre);\r\n   } else {\r\n      return makeDip(4, \"\", \"TL071\", \"\").translate(vector(-30)).rotate(rotation, vector(30)).translate(centre);\r\n   }\r\n}\r\n","import { Schematic } from \"./~classes\";\r\nimport vector, { Vector } from \"../../../-vector\";\r\nimport { INDEXINPOS, INDEXINNEG, INDEXOUT, INDEXPOW1, INDEXPOW2 } from \"./constants\";\r\n\r\nimport { make as makePath } from \"../../../svg/element/+path\";\r\nimport { make as makeGroup } from \"../../../svg/element/+group\";\r\nimport { make as makeLine } from \"../../../svg/element/+line\";\r\n\r\nexport default function drawSchematic(instance: Schematic) {\r\n   const bodyGroup = makeGroup(\"body\");\r\n\r\n   const inPEnd = instance.joints[INDEXINPOS];\r\n   const inNEnd = instance.joints[INDEXINNEG];\r\n   const outEnd = instance.joints[INDEXOUT];\r\n   const pow1End = instance.joints[INDEXPOW1];\r\n   const pow2End = instance.joints[INDEXPOW2];\r\n\r\n   // Corners of the body triangle\r\n   const bodyJoints = [{ x: -25, y: -25 }, { x: 25, y: 0 }, { x: -25, y: 25 }, { x: -25, y: -25 }];\r\n\r\n   // The drawings orientation (before transforms) is: \r\n   //   emitter at the top\r\n   //   collector at the bottom\r\n   //   base to the right\r\n   bodyGroup.append(\r\n\r\n      //Highlight\r\n      makePath(bodyJoints, \"highlight highlightwithfill extrathick\"),\r\n      //Main body triangle\r\n      makePath(bodyJoints, \"body white\"),\r\n\r\n      //Plus\r\n      makeLine({ x: -22, y: -10 }, { x: -14, y: -10 }, \"line thin\"),\r\n      makeLine({ x: -18, y: -6 }, { x: -18, y: -14 }, \"line thin\"),\r\n\r\n      //Minus\r\n      makeLine({ x: -22, y: +10 }, { x: -14, y: +10 }, \"line thin\"),\r\n   );\r\n\r\n\r\n   // Image centre does not take base into account\r\n   // Is always directly between the emitter and collector\r\n   let centre = vector(pow1End, pow2End).centre().vector;\r\n\r\n   // all angles are relative to the x-axis, hence in default orientation:\r\n   //   when no rotation is required, angleEmitterCentre = 90, \r\n   let angleCentreBase = vector(centre).getAngleTo(outEnd);\r\n   let angleInPInN = vector(pow1End).getAngleTo(pow2End);\r\n\r\n   let rotation = angleInPInN - 90;\r\n\r\n   // Don't ask.\r\n   let scale = (((angleInPInN - angleCentreBase + 360) % 360) > 180)\r\n      ? { x: -1 }\r\n      : { x: 1 };\r\n\r\n   // Only the start of the connections should be transformed, \r\n   // the ends should be absolute.\r\n   // (Hence using vector transforms, not svg transforms)\r\n   let [inPStart, inNStart, outStart, powPStart, powNStart]: Vector[] = vector(\r\n      { x: -25, y: -10 }, { x: -25, y: 10 }, { x: 25, y: 0 }, { x: 0, y: -13 }, { x: 0, y: 13 }\r\n   ).scaleWith(scale).rotate(rotation).sumWith(centre).vectors;\r\n\r\n\r\n   let joints = [\r\n      [inPStart, inPEnd],\r\n      [inNStart, inNEnd],\r\n      [outStart, outEnd],\r\n      [powPStart, pow1End],\r\n      [powNStart, pow2End],\r\n   ]\r\n\r\n   return [\r\n      bodyGroup.translate(centre).rotate(rotation).scale(scale, false),\r\n      makePath(joints, \"line thin\"),\r\n   ];\r\n}\r\n\r\n","import makeLayout from \"./-makeLayout\"\r\n\r\nexport default function loadLayout(raw: any) {\r\n   const name = (raw.name);\r\n   const offsetVoltage = (raw.offsetVoltage);\r\n   const isDual = (raw.isDual);\r\n   const joints = (raw.joints);\r\n\r\n   return makeLayout({ name, offsetVoltage, isDual, joints });\r\n}\r\n","import makeSchematic from \"./-makeSchematic\";\r\nimport ValueCheck from \"../~valueCheck\";\r\nimport vector, { Vector } from \"../../../-vector\";\r\nimport PowerMaps from \"../_power/-maps\"\r\n\r\nexport default function loadSchematic(raw: any) {\r\n   const name = (raw.name);\r\n   const offsetVoltage = (raw.offsetVoltage);\r\n\r\n   //Joints Block\r\n   const orientations: [\"LR\", \"RL\"] = [\"LR\", \"RL\"];\r\n   const orientation = ValueCheck.validate(orientations, \"LR\")(raw.orientation);\r\n   const inputsAtTop: [\"inverting\", \"non-inverting\"] = [\"inverting\", \"non-inverting\"]\r\n   const inputAtTop = ValueCheck.validate(inputsAtTop, \"non-inverting\")(raw.whichInputAtTop);\r\n   const where = ValueCheck.where({ x: 0, y: 0 })(raw.where);\r\n   const joints = (raw.joints || deriveJoints(orientation, inputAtTop, where));\r\n\r\n   const opAmp = makeSchematic({ name, offsetVoltage, joints });\r\n\r\n   // Also make the power connections\r\n   const isNumber = ValueCheck.test(\"number\");\r\n   const [minOutput, maxOutput] = [raw.minOutput, raw.maxOutput];\r\n   if (isNumber(minOutput) && isNumber(maxOutput)) {\r\n\r\n      const topPower = PowerMaps.schematic.make({\r\n         voltage: maxOutput,\r\n         joints: vector([{ x: 0, y: -20 }]).sumWith(where).vectors\r\n      });\r\n\r\n      const bottomPower = PowerMaps.schematic.make({\r\n         voltage: minOutput,\r\n         joints: vector([{ x: 0, y: 20 }]).sumWith(where).vectors\r\n      });\r\n\r\n      return [topPower, bottomPower, opAmp];\r\n   } else {\r\n      return opAmp;\r\n   }\r\n}\r\n\r\nconst deriveJoints = (orientation: \"LR\" | \"RL\", inputAtTop: \"inverting\" | \"non-inverting\", where: Vector) => {\r\n   const [inHigh, inLow] = orientation === \"LR\"\r\n      ? [{ x: -30, y: -10 }, { x: -30, y: +10 }]\r\n      : [{ x: +30, y: -10 }, { x: +30, y: +10 }];\r\n\r\n   const [inInverting, inNonInverting] = inputAtTop === \"inverting\"\r\n      ? [inHigh, inLow] : [inLow, inHigh]\r\n\r\n   const [out] = orientation === \"LR\"\r\n      ? [{ x: +40, y: 0 }]\r\n      : [{ x: -40, y: 0 }];\r\n\r\n   const [powPositive, powNegative] = inputAtTop === \"inverting\"\r\n      ? [{ x: 0, y: -20 }, { x: 0, y: +20 }]\r\n      : [{ x: 0, y: +20 }, { x: 0, y: -20 }];\r\n\r\n   return vector([inInverting, inNonInverting, out, powPositive, powNegative]).sumWith(where).vectors;\r\n}\r\n","import ValueCheck from \"../~valueCheck\";\r\nimport * as Types from \"./types\";\r\nimport { Layout } from \"./~classes\";\r\nimport getMaker from \"../../generics/-getMaker\";\r\nimport { Vector } from \"../../../-vector\";\r\nimport Graphical from \"../addins/graphical\";\r\nimport Draggable from \"../addins/draggable\";\r\nimport Selectable from \"../addins/selectable\";\r\nimport Rotatable from \"../addins/rotatable\";\r\nimport ConnectionHighlights from \"../addins/connectionHighlights\"\r\n\r\nconst defaulterLayout: ValueCheck.Defaulter<Types.valuesLayout> = {\r\n   name: ValueCheck.validate(\"string\", \"opAmp\"),\r\n   disabled: ValueCheck.validate(\"boolean\", false),\r\n   isDual: ValueCheck.validate(\"boolean\", false),\r\n   joints: ValueCheck.joints<[Vector, Vector]>(\r\n      [{ x: 30, y: 30 }, { x: 40, y: 30 }]\r\n   ),\r\n   offsetVoltage: ValueCheck.validate(\"number\", 0)\r\n};\r\n\r\nconst makeLayout = getMaker(Layout, defaulterLayout,\r\n   (component: Layout) => {\r\n      Graphical.init(component);\r\n      Draggable.init(component);\r\n      Rotatable.init(component);\r\n      Selectable.init(component);\r\n      ConnectionHighlights.init(component);\r\n   }\r\n);\r\nexport default makeLayout;\r\n","import ValueCheck from \"../~valueCheck\";\r\nimport * as Types from \"./types\";\r\nimport { Schematic } from \"./~classes\";\r\nimport getMaker from \"../../generics/-getMaker\";\r\nimport { Vector } from \"../../../-vector\";\r\nimport Graphical from \"../addins/graphical\";\r\nimport Draggable from \"../addins/draggable\";\r\nimport Selectable from \"../addins/selectable\";\r\nimport Extendable from \"../addins/extendable\";\r\nimport ConnectionHighlights from \"../addins/connectionHighlights\";\r\n\r\nimport { schematicManipulationEnabled } from \"../../../~constants\";\r\n\r\nconst defaulterSchematic: ValueCheck.Defaulter<Types.valuesSchematic> = {\r\n   name: ValueCheck.validate(\"string\", \"opAmp\"),\r\n   disabled: ValueCheck.validate(\"boolean\", false),\r\n   joints: ValueCheck.joints<[Vector, Vector, Vector, Vector, Vector]>(\r\n      [{ x: -30, y: -10 }, { x: -30, y: +10 }, { x: 40, y: 0 }, { x: 0, y: -20 }, { x: 0, y: 20 }]\r\n   ),\r\n   offsetVoltage: ValueCheck.validate(\"number\", 0)\r\n};\r\n\r\n\r\nconst makeSchematic = getMaker(Schematic, defaulterSchematic,\r\n   (component: Schematic) => {\r\n      Selectable.init(component);\r\n      ConnectionHighlights.init(component, false);\r\n      Graphical.init(component);\r\n      if (schematicManipulationEnabled) {\r\n         Draggable.init(component);\r\n         Extendable.init(component);\r\n      }\r\n   }\r\n);\r\n\r\nexport default makeSchematic;","import makeMap from \"../../generics/-makeMap\";\r\nimport { Schematic, Layout } from \"./~classes\";\r\nimport makeSchematic from \"./-makeSchematic\";\r\nimport makeLayout from \"./-makeLayout\";\r\nimport loadSchematic from \"./-loadSchematic\";\r\nimport loadLayout from \"./-loadLayout\";\r\n\r\n\r\nconst schematicMap = {\r\n   savename: \"makeOpAmp\",\r\n   diagramType: \"schematic\" as \"schematic\",\r\n   instance: Schematic,\r\n   make: makeSchematic,\r\n   load: loadSchematic,\r\n}\r\n\r\nconst layoutMap = {\r\n   savename: \"makeLayoutOpAmp\",\r\n   diagramType: \"layout\" as \"layout\",\r\n   instance: Layout,\r\n   make: makeLayout,\r\n   load: loadLayout,\r\n}\r\n\r\nconst maps = {\r\n   schematic: makeMap(schematicMap, layoutMap),\r\n   layout: makeMap(layoutMap, schematicMap)\r\n}\r\nexport default maps;","// Schematic\r\nexport const INDEXINPOS = 0;\r\nexport const INDEXINNEG = 1;\r\nexport const INDEXOUT = 2;\r\nexport const INDEXPOW1 = 3;\r\nexport const INDEXPOW2 = 4;\r\n\r\n// Layout\r\nexport const INDEXCENTRE = 0;\r\nexport const INDEXROTATION = 1;\r\n\r\n\r\n","import Component, { Types as ComponentTypes } from \"../../+component\";\r\nimport * as Types from \"./types\";\r\nimport vector, { Vector } from \"../../../-vector\";\r\nimport deepCopy from \"../../../utility/-deepCopy\";\r\nimport Insert from \"../../../utility/~insert\";\r\nimport manifest from \"../../manifest\";\r\nimport getComponentConnections from \"../../generics/-getComponentConnections\";\r\nimport makeConnector from \"../../generics/-makeConnector\";\r\nimport drawLayout from \"./-drawLayout\";\r\nimport drawSchematic from \"./-drawSchematic\";\r\nimport { INDEXINPOS, INDEXINNEG, INDEXOUT, INDEXPOW1, INDEXPOW2, INDEXCENTRE, INDEXROTATION } from \"./constants\";\r\n\r\nimport { gridSpacing } from \"../../../~constants\";\r\n\r\nabstract class Base extends Component implements Types.properties {\r\n   offsetVoltage: number;\r\n\r\n   constructor(values: Types.valuesSchematic | Types.valuesLayout) {\r\n      super(values);\r\n      this.offsetVoltage = values.offsetVoltage;\r\n   }\r\n\r\n   getProperties(): Types.properties {\r\n      return deepCopy({\r\n         name: this.name,\r\n         offsetVoltage: this.offsetVoltage\r\n      });\r\n   }\r\n\r\n   abstract getState(): Types.stateLayout | Types.stateSchematic;\r\n\r\n   insertInto(element?: SVGGraphicsElement) {\r\n      Insert.last(this.group.element, element);\r\n   }\r\n\r\n   transferFunction() { return [] };\r\n}\r\n\r\nexport class Schematic extends Base implements Types.valuesSchematic {\r\n   joints: [Vector, Vector, Vector, Vector, Vector];\r\n   constructor(values: Types.valuesSchematic) {\r\n      super(values);\r\n      this.offsetVoltage = values.offsetVoltage;\r\n      this.joints = values.joints;\r\n   }\r\n   getState(): Types.stateSchematic {\r\n      return deepCopy({\r\n         joints: this.joints,\r\n         disabled: this.disabled\r\n      });\r\n   }\r\n   draw() {\r\n      //(Prepend so handles appear on top)\r\n      this.group.prepend(drawSchematic(this));\r\n   }\r\n   getConnections(): ComponentTypes.connector[][][] {\r\n      return getComponentConnections(this, manifest.schematic);\r\n   }\r\n   makeConnectors() {\r\n\r\n      let [posPower, negPower] = (this.joints[INDEXPOW1].y < this.joints[INDEXPOW2].y)\r\n         ? [this.joints[INDEXPOW1], this.joints[INDEXPOW2]]\r\n         : [this.joints[INDEXPOW2], this.joints[INDEXPOW1]];\r\n\r\n      this.connectorSets = [[\r\n         // The ordering here is important so the colors line up between layout and schematic\r\n         makeConnector(this, \"vcc+\", \"node\", posPower, \"v+\"),              //7\r\n         makeConnector(this, \"out\", \"node\", this.joints[INDEXOUT], \"o\"),   //6\r\n         makeConnector(this, \"in-\", \"node\", this.joints[INDEXINNEG], \"i-\"),//2\r\n         makeConnector(this, \"in+\", \"node\", this.joints[INDEXINPOS], \"i+\"),//3\r\n         makeConnector(this, \"vcc-\", \"node\", negPower, \"v-\"),              //4\r\n         //makeConnector(this, \"nc\", \"node\", {???}),                       //8\r\n         //makeConnector(this, \"offset n1\", \"node\", {???}),                //5\r\n         //makeConnector(this, \"offset n2\", \"node\", {???}),                //1\r\n      ]];\r\n   }\r\n}\r\n\r\nexport class Layout extends Base implements Types.valuesLayout {\r\n   isDual: boolean;\r\n   joints: [Vector, Vector];\r\n   constructor(values: Types.valuesLayout) {\r\n      super(values);\r\n      this.offsetVoltage = values.offsetVoltage;\r\n      this.isDual = values.isDual;\r\n      this.joints = values.joints;\r\n   }\r\n   getState(): Types.stateLayout {\r\n      return deepCopy({\r\n         isDual: this.isDual,\r\n         joints: this.joints,\r\n         disabled: this.disabled\r\n      });\r\n   }\r\n   draw() {\r\n      //(Prepend so handles appear on top)\r\n      this.group.prepend(drawLayout(this));\r\n   }\r\n   getConnections(): ComponentTypes.connector[][][] {\r\n      return getComponentConnections(this, manifest.layout);\r\n   }\r\n   makeConnectors() {\r\n      let gs = gridSpacing;\r\n\r\n      let c = this.joints[INDEXCENTRE];\r\n      let r = vector(this.joints[INDEXCENTRE]).getAngleTo(this.joints[INDEXROTATION]);\r\n\r\n      let connectorPoints = vector([\r\n         { x: 0 * gs, y: 3 * gs },//1\r\n         { x: 1 * gs, y: 3 * gs },//2\r\n         { x: 2 * gs, y: 3 * gs },//3\r\n         { x: 3 * gs, y: 3 * gs },//4\r\n         { x: 3 * gs, y: 0 * gs },//5\r\n         { x: 2 * gs, y: 0 * gs },//6\r\n         { x: 1 * gs, y: 0 * gs },//7\r\n         { x: 0 * gs, y: 0 * gs } //8\r\n      ]).sumWith(vector(-30)).rotate(r).sumWith(c).vectors;\r\n\r\n\r\n      if (this.isDual) {\r\n         // Note that the power selectors physically occupy the same space.\r\n         this.connectorSets = [[\r\n            makeConnector(this, \"vcc+\", \"pin\", connectorPoints[7], \"v+\"),  //8\r\n            makeConnector(this, \"out\", \"pin\", connectorPoints[6], \"1o\"),   //7\r\n            makeConnector(this, \"in-\", \"pin\", connectorPoints[5], \"1i-\"),  //6\r\n            makeConnector(this, \"in+\", \"pin\", connectorPoints[4], \"1i+\"),  //5\r\n            makeConnector(this, \"vcc-\", \"pin\", connectorPoints[3], \"v-\"),  //4\r\n         ], [\r\n            makeConnector(this, \"vcc+\", \"pin\", connectorPoints[7], \"v+\"),  //8\r\n            makeConnector(this, \"out\", \"pin\", connectorPoints[0], \"2o\"),   //1\r\n            makeConnector(this, \"in-\", \"pin\", connectorPoints[1], \"2i-\"),  //2\r\n            makeConnector(this, \"in+\", \"pin\", connectorPoints[2], \"2i+\"),  //3\r\n            makeConnector(this, \"vcc-\", \"pin\", connectorPoints[3], \"v-\"),  //4\r\n         ]];\r\n      } else {\r\n         this.connectorSets = [[\r\n            // The ordering here is important so the colors line up between layout and schematic\r\n            makeConnector(this, \"vcc+\", \"pin\", connectorPoints[6], \"v+\"),  //7\r\n            makeConnector(this, \"out\", \"pin\", connectorPoints[5], \"o\"),    //6\r\n            makeConnector(this, \"in-\", \"pin\", connectorPoints[1], \"i-\"),   //2\r\n            makeConnector(this, \"in+\", \"pin\", connectorPoints[2], \"i+\"),   //3\r\n            makeConnector(this, \"vcc-\", \"pin\", connectorPoints[3], \"v-\"),  //4\r\n            makeConnector(this, \"nc\", \"pin\", connectorPoints[7], \"nc\"),    //8\r\n            makeConnector(this, \"offset n1\", \"pin\", connectorPoints[4], \"nc\"), //5\r\n            makeConnector(this, \"offset n2\", \"pin\", connectorPoints[0], \"nc\"), //1\r\n         ]];\r\n      }\r\n\r\n   }\r\n   replaceWithDual() {\r\n      this.isDual = true;\r\n      this.group.clearChildren();\r\n      this.draw();\r\n      this.makeConnectors();\r\n   }\r\n\r\n}\r\n\r\n","import { PowerLayout } from \"./~classes\";\r\nimport { INDEXCONNECTION } from \"./constants\";\r\n\r\nimport { make as makeText } from \"../../../svg/element/+text\";\r\nimport { make as makeGroup } from \"../../../svg/element/+group\";\r\nimport { make as makeCircle } from \"../../../svg/element/+circle\";\r\nimport { make as makeRect } from \"../../../svg/element/+rect\";\r\n\r\nexport default function drawLayout(instance: PowerLayout) {\r\n   const bodyGroup = makeGroup(\"body\");\r\n\r\n   const text = instance.voltage.toFixed(1);\r\n\r\n   bodyGroup.append(\r\n      makeRect({ x: 0, y: -35 }, { width: 180, height: 95 }, { x: 10, y: 10 }, \"body highlight\"),\r\n      makeRect({ x: 0, y: -45 }, { width: 160, height: 65 }, { x: 10, y: 10 }, \"screen\"),\r\n      makeText(\"8\".repeat(text.length - 1), { x: 0, y: -20 }, \"screentext off\"),\r\n      makeText(text, { x: 0, y: -20 }, \"screentext on\"),\r\n      makeCircle({ x: 0, y: 0 }, 5, \"hole\")\r\n   );\r\n\r\n   return [\r\n      bodyGroup.translate(instance.joints[INDEXCONNECTION])\r\n   ];\r\n}\r\n","import { PowerSchematic } from \"./~classes\";\r\nimport { INDEXCONNECTION } from \"./constants\";\r\nimport getStandardForm from \"../../../utility/-getStandardForm\";\r\n\r\nimport { make as makeText } from \"../../../svg/element/+text\";\r\nimport { make as makeGroup } from \"../../../svg/element/+group\";\r\nimport { make as makeLine } from \"../../../svg/element/+line\";\r\nimport { make as makeRect } from \"../../../svg/element/+rect\";\r\n\r\nexport default function drawSchematic(instance: PowerSchematic) {\r\n   const bodyGroup = makeGroup(\"body\");\r\n\r\n   if (instance.voltage < 0) {\r\n      bodyGroup.append(powerNegativeGraphics(instance.voltage));\r\n   } else if (instance.voltage > 0) {\r\n      bodyGroup.append(powerPositiveGraphics(instance.voltage));\r\n   } else {\r\n      bodyGroup.append(powerGroundGraphics());\r\n   }\r\n\r\n   return [\r\n      bodyGroup.translate(instance.joints[INDEXCONNECTION])\r\n   ];\r\n}\r\n\r\nfunction powerNegativeGraphics(voltage: number) {\r\n   const text = getStandardForm(voltage, \"V\")\r\n   return [\r\n      makeRect({ x: 0, y: 18 }, { width: 40, height: 20 }, { x: 2, y: 2 }, \"highlight highlightwithfill extrathick\"),\r\n      makeLine({ x: -12, y: 15 }, { x: 12, y: 15 }, \"line medium\"),\r\n      makeText(text, { x: 0, y: 27 }, \"text bold\"),\r\n      makeLine({ x: 0, y: 15 }, { x: 0, y: 0 }, \"line thin\")\r\n   ]\r\n}\r\n\r\nfunction powerPositiveGraphics(voltage: number) {\r\n   const text = getStandardForm(voltage, \"V\")\r\n   return [\r\n      makeRect({ x: 0, y: -18 }, { width: 40, height: 20 }, { x: 2, y: 2 }, \"highlight highlightwithfill extrathick\"),\r\n      makeLine({ x: -12, y: -15 }, { x: 12, y: -15 }, \"line medium\"),\r\n      makeText(text, { x: 0, y: -17 }, \"text bold\"),\r\n      makeLine({ x: 0, y: -15 }, { x: 0, y: 0 }, \"line thin\")\r\n   ];\r\n}\r\n\r\nfunction powerGroundGraphics() {\r\n   return [\r\n      makeRect({ x: 0, y: 15 }, { width: 40, height: 20 }, { x: 2, y: 2 }, \"highlight highlightwithfill extrathick\"),\r\n      makeLine({ x: -18, y: 10 }, { x: 18, y: 10 }, \"line medium\"),\r\n      makeLine({ x: -12, y: 15 }, { x: 12, y: 15 }, \"line medium\"),\r\n      makeLine({ x: -6, y: 20 }, { x: 6, y: 20 }, \"line medium\"),\r\n      makeLine({ x: 0, y: 10 }, { x: 0, y: 0 }, \"line thin\")\r\n   ]\r\n}\r\n\r\n","import makeLayout from \"./-makeLayout\"\r\n\r\nexport default function loadLayout(raw: any) {\r\n   const name = (raw.name);\r\n   const voltage = (raw.voltage);\r\n   const joints = (raw.joints);\r\n\r\n   return makeLayout({ name, voltage, joints });\r\n}\r\n","import makeSchematic from \"./-makeSchematic\";\r\nimport vector, { Vector } from \"../../../-vector\";\r\nimport ValueCheck from \"../~valueCheck\";\r\n\r\nexport default function loadSchematic(raw: any) {\r\n   const name = (raw.name);\r\n   const voltage = (raw.voltage || raw.value);\r\n   //Joints Block\r\n   const where = ValueCheck.where({ x: 0, y: 0 })(raw.where);\r\n   const joints = (raw.joints || deriveJoints(voltage, where));\r\n\r\n   return makeSchematic({ name, voltage, joints, });\r\n}\r\n\r\nconst deriveJoints = (voltage: number, where: Vector) => {\r\n   const baseJoints = (voltage < 0)\r\n      ? [{ x: 0, y: -10 }] // negative\r\n      : (voltage > 0)\r\n         ? [{ x: 0, y: 10 }] // positive\r\n         : [{ x: 0, y: -10 }]; // zero (ground)\r\n   return vector(baseJoints).sumWith(where).vectors;\r\n}\r\n","import ValueCheck from \"../~valueCheck\";\r\nimport * as Types from \"./types\";\r\nimport { PowerLayout } from \"./~classes\";\r\nimport getMaker from \"../../generics/-getMaker\";\r\nimport { Vector } from \"../../../-vector\";\r\nimport Graphical from \"../addins/graphical\";\r\nimport Draggable from \"../addins/draggable\";\r\nimport Selectable from \"../addins/selectable\";\r\nimport ConnectionHighlights from \"../addins/connectionHighlights\";\r\nimport WireCreation from \"../addins/wireCreation\";\r\n\r\nconst defaulterLayout: ValueCheck.Defaulter<Types.values> = {\r\n   name: ValueCheck.validate(\"string\", \"power\"),\r\n   disabled: ValueCheck.validate(\"boolean\", false),\r\n   joints: ValueCheck.joints<[Vector]>(\r\n      [{ x: 0, y: 40 }]\r\n   ),\r\n   voltage: ValueCheck.validate(\"number\", 0)\r\n};\r\n\r\nconst makeLayout = getMaker(PowerLayout, defaulterLayout,\r\n   (component: PowerLayout) => {\r\n      Graphical.init(component);\r\n      Draggable.init(component);\r\n      Selectable.init(component);\r\n      ConnectionHighlights.init(component, true, getHighlightColor(component));\r\n      WireCreation.init(component);\r\n   }\r\n);\r\n\r\nfunction getHighlightColor(component: PowerLayout): string[] {\r\n   return [(component.voltage < 0)\r\n      ? \"blue\" // negative\r\n      : (component.voltage > 0)\r\n         ? \"red\" // positive\r\n         : \"black\" // zero (ground);\r\n   ]\r\n}\r\nexport default makeLayout;\r\n","import ValueCheck from \"../~valueCheck\";\r\nimport * as Types from \"./types\";\r\nimport { PowerSchematic } from \"./~classes\";\r\nimport getMaker from \"../../generics/-getMaker\";\r\nimport { Vector } from \"../../../-vector\";\r\nimport Graphical from \"../addins/graphical\";\r\nimport Draggable from \"../addins/draggable\";\r\nimport Selectable from \"../addins/selectable\";\r\nimport ConnectionHighlights from \"../addins/connectionHighlights\";\r\n\r\nimport { schematicManipulationEnabled } from \"../../../~constants\";\r\n\r\nconst defaulterSchematic: ValueCheck.Defaulter<Types.values> = {\r\n   name: ValueCheck.validate(\"string\", \"power\"),\r\n   disabled: ValueCheck.validate(\"boolean\", false),\r\n   joints: ValueCheck.joints<[Vector]>(\r\n      [{ x: 0, y: 0 }]\r\n   ),\r\n   voltage: ValueCheck.validate(\"number\", 0)\r\n};\r\n\r\n\r\nconst makeSchematic = getMaker(PowerSchematic, defaulterSchematic,\r\n   (component: PowerSchematic) => {\r\n      Selectable.init(component);\r\n      ConnectionHighlights.init(component, false);\r\n      Graphical.init(component);\r\n      if (schematicManipulationEnabled) {\r\n         Draggable.init(component);\r\n      }\r\n   }\r\n);\r\n\r\nexport default makeSchematic;","import makeMap from \"../../generics/-makeMap\";\r\nimport { PowerSchematic, PowerLayout } from \"./~classes\";\r\nimport makeSchematic from \"./-makeSchematic\";\r\nimport makeLayout from \"./-makeLayout\";\r\nimport loadSchematic from \"./-loadSchematic\";\r\nimport loadLayout from \"./-loadLayout\";\r\n\r\n\r\nconst schematicMap = {\r\n   savename: \"makePower\",\r\n   diagramType: \"schematic\" as \"schematic\",\r\n   instance: PowerSchematic,\r\n   make: makeSchematic,\r\n   load: loadSchematic,\r\n}\r\n\r\nconst layoutMap = {\r\n   savename: \"makeLayoutPower\",\r\n   diagramType: \"layout\" as \"layout\",\r\n   instance: PowerLayout,\r\n   make: makeLayout,\r\n   load: loadLayout,\r\n   isUnique: true\r\n}\r\n\r\nconst maps = {\r\n   schematic: makeMap(schematicMap, layoutMap),\r\n   layout: makeMap(layoutMap, schematicMap)\r\n}\r\nexport default maps;\r\n","\r\nexport const INDEXCONNECTION = 0;\r\n\r\n\r\n","import Component, { Types as ComponentTypes } from \"../../+component\";\r\nimport * as Types from \"./types\";\r\nimport { Vector } from \"../../../-vector\";\r\nimport deepCopy from \"../../../utility/-deepCopy\";\r\nimport Insert from \"../../../utility/~insert\";\r\nimport manifest from \"../../manifest\";\r\nimport getComponentConnections from \"../../generics/-getComponentConnections\";\r\nimport makeConnector from \"../../generics/-makeConnector\";\r\nimport drawLayout from \"./-drawLayout\";\r\nimport drawSchematic from \"./-drawSchematic\";\r\nabstract class PowerBase extends Component implements Types.values {\r\n   voltage: number;\r\n   joints: [Vector];\r\n\r\n   constructor(values: Types.values) {\r\n      super(values);\r\n      this.voltage = values.voltage;\r\n      this.joints = values.joints;\r\n   }\r\n\r\n   getProperties(): Types.properties {\r\n      return deepCopy({\r\n         name: this.name,\r\n         voltage: this.voltage\r\n      });\r\n   }\r\n\r\n   getState(): Types.state {\r\n      return deepCopy({\r\n         joints: this.joints,\r\n         disabled: this.disabled\r\n      });\r\n   }\r\n\r\n   transferFunction() { return [] };\r\n}\r\n\r\nexport class PowerSchematic extends PowerBase {\r\n   insertInto(element?: SVGGraphicsElement) {\r\n      Insert.last(this.group.element, element);\r\n   }\r\n\r\n   /** Builds and draws the components connectors */\r\n   makeConnectors() {\r\n      this.connectorSets = [\r\n         [makeConnector(this, \"\", \"node\", this.joints[0])]\r\n      ]\r\n   }\r\n\r\n   draw() {\r\n      //(Prepend so handles appear on top)\r\n      this.group.prepend(drawSchematic(this));\r\n   }\r\n\r\n   getConnections(): ComponentTypes.connector[][][] {\r\n      return getComponentConnections(this, manifest.schematic);\r\n   }\r\n}\r\n\r\nexport class PowerLayout extends PowerBase {\r\n   connectorSets: ComponentTypes.hole[][] = [];\r\n\r\n   insertInto(element?: SVGGraphicsElement) {\r\n      Insert.after(this.group.element, element, \".board\");\r\n   }\r\n\r\n   /** Builds and draws the components connectors */\r\n   makeConnectors() {\r\n      this.connectorSets = [[\r\n         makeConnector(this, \"\", \"hole\", this.joints[0])\r\n      ]]\r\n   }\r\n\r\n   draw() {\r\n      //(Prepend so handles appear on top)\r\n      this.group.prepend(drawLayout(this));\r\n   }\r\n\r\n   getConnections(): ComponentTypes.connector[][][] {\r\n      return getComponentConnections(this, manifest.layout);\r\n   }\r\n}\r\n\r\n","import { Layout } from \"./~classes\";\r\nimport vector from \"../../../-vector\";\r\nimport { INDEXEND1, INDEXEND2 } from \"./constants\";\r\n\r\nimport { make as makePath } from \"../../../svg/element/+path\";\r\nimport { make as makeGroup } from \"../../../svg/element/+group\";\r\nimport { make as makeRect } from \"../../../svg/element/+rect\";\r\n//import * as $ from 'jquery';\r\n\r\nexport default function drawLayout(instance: Layout) {\r\n   const bodyGroup = makeGroup(\"body\");\r\n\r\n\r\n   const end1 = instance.joints[INDEXEND1];\r\n   const end2 = instance.joints[INDEXEND2];\r\n\r\n   let centre = vector(end1, end2).centre().vector;\r\n\r\n   let rotation = vector(end1).getAngleTo(end2);\r\n\r\n   let bodyPath = \"m-12.5 -6\" + \"h25\" + \"c15 -8 15 20 0 12\" + \"h-25\" + \"c-15 +8 -15 -20 0 -12\" + \"Z\";\r\n\r\n   bodyGroup.append(\r\n      makePath(bodyPath, \"body\"),\r\n      getBands(instance.resistance),\r\n      makePath(bodyPath, \"highlight nofill\")\r\n   );\r\n\r\n   return [\r\n      makePath([end1, end2], \"lead\"),\r\n      bodyGroup.translate(centre).rotate(rotation)\r\n   ];\r\n}\r\n\r\nfunction getBands(num: number) {\r\n   // We don't need a value field\r\n   let exp = num.toExponential(1);\r\n\r\n   let sigFig1 = exp.slice(exp.indexOf(\".\") - 1)[0];\r\n   let sigFig2 = exp.slice(exp.indexOf(\".\") + 1)[0];\r\n   let multiplier = (\r\n      parseInt(exp.slice(exp.indexOf(\"e\") + 1), 10) - 1\r\n   ).toString();\r\n\r\n   let colours: {\r\n      [number: string]: string\r\n   } = {\r\n      \"-3\": \"pink\",\r\n      \"-2\": \"silver\",\r\n      \"-1\": \"gold\",\r\n      \"0\": \"black\",\r\n      \"1\": \"brown\",\r\n      \"2\": \"red\",\r\n      \"3\": \"#FF7F26\", //Orange\r\n      \"4\": \"yellow\",\r\n      \"5\": \"green\",\r\n      \"6\": \"blue\",\r\n      \"7\": \"violet\",\r\n      \"8\": \"grey\",\r\n      \"9\": \"white\"\r\n   };\r\n\r\n   let b1 = makeRect({ x: -17.5, y: 0 }, { width: 3, height: 18 }, undefined, \"band1\");\r\n   let b2 = makeRect({ x: -11, y: 0 }, { width: 3, height: 12 }, undefined, \"band2\");\r\n   let b3 = makeRect({ x: -4, y: 0 }, { width: 3, height: 12 }, undefined, \"band3\");\r\n   let b4 = makeRect({ x: 3.5, y: 0 }, { width: 4, height: 12 }, undefined, \"band4\");\r\n\r\n   $(b1.element).css(\"fill\", colours[sigFig1]);\r\n   $(b2.element).css(\"fill\", colours[sigFig2]);\r\n   $(b3.element).css(\"fill\", colours[multiplier]);\r\n   $(b4.element).css(\"fill\", \"transparent\");\r\n\r\n   return [b1, b2, b3, b4];\r\n}\r\n\r\n","import { Schematic } from \"./~classes\";\r\nimport vector, { Vector } from \"../../../-vector\";\r\nimport { INDEXEND1, INDEXEND2 } from \"./constants\";\r\nimport getStandardForm from \"../../../utility/-getStandardForm\";\r\n\r\nimport { make as makePath } from \"../../../svg/element/+path\";\r\nimport { make as makeText } from \"../../../svg/element/+text\";\r\nimport { make as makeGroup } from \"../../../svg/element/+group\";\r\nimport { make as makeRect } from \"../../../svg/element/+rect\";\r\n\r\nexport default function drawSchematic(instance: Schematic) {\r\n   const bodyGroup = makeGroup(\"body\");\r\n\r\n\r\n   const end1 = instance.joints[INDEXEND1];\r\n   const end2 = instance.joints[INDEXEND2];\r\n\r\n   let centre = vector(end1, end2).centre().vector;\r\n   let rotation = vector(end1).getAngleTo(end2);\r\n\r\n   let [start1, start2]: Vector[] = vector(\r\n      { x: -24, y: 0 }, { x: 24, y: 0 }\r\n   ).rotate(rotation).sumWith(centre).vectors;\r\n\r\n   //Text\r\n   let text = getStandardForm(instance.resistance, '')\r\n\r\n   bodyGroup.append(\r\n      makeRect(vector(0), { width: 46, height: 18 }, vector(2), \"highlight highlightwithfill extrathick\"),\r\n      makeRect(vector(0), { width: 46, height: 18 }, vector(2), \"body white\")\r\n   );\r\n\r\n   let textEl = makeText(text, { x: 0, y: -15 }, \"text\");\r\n\r\n   return [\r\n      makePath([[start1, end1], [start2, end2]], \"line thin\"),\r\n      bodyGroup.translate(centre).rotate(rotation),\r\n      textEl.translate(centre).rotatePosition(rotation),\r\n   ];\r\n}\r\n\r\n","import makeLayout from \"./-makeLayout\"\r\n\r\nexport default function loadLayout(raw: any) {\r\n   const name = (raw.name);\r\n   const resistance = (raw.resistance);\r\n   const joints = (raw.joints);\r\n\r\n   return makeLayout({ name, resistance, joints });\r\n}\r\n","import makeSchematic from \"./-makeSchematic\";\r\nimport ValueCheck from \"../~valueCheck\";\r\nimport vector, { Vector } from \"../../../-vector\";\r\n\r\nexport default function loadSchematic(raw: any) {\r\n   const name = (raw.name);\r\n   const resistance = (raw.resistance || raw.value);\r\n   //Joints Block\r\n   const orientations: [\"LR\", \"RL\", \"UD\", \"DU\"] = [\"LR\", \"RL\", \"UD\", \"DU\"];\r\n   const orientation = ValueCheck.validate(orientations, \"LR\")(raw.orientation);\r\n   const where = ValueCheck.where({ x: 0, y: 0 })(raw.where);\r\n   const joints = (raw.joints || deriveJoints(orientation, where));\r\n\r\n   return makeSchematic({ name, resistance, joints, });\r\n}\r\n\r\nconst deriveJoints = (orientation: \"LR\" | \"RL\" | \"UD\" | \"DU\", where: Vector) => {\r\n   const baseJoints = ({\r\n      LR: [{ x: -30, y: 0 }, { x: 30, y: 0 }],\r\n      UD: [{ x: 0, y: -30 }, { x: 0, y: 30 }],\r\n      RL: [{ x: 30, y: 0 }, { x: -30, y: 0 }],\r\n      DU: [{ x: 0, y: 30 }, { x: 0, y: -30 }]\r\n   })[orientation] as [Vector, Vector];\r\n   return vector(baseJoints).sumWith(where).vectors;\r\n}\r\n","import ValueCheck from \"../~valueCheck\";\r\nimport * as Types from \"./types\";\r\nimport { Layout } from \"./~classes\";\r\nimport getMaker from \"../../generics/-getMaker\";\r\nimport { Vector } from \"../../../-vector\";\r\nimport Graphical from \"../addins/graphical\";\r\nimport Draggable from \"../addins/draggable\";\r\nimport Selectable from \"../addins/selectable\";\r\nimport Extendable from \"../addins/extendable\";\r\nimport ConnectionHighlights from \"../addins/connectionHighlights\"\r\n\r\nconst defaulterLayout: ValueCheck.Defaulter<Types.values> = {\r\n   name: ValueCheck.validate(\"string\", \"resistor\"),\r\n   disabled: ValueCheck.validate(\"boolean\", false),\r\n   joints: ValueCheck.joints<[Vector, Vector]>(\r\n      [{ x: 0, y: 0 }, { x: 40, y: 40 }]\r\n   ),\r\n   resistance: ValueCheck.validate(\"number\", 0)\r\n};\r\n\r\nconst makeLayout = getMaker(Layout, defaulterLayout,\r\n   (component: Layout) => {\r\n      Graphical.init(component);\r\n      Draggable.init(component);\r\n      Selectable.init(component);\r\n      Extendable.init(component);\r\n      ConnectionHighlights.init(component);\r\n   }\r\n);\r\nexport default makeLayout;\r\n","import ValueCheck from \"../~valueCheck\";\r\nimport * as Types from \"./types\";\r\nimport { Schematic } from \"./~classes\";\r\nimport getMaker from \"../../generics/-getMaker\";\r\nimport { Vector } from \"../../../-vector\";\r\nimport Graphical from \"../addins/graphical\";\r\nimport Draggable from \"../addins/draggable\";\r\nimport Selectable from \"../addins/selectable\";\r\nimport Extendable from \"../addins/extendable\";\r\nimport ConnectionHighlights from \"../addins/connectionHighlights\";\r\n\r\nimport { schematicManipulationEnabled } from \"../../../~constants\";\r\n\r\nconst defaulterSchematic: ValueCheck.Defaulter<Types.values> = {\r\n   name: ValueCheck.validate(\"string\", \"resistor\"),\r\n   disabled: ValueCheck.validate(\"boolean\", false),\r\n   joints: ValueCheck.joints<[Vector, Vector]>(\r\n      [{ x: 0, y: 0 }, { x: 40, y: 40 }]\r\n   ),\r\n   resistance: ValueCheck.validate(\"number\", 0)\r\n};\r\n\r\n\r\nconst makeSchematic = getMaker(Schematic, defaulterSchematic,\r\n   (component: Schematic) => {\r\n      Selectable.init(component);\r\n      ConnectionHighlights.init(component, false);\r\n      Graphical.init(component);\r\n      if (schematicManipulationEnabled) {\r\n         Draggable.init(component);\r\n         Extendable.init(component);\r\n      }\r\n   }\r\n);\r\nexport default makeSchematic;","import makeMap from \"../../generics/-makeMap\";\r\nimport { Schematic, Layout } from \"./~classes\";\r\nimport makeSchematic from \"./-makeSchematic\";\r\nimport makeLayout from \"./-makeLayout\";\r\nimport loadSchematic from \"./-loadSchematic\";\r\nimport loadLayout from \"./-loadLayout\";\r\n\r\n\r\nconst schematicMap = {\r\n   savename: \"makeResistor\",\r\n   diagramType: \"schematic\" as \"schematic\",\r\n   instance: Schematic,\r\n   make: makeSchematic,\r\n   load: loadSchematic,\r\n}\r\n\r\nconst layoutMap = {\r\n   savename: \"makeLayoutResistor\",\r\n   diagramType: \"layout\" as \"layout\",\r\n   instance: Layout,\r\n   make: makeLayout,\r\n   load: loadLayout,\r\n}\r\n\r\nconst maps = {\r\n   schematic: makeMap(schematicMap, layoutMap),\r\n   layout: makeMap(layoutMap, schematicMap)\r\n}\r\nexport default maps;","\r\nexport const INDEXEND1 = 0;\r\nexport const INDEXEND2 = 1;\r\n\r\n\r\n","import Component, { Types as ComponentTypes } from \"../../+component\";\r\nimport * as Types from \"./types\";\r\nimport { Vector } from \"../../../-vector\";\r\nimport deepCopy from \"../../../utility/-deepCopy\";\r\nimport Insert from \"../../../utility/~insert\";\r\nimport manifest from \"../../manifest\";\r\nimport getComponentConnections from \"../../generics/-getComponentConnections\";\r\nimport makeConnector from \"../../generics/-makeConnector\";\r\nimport drawLayout from \"./-drawLayout\";\r\nimport drawSchematic from \"./-drawSchematic\";\r\nimport { INDEXEND1, INDEXEND2 } from \"./constants\";\r\nabstract class Base extends Component implements Types.values {\r\n   resistance: number;\r\n   joints: [Vector, Vector];\r\n\r\n   constructor(values: Types.values) {\r\n      super(values);\r\n      this.joints = values.joints;\r\n      this.resistance = values.resistance;\r\n   }\r\n\r\n   getProperties(): Types.properties {\r\n      return deepCopy({\r\n         name: this.name,\r\n         resistance: this.resistance\r\n      });\r\n   }\r\n\r\n   getState(): Types.state {\r\n      return deepCopy({\r\n         joints: this.joints,\r\n         disabled: this.disabled\r\n      });\r\n   }\r\n\r\n   insertInto(element?: SVGGraphicsElement) {\r\n      Insert.last(this.group.element, element);\r\n   }\r\n\r\n   transferFunction() { return [] };\r\n}\r\n\r\nexport class Schematic extends Base {\r\n   draw() {\r\n      //(Prepend so handles appear on top)\r\n      this.group.prepend(drawSchematic(this));\r\n   }\r\n   getConnections(): ComponentTypes.connector[][][] {\r\n      return getComponentConnections(this, manifest.schematic);\r\n   }\r\n   makeConnectors() {\r\n      this.connectorSets = [\r\n         [makeConnector(this, \"\", \"node\", this.joints[INDEXEND1]),\r\n         makeConnector(this, \"\", \"node\", this.joints[INDEXEND2]),]\r\n      ]\r\n   }\r\n}\r\n\r\nexport class Layout extends Base {\r\n   draw() {\r\n      //(Prepend so handles appear on top)\r\n      this.group.prepend(drawLayout(this));\r\n   }\r\n   getConnections(): ComponentTypes.connector[][][] {\r\n      return getComponentConnections(this, manifest.layout);\r\n   }\r\n   makeConnectors() {\r\n      this.connectorSets = [\r\n         [makeConnector(this, \"\", \"pin\", this.joints[INDEXEND1]),\r\n         makeConnector(this, \"\", \"pin\", this.joints[INDEXEND2]),]\r\n      ]\r\n   }\r\n}\r\n\r\n","import makeLayout from \"./-makeLayout\";\r\n\r\nexport default function loadLayout(raw: any) {\r\n   const name = (raw.name);\r\n   const rows = (raw.rows);\r\n   const columns = (raw.columns);\r\n   const trackBreaks = (raw.trackBreaks);\r\n   const joints = (raw.joints);\r\n\r\n   return makeLayout({ name, rows, columns, trackBreaks, joints });\r\n}\r\n","import { Layout as Stripboard } from \"./~classes\";\r\nimport { Layout as Track } from \"../_track/~classes\";\r\nimport TrackMap from \"../_track/-maps\";\r\nimport vector from \"../../../-vector\";\r\n\r\nimport { gridSpacing } from \"../../../~constants\";\r\n\r\nexport default function makeTracks(parent: Stripboard): Track[] {\r\n   let gS = gridSpacing;\r\n\r\n   let rotation = vector(parent.joints[0]).getAngleTo(parent.joints[1]);\r\n\r\n   let start = vector({\r\n      x: -((parent.columns - 1) * gS / 2),\r\n      y: -((parent.rows - 1) * gS / 2)\r\n   }).rotate(rotation).sumWith(parent.joints[0]);\r\n\r\n\r\n   let step = vector({ x: gS, y: 0 }).rotate(rotation);\r\n\r\n\r\n   let tracks: Track[] = [];\r\n\r\n   for (let row = 0; row < parent.rows; row++) {\r\n\r\n      let rowStart = start.sumWith(\r\n         vector({ x: 0, y: row * gS }).rotate(rotation)).vector;\r\n\r\n\r\n      let holeSpacings: number[] = [0].concat(Array(parent.columns - 1).fill(1));\r\n      let track = TrackMap.make({\r\n         holeSpacings: holeSpacings,\r\n         style: \"stripboard\",\r\n         joints: [rowStart, step]\r\n      }, false);\r\n      //track.group.translate({ x: 0, y: row * gS }).rotate(0);\r\n      tracks.push(track);\r\n   }\r\n\r\n   return tracks;\r\n}\r\n","import ValueCheck from \"../~valueCheck\";\r\nimport * as Types from \"./types\";\r\nimport { Layout } from \"./~classes\";\r\nimport getMaker from \"../../generics/-getMaker\";\r\nimport { Vector } from \"../../../-vector\";\r\nimport Graphical from \"../addins/graphical\";\r\nimport Draggable from \"../addins/draggable\";\r\nimport Selectable from \"../addins/selectable\";\r\nimport Board from \"../addins/board\";\r\nimport WireCreation from \"../addins/wireCreation\"\r\nimport Rotatable from \"../addins/rotatable\";\r\n\r\n\r\nconst defaulterLayout: ValueCheck.Defaulter<Types.values> = {\r\n   name: ValueCheck.validate(\"string\", \"stripboard\"),\r\n   disabled: ValueCheck.validate(\"boolean\", false),\r\n   joints: ValueCheck.joints<[Vector, Vector]>(\r\n      [{ x: 0, y: 0 }, { x: 20, y: 0 }]\r\n   ),\r\n   rows: ValueCheck.integer(1),\r\n   columns: ValueCheck.integer(1),\r\n   trackBreaks: validateTrackBreaks([]),\r\n};\r\n\r\nfunction validateTrackBreaks<T extends Types.trackBreak[]>(fallback: T): ValueCheck.validater<T> {\r\n   const result = (value: unknown, log: boolean = true) => {\r\n      const predicate = (v: unknown) => ((value && Array.isArray(value) && value.every((tB: Types.trackBreak) => {\r\n         return (('track' in tB) && ('hole' in tB) && (typeof tB.track === 'number') && (typeof tB.hole === 'number'));\r\n      })));\r\n\r\n      return ValueCheck.validate<T>(predicate, fallback)(value);\r\n   }\r\n\r\n   return result;\r\n}\r\n\r\nconst makeLayout = getMaker(Layout, defaulterLayout,\r\n   (component: Layout) => {\r\n      Graphical.init(component);\r\n      Board.init(component, true);\r\n      Selectable.init(component);\r\n      WireCreation.init(component);\r\n      Draggable.init(component);\r\n      Rotatable.init(component);\r\n   }\r\n);\r\nexport default makeLayout;\r\n\r\n","import makeMap from \"../../generics/-makeMap\";\r\nimport { Layout } from \"./~classes\";\r\nimport makeLayout from \"./-makeLayout\";\r\nimport loadLayout from \"./-loadLayout\";\r\n\r\nconst layoutMap = {\r\n   savename: \"makeLayoutStripboard\",\r\n   diagramType: \"layout\" as \"layout\",\r\n   instance: Layout,\r\n   make: makeLayout,\r\n   load: loadLayout,\r\n   isBoard: true\r\n}\r\n\r\nconst maps = {\r\n   layout: makeMap(layoutMap),\r\n}\r\nexport default maps;","import Component, { Types as ComponentTypes } from \"../../+component\";\r\nimport * as Types from \"./types\";\r\nimport vector, { Vector } from \"../../../-vector\";\r\nimport deepCopy from \"../../../utility/-deepCopy\";\r\nimport Insert from \"../../../utility/~insert\";\r\nimport manifest from \"../../manifest\";\r\nimport getComponentConnections from \"../../generics/-getComponentConnections\";\r\nimport { Layout as Track } from \"../_track/~classes\";\r\nimport makeTracks from \"./-make-tracks\";\r\n\r\nimport { gridSpacing } from \"../../../~constants\";\r\n\r\n\r\n//TODO MOVE DRAW INTO ITS OWN FILE\r\nimport { make as makeRect } from \"../../../svg/element/+rect\";\r\n\r\nexport class Layout extends Component implements Types.values {\r\n   tracks: Track[] = [];\r\n   connectorSets: ComponentTypes.hole[][] = [];\r\n   trackBreaks: Types.trackBreak[];\r\n   rows: number;\r\n   columns: number;\r\n   joints: [Vector, Vector];\r\n\r\n   constructor(values: Types.properties & Types.state) {\r\n      super(values);\r\n      this.rows = values.rows;\r\n      this.columns = values.columns;\r\n      this.trackBreaks = values.trackBreaks;\r\n      this.joints = values.joints;\r\n   }\r\n\r\n   getProperties(): Types.properties {\r\n      return deepCopy({\r\n         name: this.name,\r\n         rows: this.rows,\r\n         columns: this.columns\r\n      });\r\n   }\r\n\r\n   getState(): Types.state {\r\n      return deepCopy({\r\n         joints: this.joints,\r\n         disabled: this.disabled,\r\n         trackBreaks: this.trackBreaks\r\n      });\r\n   }\r\n\r\n   makeConnectors() {\r\n      this.tracks.forEach(track => track.makeConnectors());\r\n      this.tracks.forEach((track, trackIdx) => {\r\n         let trackBreaks = this.trackBreaks.filter(trackBreak => trackBreak.track === trackIdx);\r\n         track.connectorSets[0].forEach((hole, holeIdx) => {\r\n            if (trackBreaks.some(trackBreak => trackBreak.hole === holeIdx)) {\r\n               hole.type = \"brokenhole\";\r\n            }\r\n         });\r\n      })\r\n   }\r\n\r\n   draw() {\r\n\r\n      let rotation = vector(this.joints[0]).getAngleTo(this.joints[1]);\r\n      this.tracks = makeTracks(this)\r\n\r\n\r\n      const gS = gridSpacing;\r\n      //const centre = { x: (this.columns - 1) * gS / 2, y: (this.rows - 1) * gS / 2 };\r\n      const size = { width: (this.columns + 0.5) * gS, height: (this.rows + 0.5) * gS };\r\n      const cornerRounding = { x: 3, y: 3 };\r\n\r\n      this.group.append(\r\n         makeRect(vector(0), size, cornerRounding, \"body highlight\").translate(this.joints[0]).rotate(rotation),\r\n         this.tracks.map(t => t.group)\r\n      );\r\n\r\n   }\r\n\r\n   getConnections(): ComponentTypes.connector[][][] {\r\n      return getComponentConnections(this, manifest.layout);\r\n   }\r\n\r\n   insertInto(element?: SVGGraphicsElement) {\r\n      Insert.first(this.group.element, element);\r\n   }\r\n\r\n   transferFunction() { return [] };\r\n}\r\n\r\n","import { Layout } from \"./~classes\";\r\nimport vector, { Vector } from \"../../../-vector\";\r\nimport { INDEXSTART, INDEXSTEP } from \"./constants\";\r\nimport cumulativeSum from \"../../../utility/-cumulativeSum\";\r\n\r\nimport { make as makeCircle } from \"../../../svg/element/+circle\";\r\nimport { make as makeRect } from \"../../../svg/element/+rect\";\r\n\r\nimport { gridSpacing } from \"../../../~constants\";\r\n\r\nconst drawStripboardHole = (position: Vector) => makeCircle(position, 4, \"hole\");\r\nconst drawBreadboardHole = (position: Vector) => makeRect(position, { width: 8, height: 8 }, vector(0.5), \"hole\");\r\n\r\nexport default function drawLayout(instance: Layout) {\r\n   const holeFunc = (instance.style === \"breadboard\") ? drawBreadboardHole : drawStripboardHole;\r\n\r\n   const start = instance.joints[INDEXSTART];\r\n   const step = instance.joints[INDEXSTEP];\r\n\r\n   // Create the holes\r\n   const holePositions = vector(step).scaleMap(cumulativeSum(...instance.holeSpacings)).sumWith(start).vectors;\r\n\r\n   const holes = holePositions.map(hp => holeFunc(hp))\r\n\r\n   const track = drawTrack(holePositions);\r\n\r\n   return [track, ...holes]\r\n}\r\n\r\nconst drawTrack = (holePositions: Vector[]) => {\r\n   let start = holePositions[0];\r\n   let end = holePositions[holePositions.length - 1];\r\n   //: Vector, step: Vector, stepCount: number\r\n   // Create the track\r\n   let relativeEnd = vector(end, vector(start).scaleWith(-1)).sum();\r\n\r\n   let { radius, angle } = relativeEnd.asPolar();\r\n\r\n   let centre = vector(start, start, relativeEnd).sum().scaleWith(0.5).vector;\r\n\r\n   let size = {\r\n      width: radius + gridSpacing * 0.8,\r\n      height: gridSpacing * 14 / 16\r\n   }\r\n\r\n   return makeRect(centre, size, vector(0), 'body').rotate(angle, centre);\r\n}\r\n\r\n","import makeLayout from \"./-makeLayout\"\r\n\r\nexport default function loadLayout(raw: any) {\r\n   return makeLayout({});\r\n}\r\n","import ValueCheck from \"../~valueCheck\";\r\nimport * as Types from \"./types\";\r\nimport { Layout } from \"./~classes\";\r\nimport getMaker from \"../../generics/-getMaker\";\r\nimport { Vector } from \"../../../-vector\";\r\nimport Graphical from \"../addins/graphical\";\r\n\r\n\r\nconst defaulter: ValueCheck.Defaulter<Types.values> = {\r\n   name: ValueCheck.validate(\"string\", \"track\"),\r\n   style: ValueCheck.validate<\"breadboard\" | \"stripboard\">([\"breadboard\", \"stripboard\"], \"breadboard\"),\r\n   disabled: ValueCheck.validate(\"boolean\", false),\r\n   joints: ValueCheck.joints<[Vector, Vector]>(\r\n      [{ x: 0, y: 0 }, { x: 20, y: 0 }]\r\n   ),\r\n   holeSpacings: ValueCheck.validate(\r\n      v => Array.isArray(v) && v.every(ValueCheck.test(\"number\")), [0]\r\n   ),\r\n};\r\n\r\nconst makeLayout = getMaker(Layout, defaulter,\r\n   (component: Layout) => {\r\n      Graphical.init(component);\r\n   }\r\n);\r\nexport default makeLayout;\r\n","import makeMap from \"../../generics/-makeMap\";\r\nimport { Layout } from \"./~classes\";\r\nimport makeLayout from \"./-makeLayout\";\r\nimport loadLayout from \"./-loadLayout\";\r\n\r\n\r\nconst maps = makeMap({\r\n   savename: \"makeLayoutTrack\",\r\n   diagramType: \"layout\" as \"layout\",\r\n   instance: Layout,\r\n   make: makeLayout,\r\n   load: loadLayout\r\n});\r\nexport default maps;","\r\nexport const INDEXSTART = 0;\r\nexport const INDEXSTEP = 1;\r\n\r\n\r\n","import Component, { Types as ComponentTypes } from \"../../+component\";\r\nimport * as Types from \"./types\";\r\nimport vector, { Vector } from \"../../../-vector\";\r\nimport deepCopy from \"../../../utility/-deepCopy\";\r\nimport Insert from \"../../../utility/~insert\";\r\nimport manifest from \"../../manifest\";\r\nimport getComponentConnections from \"../../generics/-getComponentConnections\";\r\nimport makeConnector from \"../../generics/-makeConnector\";\r\nimport drawLayout from \"./-drawLayout\";\r\n\r\nexport class Layout extends Component implements Types.properties, Types.state {\r\n   name: string;\r\n   holeSpacings: number[];\r\n   connectorSets: ComponentTypes.hole[][] = [];\r\n   style: \"breadboard\" | \"stripboard\";\r\n   joints: [Vector, Vector];\r\n\r\n   constructor(values: Types.properties & Types.state) {\r\n      super(values);\r\n      this.name = values.name;\r\n      this.holeSpacings = values.holeSpacings;\r\n      this.style = values.style;\r\n      this.joints = values.joints;\r\n   }\r\n\r\n   getProperties(): Types.properties {\r\n      return deepCopy({\r\n         name: this.name,\r\n         holeSpacings: this.holeSpacings,\r\n         style: this.style\r\n      });\r\n   }\r\n\r\n   getState(): Types.state {\r\n      return deepCopy({\r\n         joints: this.joints,\r\n         disabled: this.disabled\r\n      });\r\n   }\r\n\r\n\r\n   draw() {\r\n      //(Prepend so handles appear on top)\r\n      this.group.prepend(drawLayout(this));\r\n   }\r\n\r\n   /** Builds and draws the components connectors */\r\n   makeConnectors() {\r\n\r\n      const start = this.joints[0];\r\n      const step = this.joints[1];\r\n\r\n\r\n      this.connectorSets = [[]];\r\n      // Create the holes\r\n      let accHs = 0;\r\n      this.holeSpacings.forEach((hS) => {\r\n         accHs += hS;\r\n\r\n         let holePos = vector(step)\r\n            .scaleWith(accHs)\r\n            .sumWith(start)\r\n            .vector;\r\n\r\n         this.connectorSets[0].push(\r\n            makeConnector(this, \"\", \"hole\", holePos)\r\n         );\r\n      })\r\n   }\r\n\r\n   getConnections(): ComponentTypes.connector[][][] {\r\n      return getComponentConnections(this, manifest.layout);\r\n   }\r\n\r\n   insertInto(element?: SVGGraphicsElement) {\r\n      Insert.last(this.group.element, element);\r\n   }\r\n\r\n   /** ...\r\n   */\r\n   transferFunction(from: ComponentTypes.hole): ComponentTypes.connector[] {\r\n      let fromIdx = this.connectorSets[0].indexOf(from);\r\n      let connected: ComponentTypes.connector[] = [];\r\n      for (let i = fromIdx + 1; i < this.connectorSets[0].length; i++) {\r\n         if (this.connectorSets[0][i].type === \"brokenhole\") break;\r\n         connected.push(this.connectorSets[0][i]);\r\n      }\r\n      for (let i = fromIdx - 1; i >= 0; i--) {\r\n         if (this.connectorSets[0][i].type === \"brokenhole\") break;\r\n         connected.push(this.connectorSets[0][i]);\r\n      }\r\n\r\n      return connected;\r\n   }\r\n\r\n}\r\n\r\n","import { Layout } from \"./~classes\";\r\nimport { Vector } from \"../../../-vector\";\r\n\r\nimport { make as makePath } from \"../../../svg/element/+path\";\r\nimport { make as makeGroup } from \"../../../svg/element/+group\";\r\n//import * as $ from 'jquery';\r\n\r\nexport default function drawLayout(instance: Layout) {\r\n   const bodyGroup = makeGroup(\"body\");\r\n\r\n   const joints = instance.joints;\r\n\r\n   let coverPath, leadPath: string = \"\";\r\n\r\n   //The proportion of half the end joints that is cover not lead\r\n   let coverRatio = 0.6; //BETWEEN 0 and 1\r\n\r\n   //Start at the beginning\r\n   coverPath = leadPath = \"M \" + joints[0].x + \" \" + joints[0].y;\r\n\r\n   // Draw cover towards the midpoint of first two joints (starting from coverRatio)\r\n   coverPath += getSegmentTowardsJointMid(joints[0], joints[1], -coverRatio);\r\n   // Draw lead path from start to midpoint of the first two joints\r\n   leadPath += getSegmentTowardsJointMid(joints[0], joints[1], 1);\r\n\r\n   // Draw curve between all mid joints\r\n   let pathMid = getBezierBetweenJoints(joints);\r\n   coverPath += pathMid;\r\n   leadPath += pathMid;\r\n\r\n   // Draw cover away from the midpoint of the last two joints (starting from 1-coverRatio)\r\n   coverPath += getSegmentTowardsJointMid(joints[joints.length - 2], joints[joints.length - 1], coverRatio)\r\n   // Draw lead path to end\r\n   leadPath += getSegmentTowardsJointMid(joints[joints.length - 2], joints[joints.length - 1], 1)\r\n\r\n   let cover = makePath(coverPath, \"cover\");\r\n\r\n   $(cover.element).css(\"stroke\", instance.color);\r\n   //Style and add lead, cover\r\n   //(Prepend so handles appear on top)\r\n\r\n   bodyGroup.append(\r\n      makePath(leadPath, \"lead\"),\r\n      makePath(coverPath, \"leadhighlight highlight\"),\r\n      cover,\r\n   );\r\n\r\n   return bodyGroup;\r\n}\r\n\r\nfunction getBezierBetweenJoints(joints: Vector[]): string {\r\n   //Assume we are starting at the midpoint between first two joints\r\n   let path: string = \"\";\r\n\r\n   for (let j = 1; j < joints.length - 1; j++) {\r\n\r\n      // End each curve at the mid point between the last two joints\r\n      let p3 = {\r\n         x: (joints[j + 1].x + joints[j].x) / 2,\r\n         y: (joints[j + 1].y + joints[j].y) / 2\r\n      }\r\n\r\n      path += \"Q \" + joints[j].x + \" \" + joints[j].y +\r\n         \" \" + p3.x + \" \" + p3.y;\r\n   }\r\n\r\n   return path;\r\n}\r\n\r\n// Starting or ending at a midpoint\r\nfunction getSegmentTowardsJointMid(j0: Vector, j1: Vector, ratio: number): string {\r\n   let changeMid = {\r\n      x: (j1.x - j0.x) / 2,\r\n      y: (j1.y - j0.y) / 2\r\n   }\r\n\r\n   if (Math.sign(ratio) >= 0) {\r\n      return 'l' + (changeMid.x * ratio) + \" \" + (changeMid.y * ratio) +\r\n         'm' + (changeMid.x * (1 - ratio)) + \" \" + (changeMid.y * (1 - ratio));\r\n   } else {\r\n      ratio = Math.abs(ratio);\r\n      return 'm' + (changeMid.x * (1 - ratio)) + \" \" + (changeMid.y * (1 - ratio)) +\r\n         'l' + (changeMid.x * ratio) + \" \" + (changeMid.y * ratio);\r\n   }\r\n}\r\n","import { Schematic } from \"./~classes\";\r\n\r\nimport { make as makePath } from \"../../../svg/element/+path\";\r\n\r\nexport default function drawSchematic(instance: Schematic) {\r\n   return [\r\n      makePath(instance.joints, \"line thin\")\r\n   ];\r\n}\r\n\r\n","import makeLayout from \"./-makeLayout\"\r\n\r\nexport default function loadLayout(raw: any) {\r\n   const name = (raw.name);\r\n   const color = (raw.color || raw.colour);\r\n   //Joints Block\r\n   const joints = (raw.joints);\r\n\r\n   return makeLayout({ name, color, joints });\r\n}\r\n","import makeSchematic from \"./-makeSchematic\";\r\n\r\nexport default function loadSchematic(raw: any) {\r\n   const name = (raw.name);\r\n   //Joints Block\r\n   const joints = (raw.joints);\r\n\r\n   return makeSchematic({ name, joints });\r\n}\r\n","import ValueCheck from \"../~valueCheck\";\r\nimport * as Types from \"./types\";\r\nimport { Layout } from \"./~classes\";\r\nimport getMaker from \"../../generics/-getMaker\";\r\nimport toVector from \"../../../utility/polar/-toVector\"\r\nimport vector, { Vector } from \"../../../-vector\";\r\nimport Graphical from \"../addins/graphical\";\r\nimport Draggable from \"../addins/draggable\";\r\nimport Selectable from \"../addins/selectable\";\r\nimport Extendable from \"../addins/extendable\";\r\nimport ConnectionHighlights from \"../addins/connectionHighlights\";\r\nimport Recolorable from \"../addins/recolorable\";\r\n\r\nconst defaulterLayout: ValueCheck.Defaulter<Types.valuesLayout> = {\r\n   name: ValueCheck.validate(\"string\", \"wire\"),\r\n   disabled: ValueCheck.validate(\"boolean\", false),\r\n   joints: ValueCheck.joints(\r\n      [{ x: 0, y: 0 }, { x: 80, y: 0 }], l => l >= 2\r\n   ),\r\n   color: ValueCheck.color(\"#545454\")\r\n};\r\n\r\nexport const makeLayout = getMaker(Layout, defaulterLayout,\r\n   (component: Layout) => {\r\n      Graphical.init(component);\r\n      Draggable.init(component);\r\n      Selectable.init(component);\r\n      Extendable.init(component, true, true, true);\r\n      ConnectionHighlights.init(component);\r\n      Recolorable.init(component, () => getRecolorPosition(component));\r\n   }\r\n);\r\n\r\nfunction getRecolorPosition(component: Layout): Vector {\r\n   const angle = vector(component.joints[0]).getAngleTo(component.joints[1]);\r\n   const offset = toVector(12, angle + 45);\r\n   return vector(component.joints[0]).sumWith(offset).vector;\r\n}\r\nexport default makeLayout;","import ValueCheck from \"../~valueCheck\";\r\nimport * as Types from \"./types\";\r\nimport { Schematic } from \"./~classes\";\r\nimport getMaker from \"../../generics/-getMaker\";\r\nimport Graphical from \"../addins/graphical\";\r\nimport Draggable from \"../addins/draggable\";\r\nimport Selectable from \"../addins/selectable\";\r\nimport Extendable from \"../addins/extendable\";\r\nimport Junctions from \"../addins/junctions\"\r\n\r\nimport { schematicManipulationEnabled } from \"../../../~constants\";\r\n\r\nconst defaulterSchematic: ValueCheck.Defaulter<Types.valuesSchematic> = {\r\n   name: ValueCheck.validate(\"string\", \"wire\"),\r\n   disabled: ValueCheck.validate(\"boolean\", false),\r\n   joints: ValueCheck.joints(\r\n      [{ x: 0, y: 0 }, { x: 10, y: 10 }], l => l >= 2\r\n   )\r\n};\r\n\r\n\r\nexport const makeSchematic = getMaker(\r\n   Schematic, defaulterSchematic,\r\n   (component: Schematic) => {\r\n      Junctions.init(component);\r\n      Selectable.init(component);\r\n      Graphical.init(component);\r\n      if (schematicManipulationEnabled) {\r\n         Draggable.init(component);\r\n         Extendable.init(component, true, true);\r\n      }\r\n   }\r\n);\r\nexport default makeSchematic;\r\n","import makeMap from \"../../generics/-makeMap\";\r\nimport { Schematic, Layout } from \"./~classes\";\r\nimport makeSchematic from \"./-makeSchematic\";\r\nimport makeLayout from \"./-makeLayout\";\r\nimport loadSchematic from \"./-loadSchematic\";\r\nimport loadLayout from \"./-loadLayout\";\r\n\r\n\r\nconst schematicMap = {\r\n   savename: \"makeWire\",\r\n   diagramType: \"schematic\" as \"schematic\",\r\n   instance: Schematic,\r\n   make: makeSchematic,\r\n   load: loadSchematic\r\n}\r\n\r\nconst layoutMap = {\r\n   savename: \"makeLayoutWire\",\r\n   diagramType: \"layout\" as \"layout\",\r\n   instance: Layout,\r\n   make: makeLayout,\r\n   load: loadLayout\r\n}\r\n\r\nconst maps = {\r\n   schematic: makeMap(schematicMap),\r\n   layout: makeMap(layoutMap)\r\n}\r\nexport default maps;\r\n","import Component, { Types as ComponentTypes } from \"../../+component\";;\r\nimport * as Types from \"./types\";\r\nimport { Vector } from \"../../../-vector\";\r\nimport deepCopy from \"../../../utility/-deepCopy\";\r\nimport Insert from \"../../../utility/~insert\";\r\nimport manifest from \"../../manifest\";\r\nimport getComponentConnections from \"../../generics/-getComponentConnections\";\r\nimport makeConnector from \"../../generics/-makeConnector\";\r\nimport Flatten from \"../../../utility/~flatten\";\r\nimport isNot from \"../../../utility/-isNot\";\r\nimport drawLayout from \"./-drawLayout\";\r\nimport drawSchematic from \"./-drawSchematic\";\r\n\r\nabstract class Base extends Component implements Types.properties {\r\n   getProperties(): Types.properties {\r\n      return deepCopy({\r\n         name: this.name\r\n      });\r\n   }\r\n\r\n   transferFunction(from: ComponentTypes.connector): ComponentTypes.connector[] {\r\n      return Flatten.flatten2d(this.connectorSets.map(connectorSet => connectorSet.filter(isNot(from))));\r\n   }\r\n}\r\n\r\nexport class Schematic extends Base implements Types.valuesSchematic {\r\n   joints: Vector[];\r\n   connectorSets: ComponentTypes.node[][] = [];\r\n\r\n   constructor(values: Types.valuesSchematic) {\r\n      super(values);\r\n      this.joints = values.joints;\r\n   }\r\n\r\n   getState(): Types.stateSchematic {\r\n      return deepCopy({\r\n         joints: this.joints,\r\n         disabled: this.disabled\r\n      });\r\n   }\r\n\r\n   draw() {\r\n      //(Prepend so handles appear on top)\r\n      this.group.prepend(drawSchematic(this));\r\n   }\r\n\r\n   insertInto(element?: SVGGraphicsElement) {\r\n      Insert.first(this.group.element, element);\r\n   }\r\n\r\n   makeConnectors() {\r\n      const end1 = this.joints[0];\r\n      const end2 = this.joints[this.joints.length - 1];\r\n\r\n      this.connectorSets = [[\r\n         makeConnector(this, \"\", \"node\", end1),\r\n         makeConnector(this, \"\", \"node\", end2)]\r\n      ]\r\n   }\r\n\r\n   getConnections(): ComponentTypes.connector[][][] {\r\n      return getComponentConnections(this, manifest.schematic);\r\n   }\r\n\r\n}\r\n\r\nexport class Layout extends Base implements Types.valuesLayout {\r\n   joints: Vector[];\r\n   color: string;\r\n\r\n   constructor(values: Types.valuesLayout) {\r\n      super(values);\r\n      this.joints = values.joints;\r\n      this.color = values.color;\r\n   }\r\n\r\n\r\n   getState(): Types.stateLayout {\r\n      return deepCopy({\r\n         joints: this.joints,\r\n         color: this.color,\r\n         disabled: this.disabled\r\n      });\r\n   }\r\n\r\n   draw() {\r\n      //(Prepend so handles appear on top)\r\n      this.group.prepend(drawLayout(this));\r\n   }\r\n\r\n   insertInto(element?: SVGGraphicsElement) {\r\n      Insert.last(this.group.element, element);\r\n   }\r\n\r\n   makeConnectors() {\r\n      this.connectorSets = [[\r\n         makeConnector(this, \"\", \"pin\", this.joints[0]),\r\n         makeConnector(this, \"\", \"pin\", this.joints[this.joints.length - 1]),]\r\n      ]\r\n   }\r\n\r\n   getConnections(): ComponentTypes.connector[][][] {\r\n      return getComponentConnections(this, manifest.layout);\r\n   }\r\n}\r\n\r\n","import Component, { Types as ComponentTypes } from \"../../+component\";\r\nimport vector, { Vector } from \"../../../-vector\";\r\nimport Events from \"../../events\";\r\nimport manifest from \"../../manifest\";\r\nimport history from \"../../history\";\r\nimport { Layout as Track } from \"../_track/~classes\";\r\nimport Flatten from \"../../../utility/~flatten\";\r\nimport addTransform from \"../../../svg/-addTransform\";\r\nimport { make as makeCircle } from \"../../../svg/element/+circle\"\r\n//import * as $ from 'jquery';\r\nnamespace Board {\r\n   export type board = Component & {\r\n      connectorSets: ComponentTypes.hole[][],\r\n      tracks: Track[],\r\n      joints: Vector[]\r\n   }\r\n   export interface reversibleBoard extends board {\r\n      trackBreaks: { track: number, hole: number }[];\r\n   }\r\n\r\n   export function init<B extends board>(component: B): void\r\n   export function init<B extends reversibleBoard>(component: B, isReversible: boolean): void\r\n   export function init<B extends board | reversibleBoard>(component: B, isReversible?: boolean): void {\r\n      $(component.group.element).addClass(\"board\");\r\n\r\n\r\n      Object.defineProperty(component, 'connectorSets', {\r\n         get: () => Flatten.flatten2d(component.tracks.map(track => track.connectorSets))\r\n      });\r\n\r\n      if (isReversible) {\r\n         Reversible.init(component as reversibleBoard);\r\n      }\r\n   }\r\n\r\n   namespace Reversible {\r\n\r\n      export const init = (component: reversibleBoard) => {\r\n         let element = component.group;\r\n\r\n         $(element.element).on(Events.select, () => {\r\n            createGhost(component);\r\n         });\r\n\r\n         $(element.element).on(Events.dragStart, () => {\r\n            clearGhost(component);\r\n         });\r\n\r\n         $(element.element).on(Events.rotate, () => {\r\n            clearGhost(component);\r\n            createGhost(component);\r\n         });\r\n\r\n         $(element.element).on(Events.dragStop, () => {\r\n            createGhost(component);\r\n         });\r\n\r\n         $(element.element).on(Events.deselect, () => {\r\n            clearGhost(component);\r\n         });\r\n\r\n         $(element.element).on(Events.draw, () => {\r\n            if ($(element.element).hasClass(\"selected\")) {\r\n               clearGhost(component);\r\n               createGhost(component);\r\n            }\r\n         });\r\n\r\n\r\n\r\n      }\r\n\r\n      const createGhost = (component: reversibleBoard) => {\r\n         // Create the group\r\n         let ghostGroup = component.group.element.cloneNode() as SVGGraphicsElement;\r\n\r\n         let bbox = component.group.element.getBBox();\r\n\r\n         //Scale\r\n         addTransform(ghostGroup, t => t.setScale(-1, 1), false);\r\n\r\n         //Translate\r\n         addTransform(ghostGroup, t => t.setTranslate(-(bbox.width + bbox.x) * 2 - 1, 0), false);\r\n\r\n         ghostGroup.appendChild($(component.group.element).children(\".body\").clone()[0]);\r\n\r\n         $(ghostGroup).addClass(\"reverseghost\");\r\n         $(ghostGroup).data(\"selects\", component);\r\n\r\n         let parent = (component.group.element.parentElement);\r\n         if (parent) parent.appendChild(ghostGroup);\r\n\r\n         let allValidConnectors = Flatten.flatten2d(manifest.layout.map(el =>\r\n            Flatten.flatten2d(el.connectorSets.map(connectorSet =>\r\n               connectorSet.filter(connector => connector.type === \"pin\")\r\n            ))\r\n         ));\r\n\r\n         // ...\r\n         component.tracks.forEach((track, trackIdx) => {\r\n            let trackGhostGroup = $(track.group.element).clone()[0] as any as SVGGraphicsElement;\r\n            ghostGroup.appendChild(trackGhostGroup);\r\n\r\n            // Add the holes\r\n            //let ctm = (track.group.element.getCTM() || Svg.makeMatrix()).inverse()\r\n            track.connectorSets[0].forEach((hole, holeIdx) => {\r\n\r\n               let point = hole.point;//(ctm) ? hole.point.matrixTransform(ctm) : hole.point;\r\n\r\n               let breaker = makeCircle(point, 6, \"breaker\");\r\n\r\n               if (hole.type === \"brokenhole\") {\r\n                  $(breaker.element).addClass(\"broken\");\r\n               }\r\n\r\n\r\n               if (getPinsAtHole(hole, allValidConnectors).length) {\r\n                  $(breaker.element).addClass(\"withPin\");\r\n               };\r\n\r\n               trackGhostGroup.appendChild(breaker.element);\r\n\r\n               let holePosition = { track: trackIdx, hole: holeIdx };\r\n\r\n               $(breaker.element).click(() => {\r\n                  history.add(component);\r\n\r\n                  if (hole.type === \"hole\") {\r\n                     $(breaker.element).addClass(\"broken\");\r\n                     hole.type = \"brokenhole\";\r\n                     component.trackBreaks.push(holePosition);\r\n                  } else if (hole.type === \"brokenhole\") {\r\n                     $(breaker.element).removeClass(\"broken\");\r\n                     hole.type = \"hole\";\r\n                     component.trackBreaks = component.trackBreaks.filter(trackBreak =>\r\n                        (trackBreak.hole !== holePosition.hole || trackBreak.track !== holePosition.track)\r\n                     );\r\n                  }\r\n               });\r\n            });\r\n         });\r\n      }\r\n\r\n      const clearGhost = (component: reversibleBoard) => {\r\n\r\n         let parent = (component.group.element.parentElement);\r\n         if (parent) $(parent).children(\".reverseghost\").remove();\r\n      }\r\n\r\n      function getPinsAtHole(connector: ComponentTypes.hole, allConnectors: ComponentTypes.connector[]) {\r\n         let acceptedTypes = [\"pin\"];\r\n\r\n         let point = connector.point;\r\n         let attachedConnectors: ComponentTypes.connector[] = allConnectors.filter(other => {\r\n            return (\r\n               acceptedTypes.includes(other.type)\r\n               && vector(point).isCloseTo(other.point)\r\n            )\r\n         });\r\n\r\n         return attachedConnectors;\r\n      }\r\n   }\r\n}\r\nexport default Board;\r\n","import Component, { Types as ComponentTypes } from \"../../+component\";\r\nimport Events from \"../../events\";\r\nimport { make as makeCircle } from \"../../../svg/element/+circle\";\r\nimport { make as makeText } from \"../../../svg/element/+text\";\r\n//import * as $ from 'jquery';\r\nnamespace ConnectionHighlights {\r\n\r\n   type colorPalette = string[];\r\n\r\n   export const init = (component: Component, propogate: boolean = true, colorPalette: colorPalette = defaultColorPalette) => {\r\n      let element = component.group.element;\r\n\r\n      $(element).on(Events.select, () => {\r\n         createConnectionsHighlights(component, propogate, colorPalette);\r\n      });\r\n      $(element).on(Events.draw, () => {\r\n         clearConnectionsHighlights(component);\r\n         if ($(component.group.element).hasClass(\"selected\")) {\r\n            createConnectionsHighlights(component, propogate, colorPalette);\r\n         }\r\n      });\r\n      $(element).on(Events.deselect, () => {\r\n         clearConnectionsHighlights(component);\r\n      });\r\n\r\n   }\r\n\r\n   const createConnectorHighlights = (component: Component, connection: ComponentTypes.connector, color: string) => {\r\n      let highlight = makeCircle(connection.point, 4, \"highlight highlightwithfill connectivityhighlight\");\r\n\r\n      $(highlight.element).css({ \"fill\": color, \"stroke\": color })\r\n      component.group.append(highlight);\r\n\r\n      if (connection.symbol !== undefined) {\r\n         let symbol = makeText(connection.symbol, connection.point, \"text connectivityhighlight\");\r\n         component.group.append(symbol);\r\n      }\r\n   }\r\n\r\n   const createConnectionsHighlights = (component: Component, propogate: boolean, colorPalette: colorPalette) => {\r\n      let connectionSets = component.getConnections();\r\n      connectionSets.forEach(connectionSet => {\r\n         connectionSet.forEach((connectorConnections, i) => {\r\n            let color = colorPalette[i % colorPalette.length];\r\n            if (connectorConnections.length > 1 && propogate) {\r\n               connectorConnections.slice(1).forEach(connector => {\r\n                  createConnectorHighlights(component, connector, color)\r\n               })\r\n            }\r\n            createConnectorHighlights(component, connectorConnections[0], color);\r\n         })\r\n      })\r\n\r\n   }\r\n\r\n\r\n   const clearConnectionsHighlights = (component: Component) => {\r\n      $(component.group.element).find(\".connectivityhighlight\").remove();\r\n   }\r\n\r\n   const defaultColorPalette: colorPalette = [\r\n      \"red\",\r\n      \"#8bc34a\",\r\n      \"pink\",\r\n      \"yellow\",\r\n      \"cyan\",\r\n      \"orange\",\r\n      \"purple\",\r\n      \"magenta\"\r\n   ]\r\n\r\n}\r\nexport default ConnectionHighlights","import NodeElements from \"../../../~nodeElements\";\r\nimport Component from \"../../+component\";;\r\nimport { Vector } from \"../../../-vector\";\r\nimport mappings from \"../../mappings\";\r\nimport Events from \"../../events\";\r\nimport history from \"../../history\";\r\nimport SvgDraggable from \"../../../svg/addins/draggable\";\r\n//import * as $ from 'jquery';\r\n\r\nnamespace Draggable {\r\n   type draggableComponent = Component & { joints: Vector[] };\r\n   export const init = (component: draggableComponent) => {\r\n      SvgDraggable.init(component.group.element, {\r\n         disableMovement: true,\r\n         onStart: () => {\r\n            history.add(component);\r\n            component.insertInto(component.group.element);\r\n         },\r\n         onDrag: (drag: Vector) => {\r\n            // TODO IMMUTABLE\r\n            component.joints.forEach(joint => {\r\n               joint.x += drag.x;\r\n               joint.y += drag.y;\r\n            })\r\n            $(component.group.element).trigger(Events.draw);\r\n         },\r\n         onStop: () => {\r\n            component.joints.forEach(joint => {\r\n               joint.x = Math.round(joint.x);\r\n               joint.y = Math.round(joint.y);\r\n            });\r\n         }\r\n      });\r\n\r\n      // TODO, I don't quite like how this is coupled together\r\n      if (mappings.getComponentMapSafe(component).isBoard &&\r\n         NodeElements.boardDraggingDisabled.checked\r\n      ) {\r\n         disable(component);\r\n      }\r\n   }\r\n\r\n   export const disable = (component: Component) => {\r\n      if ($(component.group.element).draggable(\"instance\") !== undefined) {\r\n         $(component.group.element).draggable(\"disable\");\r\n      }\r\n   }\r\n\r\n   export const enable = (component: Component) => {\r\n      if ($(component.group.element).draggable(\"instance\") !== undefined) {\r\n         $(component.group.element).draggable(\"enable\");\r\n      }\r\n   }\r\n}\r\n\r\nexport default Draggable;","import Events from \"../../events\";\r\nimport Component from \"../../+component\";\r\nimport manifest from \"../../manifest\";\r\nimport history from \"../../history\";\r\nimport vector, { Vector } from \"../../../-vector\";\r\nimport { make as makeCircle } from \"../../../svg/element/+circle\";\r\nimport SvgDraggable from \"../../../svg/addins/draggable\";\r\nimport isNot from \"../../../utility/-isNot\";\r\n//import * as $ from 'jquery';\r\n\r\nnamespace Extendable {\r\n   type extendableComponent = Component & { joints: Vector[] };\r\n   export const init = (\r\n      component: extendableComponent,\r\n      canAddJoints: boolean = false,\r\n      canRemoveJoints: boolean = false,\r\n      canRemoveComponent: boolean = false) => {\r\n\r\n\r\n      let element = component.group.element;\r\n\r\n      $(element).on(Events.select, () => {\r\n         createHandles(component);\r\n      });\r\n      $(element).on(Events.draw, (e, eOrigin) => {\r\n         clearHandles(component);\r\n         createHandles(component);\r\n      });\r\n      $(element).on(Events.dragStop, () => {\r\n         clearHandles(component);\r\n         createHandles(component);\r\n      });\r\n      $(element).on(Events.deselect, () => {\r\n\r\n         clearHandles(component);\r\n      });\r\n\r\n      if (canAddJoints) initHandleInsertion(component);\r\n      if (canRemoveJoints) initJointRemoval(component);\r\n      if (canRemoveComponent) initComponentRemoval(component);\r\n   }\r\n\r\n\r\n   const createHandles = (component: extendableComponent) => {\r\n      initHandles(component);\r\n   }\r\n\r\n\r\n   const clearHandles = (component: extendableComponent) => {\r\n      $(component.group.element).children(\".dragHandle\").not(\".dragging\").remove();\r\n   }\r\n\r\n   const initHandles = (component: extendableComponent) => {\r\n      component.joints.forEach(joint => {\r\n         addHandle(component, joint)\r\n      })\r\n   };\r\n\r\n   const initHandleInsertion = (component: extendableComponent) => {\r\n      $(component.group.element).dblclick(e => {\r\n         if ($(e.target).closest(\".handle\").length < 1) {\r\n            // Get position in svg coordinates, rounded to grid\r\n            const position = vector(\r\n               component.group.convertVector({ x: e.clientX || 0, y: e.clientY || 0 }, \"DomToSvg\", \"relToGroup\")\r\n            ).snapToGrid().vector;\r\n\r\n            // Get index for insertion into joint array\r\n            const jointIdx = getJointInsertionIdx(component, position);\r\n\r\n            //insert joint at position\r\n            component.joints.splice(jointIdx, 0, position);\r\n            addHandle(component, position);\r\n            $(component.group.element).trigger(Events.draw, [e]);\r\n         }\r\n      });\r\n   };\r\n\r\n   const initJointRemoval = (component: extendableComponent) => {\r\n      $(component.group.element).on(Events.drag, \".dragHandle\", (e) => {\r\n         removeExcessJoints(component, $(e.target).data(\"point\"));\r\n         $(component.group.element).trigger(Events.draw, [e]);\r\n      });\r\n\r\n      $(component.group.element).on(\"dblclick\", \".dragHandle\", (e) => {\r\n         if (component.joints.length > 2) {\r\n            const point = $(e.target).data(\"point\");\r\n            component.joints = component.joints.filter(isNot(point));\r\n            e.target.remove();\r\n            $(component.group.element).trigger(Events.draw, [e]);\r\n         }\r\n      });\r\n   }\r\n\r\n   const initComponentRemoval = (component: extendableComponent) => {\r\n      $(component.group.element).on(Events.dragStop, \".dragHandle\", (e) => {\r\n         if (component.joints.length === 2 && vector(component.joints[0]).isCloseTo(component.joints[1])) {\r\n            manifest.removeComponent(component);\r\n            history.mergeLast();\r\n         }\r\n      });\r\n   };\r\n\r\n   const addHandle = (component: extendableComponent, point: Vector) => {\r\n      let dragHandle = makeCircle(point, 5, \"handle dragHandle highlight\");\r\n      $(dragHandle.element).data('point', point);\r\n      component.group.append(dragHandle);\r\n      SvgDraggable.init(dragHandle.element);\r\n\r\n      $(dragHandle.element).on(Events.drag, (e, ui, drag: Vector) => {\r\n         point.x += drag.x;\r\n         point.y += drag.y;\r\n         $(component.group.element).trigger(Events.draw, [e]);\r\n      });\r\n\r\n      $(dragHandle.element).on(Events.dragStop, (e, ui, drag: Vector) => {\r\n         point.x = Math.round(point.x);\r\n         point.y = Math.round(point.y);\r\n      });\r\n\r\n      return dragHandle;\r\n   };\r\n\r\n   const removeExcessJoints = (component: extendableComponent, point: Vector) => {\r\n      if (component.joints.length > 2) {\r\n         component.joints = component.joints.filter((joint) => {\r\n            return (joint === point) || !vector(point).isCloseTo(joint)\r\n         });\r\n         $(component.group.element).children(\".dragHandle\").not(\".dragging\").filter((i, el) => {\r\n            return vector(point).isCloseTo($(el).data('point'))\r\n         }).remove();\r\n      };\r\n   }\r\n\r\n   const getJointInsertionIdx = (component: extendableComponent, point: Vector) => {\r\n      //handles: (Parts.Pins.MovePin)[],\r\n      let jointAngles = component.joints.map((j) =>\r\n         Math.atan2(point.y - j.y, point.x - j.x) * 180 / Math.PI\r\n      );\r\n\r\n      let bestAnglePair = 180;\r\n      let bestJointIdx = 0;\r\n\r\n      for (let i = 1; i < jointAngles.length; i++) {\r\n         let anglePair = Math.abs(Math.abs((jointAngles[i - 1] - jointAngles[i])) - 180)\r\n         if (anglePair < bestAnglePair) {\r\n            bestAnglePair = anglePair;\r\n            bestJointIdx = i;\r\n         }\r\n      }\r\n\r\n      return bestJointIdx;\r\n   }\r\n}\r\nexport default Extendable;","import Component from \"../../+component\";;\r\nimport Events from \"../../events\";\r\n//import * as $ from 'jquery';\r\nnamespace Graphical {\r\n   export const init = (component: Component) => {\r\n      let element = component.group.element;\r\n      $(element).on(Events.draw, () => {\r\n         if (component.disabled === false) {\r\n            $(component.group.element).show();\r\n            component.group.clearChildren(\":not(.handle,.connectivityhighlight)\");\r\n            component.draw();\r\n            component.makeConnectors();\r\n         } else {\r\n            $(component.group.element).hide();\r\n         }\r\n      });\r\n   }\r\n}\r\nexport default Graphical;","import Component, { Types as ComponentTypes } from \"../../+component\";\r\nimport vector from \"../../../-vector\";\r\nimport Events from \"../../events\";\r\nimport manifest from \"../../manifest\";\r\nimport Flatten from \"../../../utility/~flatten\";\r\nimport { make as makeCircle } from \"../../../svg/element/+circle\";\r\n//import * as $ from 'jquery';\r\n\r\nnamespace Junctions {\r\n   type nodeComponent = Component & {\r\n      connectorSets: ComponentTypes.node[][],\r\n   }\r\n\r\n   export const init = (component: nodeComponent) => {\r\n      let element = component.group;\r\n      $(element.element).on(Events.moved + \" \" + Events.place, () => {\r\n         clearJunctions(component);\r\n         createJunctions(component);\r\n      });\r\n   }\r\n\r\n\r\n   const createJunctions = (component: nodeComponent) => {\r\n      let otherConnectors = Flatten.flatten2d(manifest.schematic.map(component =>\r\n         Flatten.flatten2d(component.connectorSets).filter(connector =>\r\n            (connector.type === \"node\")\r\n         )\r\n      ));\r\n\r\n      component.connectorSets.forEach(connectorSet => connectorSet.forEach(connector => {\r\n         let point = connector.point;\r\n         let attachedConnectors = otherConnectors.filter(other => {\r\n            return vector(point).isCloseTo(other.point)\r\n         });\r\n         if (attachedConnectors.length === 3) {\r\n            //let ctm = Active.schematic.root.group.element.getCTM();\r\n            //point = (ctm) ? point.matrixTransform(ctm.inverse()) : point;\r\n            component.group.prepend(\r\n               makeCircle(point, 5, \"junction black\")\r\n            );\r\n         }\r\n      }));\r\n   }\r\n\r\n   const clearJunctions = (component: Component) => {\r\n      $(component.group.element).find(\".junction\").remove();\r\n   }\r\n}\r\nexport default Junctions;","import Component from \"../../+component\";;\r\nimport Events from \"../../events\";\r\nimport { Vector } from \"../../../-vector\"\r\nimport { make as makeCircle } from \"../../../svg/element/+circle\";\r\nimport { make as makeRect } from \"../../../svg/element/+rect\";\r\nimport { make as makeGroup } from \"../../../svg/element/+group\";\r\n//import * as $ from 'jquery';\r\nnamespace Recolorable {\r\n\r\n   type colorPalette = string[];\r\n   type recolorableComponent = Component & { color: string };\r\n\r\n   export const init = (\r\n      component: recolorableComponent,\r\n      where: () => Vector,\r\n      colorPalette: colorPalette = defaultColorPalette\r\n   ) => {\r\n      const element = component.group.element;\r\n\r\n      $(element).on(Events.select, () => {\r\n         createRecolorHandle(component, where(), colorPalette);\r\n      });\r\n      $(element).on(Events.draw, () => {\r\n         clearRecolorHandle(component);\r\n         createRecolorHandle(component, where(), colorPalette);\r\n      });\r\n      $(element).on(Events.deselect, () => {\r\n         clearRecolorHandle(component);\r\n      });\r\n   }\r\n\r\n   const refreshComponent = (component: recolorableComponent) => {\r\n      component.group.clearChildren(\":not(.handle,.connectivityhighlight)\");\r\n      component.makeConnectors();\r\n      $(component.group.element).trigger(Events.draw);\r\n   };\r\n\r\n   const createRecolorHandle = (component: recolorableComponent, position: Vector, colorPalette: colorPalette) => {\r\n\r\n      let recolorSegmentGroup = makeGroup(\"recolorSegmentGroup\");\r\n      let recolorHandle = makeCircle(position, 7, \"handle recolorHandle\");\r\n\r\n      //Segments\r\n      let segment1 = makeRect(\r\n         position, { width: 10, height: 20 }, undefined, \"recolorHandleSegment\"\r\n      ).rotate(45, position).translate({ x: -4, y: -4 });\r\n      let segment2 = makeRect(\r\n         position, { width: 10, height: 20 }, undefined, \"recolorHandleSegment\"\r\n      ).rotate(45, position).translate({ x: 4, y: 4 });\r\n\r\n      $(segment1.element).css(\"fill\", \"#4fd56b\");\r\n      $(segment2.element).css(\"fill\", \"#d54f6b\");\r\n\r\n\r\n      recolorSegmentGroup.append(segment1, segment2)\r\n\r\n      component.group.append(recolorHandle, recolorSegmentGroup);\r\n\r\n      $(recolorHandle.element).on(\"click\", () => {\r\n         let colorIndex = colorPalette.indexOf(component.color);\r\n         let color: string;\r\n         if (colorIndex >= 0) {\r\n            color = colorPalette[(colorIndex + 1) % colorPalette.length];\r\n         } else {\r\n            color = colorPalette[0];\r\n         };\r\n         component.color = color;\r\n         refreshComponent(component);\r\n      })\r\n   }\r\n\r\n   const clearRecolorHandle = (component: recolorableComponent) => {\r\n      $(component.group.element).find(\".recolorHandle\").remove();\r\n      $(component.group.element).find(\".recolorSegmentGroup\").remove();\r\n   }\r\n\r\n   const defaultColorPalette: colorPalette = [\r\n      \"#545454\", //\"Black\"\r\n      \"red\",\r\n      \"#7575FF\", // Blue\r\n      \"#946857\", // Brown\r\n      \"#55DD55\", // Green\r\n      \"#FFEF00\", // Yellow\r\n      \"pink\"\r\n   ]\r\n\r\n}\r\n\r\nexport default Recolorable;","import Component from \"../../+component\";;\r\nimport Events from \"../../events\";\r\nimport vector, { Vector } from \"../../../-vector\";\r\nimport history from \"../../history\";\r\n//import * as $ from 'jquery';\r\n\r\nnamespace Rotatable {\r\n   type rotatableComponent = Component & {\r\n      joints: [Vector, Vector, ...Vector[]]\r\n   };\r\n\r\n   /** Initialise rotation using joint[0] as the rotation points\r\n    *  Rotation triggered by double click in 90deg incriments\r\n    */\r\n   export const init = (component: rotatableComponent) => {\r\n      $(component.group.element).dblclick(() => {\r\n         history.add(component);\r\n         let centre = component.joints[0];\r\n\r\n         component.joints = vector(component.joints)\r\n            .sumWith(vector(centre).scaleWith(-1))\r\n            .rotate(90)\r\n            .sumWith(centre)\r\n            .vectors as [Vector, Vector, ...Vector[]]\r\n\r\n         $(component.group.element).trigger(Events.draw);\r\n         $(component.group.element).trigger(Events.rotate);\r\n      })\r\n   }\r\n}\r\nexport default Rotatable;","import Component from \"../../+component\";\r\nimport Events from \"../../events\";\r\nimport manifest from \"../../manifest\";\r\n//import * as $ from 'jquery';\r\nnamespace Selectable {\r\n   export const init = (component: Component) => {\r\n      setSelectTrigger(component);\r\n      setDisplayHandlers(component);\r\n   }\r\n\r\n   const findSelectionElements = (component: Component) => {\r\n      return manifest.findCorresponding(component).concat(component).map(el => el.group.element);\r\n   }\r\n\r\n   const getSelectsCheck = (component: Component) =>\r\n      (i: any, element: Node) => ($(element).data(\"selects\") === component);\r\n\r\n\r\n   const elementSelectsComponent = (element: Node, component: Component) => {\r\n      const parents = $(element).parents(); //Ancestors\r\n\r\n      const selectionElements = findSelectionElements(component);\r\n      const elementCorrespondsToComponent = parents.is(selectionElements);\r\n\r\n      const secondarySelectionCheck = getSelectsCheck(component);\r\n      const elementIsComponentSelector = parents.is(secondarySelectionCheck);\r\n\r\n      return (elementCorrespondsToComponent || elementIsComponentSelector);\r\n   }\r\n\r\n   const setSelectTrigger = (component: Component) => {\r\n      // Selecting component triggers select\r\n      $(component.group.element).one(\"mousedown\", () => {\r\n         /*LOGSTART*/console.groupCollapsed(\"Selected\", component.group.element);/*LOGEND*/\r\n         /*LOGSTART*/console.log(\"Primary: %o\", component);/*LOGEND*/\r\n\r\n         const otherComponents = manifest.findCorresponding(component);\r\n         /*LOGSTART*/console.log(\"Secondaries: %o\", otherComponents);/*LOGEND*/\r\n\r\n         const selectComponents = otherComponents.concat(component);\r\n         selectComponents.forEach(selectComponent => {\r\n            $(selectComponent.group.element).trigger(Events.select);\r\n         });\r\n         setDeselectTrigger(component);\r\n\r\n         /*LOGSTART*/console.groupEnd();/*LOGEND*/\r\n      })\r\n\r\n\r\n   }\r\n\r\n   const setDeselectTrigger = (component: Component) => {\r\n      // Selecting anywhere else triggers deselect\r\n      $(document).one(\"mousedown\", e => {\r\n         // Checks target isn't child of component, ignore if so\r\n         if (elementSelectsComponent(e.target, component)) {\r\n            setDeselectTrigger(component);\r\n         } else {\r\n\r\n            const otherComponents = manifest.findCorresponding(component);\r\n\r\n            const selectComponents = otherComponents.concat(component);\r\n            selectComponents.forEach(selectComponent => {\r\n               $(selectComponent.group.element).trigger(Events.deselect);\r\n            });\r\n            setSelectTrigger(component);\r\n         }\r\n      })\r\n   }\r\n\r\n   const setDisplayHandlers = (component: Component) => {\r\n      $(component.group.element).on(Events.select, () => {\r\n         $(component.group.element).addClass(\"selected\");\r\n         component.insertInto(component.group.element);\r\n      });\r\n      $(component.group.element).on(Events.deselect, () => {\r\n         $(component.group.element).removeClass(\"selected\");\r\n      })\r\n   }\r\n}\r\nexport default Selectable;","import Component, { Types as ComponentTypes } from \"../../+component\";\r\nimport vector, { Vector } from \"../../../-vector\";\r\nimport Events from \"../../events\";\r\nimport Active from \"../../../~active\";\r\nimport manifest from \"../../manifest\";\r\nimport wireMaps from \"../_wire/-maps\";\r\nimport SvgDraggable from \"../../../svg/addins/draggable\";\r\n//import * as $ from 'jquery';\r\nnamespace WireCreation {\r\n   type holeyComponent = Component & { connectorSets: ComponentTypes.hole[][] };\r\n\r\n\r\n   export const init = (component: holeyComponent) => {\r\n      // Hole elements will not exist at initialisation,\r\n      // need to use component filtered by .hole selector\r\n      $(component.group.element).on(\"mouseenter\", \".hole\", (mOE) => {\r\n         // Set the hole as draggable if it isn't already\r\n         if (!$(mOE.target).draggable('instance')) {\r\n            SvgDraggable.init(component.group.element, {\r\n               eventTarget: mOE.target as SVGGraphicsElement,\r\n               disableMovement: true,\r\n               styleClass: \"\"\r\n            });\r\n            let dragHandle: SVGGraphicsElement;\r\n\r\n            // We are hijacking the hole drag events, so it's important the real handlers don't fire\r\n            // hence: e.stopPropagation();\r\n\r\n            // Create the wire, select it, and grab a handle (any is fine)\r\n            $(mOE.target).on(Events.dragStart, (e, ui, drag: Vector) => {\r\n               e.stopPropagation();\r\n\r\n               // Get mouse coordinates \r\n               const clientX = e.clientX;\r\n               const clientY = e.clientY;\r\n               if (!(clientX && clientY)) {\r\n                  throw new Error(\"Mouse event did not provide coordinates!\");\r\n               }\r\n               const clientPos = { x: clientX, y: clientY };\r\n\r\n               const position = Active.layout.group.convertVector(clientPos, \"DomToSvg\", \"relToGroup\");\r\n               const gridPosition = vector(position).snapToGrid().vector;\r\n               const wire = createWireAtPoint(gridPosition);\r\n               $(wire.group.element).trigger(Events.draw);\r\n               dragHandle = $(wire.group.element).find(\".dragHandle\")[0] as any;\r\n               $(dragHandle).trigger(\"mousedown\");\r\n            })\r\n\r\n            // Pass the handlers to the wire\r\n            $(mOE.target).on(Events.drag, (e, ui, drag: Vector) => {\r\n               e.stopPropagation();\r\n               $(dragHandle).trigger(Events.drag, [ui, drag]);\r\n            });\r\n\r\n            // Pass the handlers to the wire\r\n            $(mOE.target).on(Events.dragStop, (e, ui) => {\r\n               e.stopPropagation();\r\n               $(dragHandle).trigger(Events.dragStop, ui);\r\n            });\r\n         }\r\n      })\r\n\r\n   }\r\n\r\n   const createWireAtPoint = (vector: Vector) => {\r\n      const wire = wireMaps.layout.make({\r\n         joints: [{ x: vector.x, y: vector.y }, { x: vector.x, y: vector.y }],\r\n      });\r\n      manifest.addComponent(manifest.layout, wire);\r\n      return wire;\r\n   }\r\n}\r\nexport default WireCreation;","import vector, { Vector } from \"../../-vector\";\r\nimport testType from \"../../utility/-testType\";\r\nimport validateType from \"../../utility/-validateType\";\r\nimport { checkfunction } from \"../../utility/-validateType\";\r\n\r\nnamespace ValueCheck {\r\n\r\n   export const test = testType;\r\n   export const validate = validateType;\r\n   export type validater<T> = checkfunction<T>\r\n\r\n   export type Defaulter<T> = {\r\n      [P in keyof T]: checkfunction<T[P]>\r\n   }\r\n\r\n   const integerTest = (n: unknown) => test(\"number\")(n) && Number.isInteger(n);\r\n   export function integer(fallback: number): validater<number> {\r\n      const result = (value: unknown, log: boolean = false) => {\r\n         return validate(integerTest, fallback)(value, log);\r\n      }\r\n\r\n      return result;\r\n   }\r\n\r\n   export function where(fallback: Vector): validater<Vector> {\r\n      const result = (value: unknown, log: boolean = false) => {\r\n         const anyVector = validate(vector.isVector, fallback)(value, log);\r\n         return vector.standardise(anyVector);\r\n      }\r\n\r\n      return result;\r\n   }\r\n\r\n   export function joints<T extends Vector[]>(fallback: T, lengthTest: (l: number) => boolean = l => l === fallback.length): validater<T> {\r\n      const jointTest = (value: unknown) => vector.isVectorArray(value) && lengthTest(value.length);\r\n      const result = (value: unknown, log: boolean = false) => {\r\n         const anyVectors = validate(jointTest, fallback)(value, log);\r\n         return vector.standardise(anyVectors) as T;\r\n      }\r\n\r\n      return result;\r\n   }\r\n\r\n   /* Can't guarantee validity, but can guarantee it isn't definitely invalid*/\r\n   const maxValidCSSColorLength = 25;\r\n   const colorTest = (s: unknown) => test(\"string\")(s) && s.length <= maxValidCSSColorLength;\r\n\r\n   export function color(fallback: string): validater<string> {\r\n      const result = (value: unknown, log: boolean = false) => {\r\n         return validate(colorTest, fallback)(value, log);\r\n      }\r\n\r\n      return result;\r\n   }\r\n}\r\n\r\nexport default ValueCheck;\r\n","namespace Events {\r\n   export const rotate: string = \"rotate\";\r\n   export const drag: string = \"dragSVG\";\r\n   export const dragStart: string = \"dragstart\";\r\n   export const dragStop: string = \"dragstop\";\r\n   export const moved: string = [rotate, drag, dragStart, dragStop].join(\" \");\r\n\r\n   export const place: string = \"place\";\r\n\r\n   export const select: string = \"svgSelect\";\r\n   export const deselect: string = \"svgDeselect\";\r\n\r\n   export const draw: string = \"draw\";\r\n}\r\nexport default Events;","\r\nimport Component, { Types } from \"../+component\";\r\nimport flatten from \"../../utility/~flatten\";\r\nimport mappings from \"../mappings\";\r\nimport vector from \"../../-vector\"\r\n\r\n/** Returns an array of connected connectors for each connector in each connector set \r\n * of the component\r\n */\r\nexport default function getComponentConnections(component: Component, otherComponents: Component[]): Types.connector[][][] {\r\n   // Get all of the other connectors\r\n   const allConnectors = flatten.flatten3d(otherComponents.map(el => el.connectorSets));\r\n   // For each connector set ([])\r\n   return component.connectorSets.map(connectorSet => {\r\n      // Find the unique nets\r\n      const uniqueNetConnectors = getUniqueNetConnectors(connectorSet);\r\n      // For each unique net ([][])\r\n      return uniqueNetConnectors.map(connector => {\r\n         // Find all connectors on that net ([][][])\r\n         return getConnectorConnections(connector, allConnectors)\r\n      });\r\n   });\r\n}\r\n\r\n/** Gets a single connector for each connector net */\r\nfunction getUniqueNetConnectors(connectors: Types.connector[]): Types.connector[] {\r\n   let nonCheckedConnectors = connectors;\r\n   let uniqueNetConnectors: Types.connector[] = [];\r\n\r\n   // While any connector is not checked\r\n   while (nonCheckedConnectors.length) {\r\n      // It must be on a new unique net, so add it\r\n      uniqueNetConnectors.push(nonCheckedConnectors[0]);\r\n\r\n      // Find all the others on that net\r\n      let nettedConnectors = nonCheckedConnectors[0]\r\n         .component.transferFunction(nonCheckedConnectors[0])\r\n         .concat(nonCheckedConnectors[0]);\r\n\r\n      // Remove them from the list to check\r\n      nonCheckedConnectors = nonCheckedConnectors.filter(connector => !nettedConnectors.includes(connector));\r\n   }\r\n\r\n   return uniqueNetConnectors;\r\n}\r\n\r\n/** Returns an array of the connectors connected to a connector */\r\nfunction getConnectorConnections(connector: Types.connector, allConnectors: Types.connector[]): Types.connector[] {\r\n\r\n   let connectedConnectors: Types.connector[] = [];\r\n   let nonCheckedConnections = connector.component.transferFunction(connector).concat(connector);\r\n\r\n   // If any connection is unchecked\r\n   while (nonCheckedConnections.length) {\r\n\r\n      // Add it as a connector\r\n      connectedConnectors.push(...nonCheckedConnections);\r\n\r\n      // Find new connections from nonchecked\r\n      let newConnections: Types.connector[] = [];\r\n      nonCheckedConnections.forEach(connection => {\r\n         // Find the direct connections, and add to connections\r\n         getConnectorDirectConnections(connection, allConnectors).forEach(connected => {\r\n            // Don't add if they already have been (prevents infinite loops!)\r\n            if (!(connectedConnectors.includes(connected))) {\r\n               connectedConnectors.push(connected);\r\n               newConnections.push(...connected.component.transferFunction(connected));\r\n            }\r\n         })\r\n      });\r\n\r\n      // Start again with new set (each iteration we move one connector further down any nets)\r\n      nonCheckedConnections = newConnections;\r\n   }\r\n\r\n   return connectedConnectors\r\n}\r\n\r\n/** Returns an array of the connectors which directly connect to a connector */\r\nfunction getConnectorDirectConnections(connector: Types.connector, allConnectors: Types.connector[]): Types.connector[] {\r\n   // Get the connectorTypes which it is ok to connect to\r\n   const acceptedTypes = mappings.connectorAcceptedTypes[connector.type];\r\n   // Get the location of the connector\r\n   const point = connector.point;\r\n   // Return other connectors that can be connected to\r\n   return allConnectors.filter(other => {\r\n      return (\r\n         acceptedTypes.includes(other.type)\r\n         && vector(point).isCloseTo(other.point)\r\n      )\r\n   });\r\n}\r\n","import Component from \"../+component\";\r\nimport ValueCheck from \"../component/~valueCheck\";\r\nimport loadObjectWithDefaults from \"./-loadObjectWithDefaults\";\r\nimport * as GlobalTypes from \"../../++types\";\r\n//import * as $ from 'jquery';\r\n\r\nexport default interface getMaker<\r\n   C extends Component,\r\n   V extends ReturnType<C[\"getProperties\"]> & ReturnType<C[\"getState\"]>\r\n   > {\r\n   (\r\n      instanceClass: { new(values: V): C },\r\n      defaulter: ValueCheck.Defaulter<V>,\r\n      initialiser: (component: C) => void\r\n   ): (\r\n         partialValues: GlobalTypes.DeepPartial<V>,\r\n         log: boolean\r\n      ) => C\r\n}\r\nexport default function getMaker<\r\n   C extends Component,\r\n   V extends ReturnType<C[\"getProperties\"]> & ReturnType<C[\"getState\"]>,\r\n   >(\r\n      instanceClass: { new(values: V): C },\r\n      defaulter: ValueCheck.Defaulter<V>,\r\n      initialiser: (component: C) => void) {\r\n   return (\r\n      partialValues: GlobalTypes.DeepPartial<V>,\r\n      log = true\r\n   ): C => {\r\n   /*LOGSTART*/if (log) {\r\n         console.groupCollapsed(\"Loading...\");\r\n      }/*LOGEND*/\r\n      const values = loadObjectWithDefaults(defaulter, partialValues, log);\r\n   /*LOGSTART*/if (log) {\r\n         console.groupEnd();\r\n      }/*LOGEND*/\r\n\r\n      const component = new instanceClass(values) as C;\r\n      if (initialiser) initialiser(component);\r\n      component.draw();\r\n      component.makeConnectors();\r\n\r\n   /*LOGSTART*/ if (log) {\r\n         console.groupCollapsed(\"%s: %o\", component.name, component.group.element);\r\n         console.log(component);\r\n         console.groupEnd();\r\n      } /*LOGEND*/\r\n\r\n      $(component.group.element).addClass(component.name)\r\n\r\n      return component;\r\n   }\r\n}","import ValueCheck from \"../component/~valueCheck\";\r\n\r\nexport default function loadObjectWithDefaults<T>(defaulter: ValueCheck.Defaulter<T>, partial: any, log = true): T {\r\n   //TS just needs to trust me here...\r\n   const result: T = Object.keys(defaulter).reduce((acc, key) => {\r\n\r\n      /*LOGSTART*/ if (log) {\r\n         console.group(key);\r\n      }/*LOGEND*/\r\n\r\n      const defaultFn: ValueCheck.validater<any> = (defaulter as any)[key];\r\n      const partialValue = (partial) ? partial[key] : undefined;\r\n      (acc as any)[key] = defaultFn(partialValue, log)\r\n\r\n      /*LOGSTART*/ if (log) {\r\n         console.groupEnd();\r\n      }/*LOGEND*/\r\n\r\n      return acc;\r\n   }, {}) as T;\r\n\r\n   return result;\r\n}","import Component, { Types } from \"../+component\";\r\nimport { Vector } from \"../../-vector\";\r\n\r\nexport default function makeConnector<T extends Types.connectorTypes>(\r\n   component: Component,\r\n   name: string,\r\n   type: T,\r\n   position: Vector,\r\n   symbol?: string\r\n): Types.connector & { type: T } {\r\n\r\n   let connector = {\r\n      name: name,\r\n      symbol: symbol,\r\n      type: type,\r\n      component: component,\r\n      point: position,\r\n   }\r\n\r\n   return connector;\r\n}\r\n\r\n","import { Types } from \"../+component\"\r\n\r\nexport default function makeMap<T extends Types.map, CT extends Types.map>\r\n   (map: T, correspondsTo?: CT): T & { correspondsTo?: CT, isUnique?: boolean, isBoard?: boolean } {\r\n   return Object.assign(map, { correspondsTo });\r\n}","import historyFactory from \"./_history/-factory\"\r\n\r\nconst history = historyFactory();\r\nexport default history;\r\n\r\n","import Active from \"../~active\";\r\nimport Component, { Types as ComponentTypes } from \"./+component\";\r\nimport { Layout as OpAmp } from \"./component/_opAmp/~classes\"\r\nimport Curry from \"../utility/~curry\";\r\nimport split from \"../utility/-split\";\r\nimport is from \"../utility/-is\";\r\nimport isUnaryMap from \"../utility/-isUnaryMap\";\r\nimport mappings from \"./mappings\";\r\nimport history from \"./history\";\r\nimport Events from \"./events\";\r\nimport Diagram from \"./+diagram\";\r\n//import * as $ from 'jquery';\r\n\r\nconst manifest = (() => {\r\n\r\n   const clear = () => {\r\n      manifest.layout = manifest.layout.filter(component => {\r\n         component.group.element.remove();\r\n         return false;\r\n      });\r\n      manifest.schematic = manifest.schematic.filter(component => {\r\n         component.group.element.remove();\r\n         return false;\r\n      });\r\n      $(Active.layout.root.element).children().remove();\r\n      $(Active.schematic.root.element).children().remove();\r\n   }\r\n\r\n   let activeBoard: (Component | undefined);\r\n\r\n   const constructFrom = (savedManifest: { schematic: any, layout: any }) => {\r\n      manifest.clear();\r\n      manifest.schematic = savedManifest.schematic;\r\n      manifest.layout = savedManifest.layout;\r\n      if (!savedManifest.layout || savedManifest.layout.length === 0) completeManifestLayout();\r\n\r\n      manifest.activeBoard = manifest.layout.find(component => mappings.getComponentMapSafe(component).isBoard === true);\r\n      draw();\r\n   }\r\n\r\n   const addComponent = (manifestSection: Component[], ...components: Component[]) => {\r\n      let diagram: Diagram;\r\n\r\n      if (manifestSection === manifest.schematic) {\r\n         diagram = Active.schematic;\r\n      } else {\r\n         diagram = Active.layout;\r\n      }\r\n\r\n      components.forEach(component => component.disabled = true);\r\n\r\n      history.add(manifest, ...components);\r\n\r\n      components.forEach(component => {\r\n         component.disabled = false;\r\n         manifestSection.push(component);\r\n         placeComponent(component, diagram);\r\n      });\r\n   }\r\n\r\n   const placeComponent = (component: Component, diagram: Diagram) => {\r\n      component.insertInto(diagram.root.group.element);\r\n      $(component.group.element).trigger(Events.place);\r\n   }\r\n\r\n   const draw = () => {\r\n      manifest.schematic.forEach(component => placeComponent(component, Active.schematic));\r\n      manifest.layout.forEach(component => placeComponent(component, Active.layout));\r\n   }\r\n\r\n   const removeComponent = (...components: Component[]) => {\r\n      history.add(manifest, ...components);\r\n      manifest.layout = manifest.layout.filter(el => !components.includes(el));\r\n      manifest.schematic = manifest.schematic.filter(el => !components.includes(el));\r\n\r\n      components.forEach(component => {\r\n         $(component.group.element).hide();\r\n         component.disabled = true;\r\n      });\r\n   }\r\n\r\n   const findCorresponding = (component: Component): Component[] => {\r\n      if (!mappings.getComponentMapSafe(component).correspondsTo) return [];\r\n      //Find component\r\n      if (manifest.layout.includes(component)) {\r\n         return manifest.schematic.filter(areComponentsSimilar(component));\r\n      } else if (manifest.schematic.includes(component)) {\r\n         return manifest.layout.filter(areComponentsSimilar(component))\r\n      } else {\r\n         return [];\r\n      }\r\n   }\r\n\r\n   const checkAll = () => {\r\n         /*LOGSTART*/console.groupCollapsed(\"Check Data\");/*LOGEND*/\r\n      // Only look at components which need to be compared\r\n      let layComponents = manifest.layout.filter(c => mappings.getComponentMapSafe(c).correspondsTo);\r\n      let schComponents = manifest.schematic.filter(c => mappings.getComponentMapSafe(c).correspondsTo);\r\n\r\n      let schConnectorData = schComponents.map(schComponent => ({\r\n         component: schComponent,\r\n         connectorSets: getMinConnections(schComponent)\r\n      }));\r\n\r\n\r\n      // Split the layout components by whether they pass the test\r\n      let passSorted = split(layComponents, (layComponent) => {\r\n         if (schConnectorData.length === 0) return false;\r\n\r\n         // Find the layout components connector sets\r\n         let layConnectorSets = getMinConnections(layComponent);\r\n\r\n         // Find the connector sets for schematic components that are similar\r\n         let schConnectorMinData = schConnectorData.filter(datum =>\r\n            areComponentsSimilar(layComponent)(datum.component)\r\n         );\r\n\r\n         // Merge them into one if the component is unique (e.g. power supplies)\r\n         const componentIsUnique = mappings.getComponentMapSafe(layComponent).isUnique;\r\n         if (componentIsUnique) {\r\n            let merged = mergeConnectorsSets(schConnectorMinData.map(datum => datum.connectorSets))\r\n            schConnectorMinData.forEach(datum => {\r\n               datum.connectorSets = merged;\r\n            });\r\n         }\r\n\r\n         let found = schConnectorMinData.filter(datum => connectorSetsHaveMatch(layConnectorSets, datum.connectorSets));\r\n\r\n         if (componentIsUnique) {\r\n            schConnectorData = schConnectorData.filter(datum => !found.includes(datum));\r\n               /*LOGSTART*/console.log(\"Layout %s '%o, matched with '%o'\", layComponent.name, [layComponent], found)/*LOGEND*/\r\n         } else {\r\n            schConnectorData = schConnectorData.filter(datum => datum !== found[0]);\r\n               /*LOGSTART*/console.log(\"Layout %s '%o, matched with '%o'\", layComponent.name, [layComponent], [found[0]])/*LOGEND*/\r\n         }\r\n\r\n\r\n\r\n         // Check if there is any match between connector sets\r\n         return found.length > 0;\r\n      });\r\n\r\n      /*LOGSTART*/\r\n      console.log(\"Unmatched schematic components: %o\", schConnectorData.map(datum => datum.component));\r\n      console.log(\"Unmatched layout components: %o\", passSorted.fails);\r\n      console.groupEnd();\r\n      /*LOGEND*/\r\n\r\n      return {\r\n         corrects: passSorted.passes,\r\n         incorrects: passSorted.fails\r\n      }\r\n   };\r\n\r\n   const getState = () => {\r\n      return {\r\n         schematic: [...manifest.schematic],\r\n         layout: [...manifest.layout],\r\n         activeBoard: manifest.activeBoard\r\n      }\r\n   }\r\n\r\n   return {\r\n      schematic: [] as Component[],\r\n      layout: [] as Component[],\r\n      addComponent: addComponent,\r\n      constructFrom: constructFrom,\r\n      removeComponent: removeComponent,\r\n      findCorresponding: findCorresponding,\r\n      checkAll: checkAll,\r\n      activeBoard: activeBoard,\r\n      getState: getState,\r\n      clear: clear\r\n   }\r\n})();\r\n\r\ntype connection = {\r\n   name: string;\r\n   component: Component;\r\n}\r\ntype connector = {\r\n   name: string;\r\n   connections: connection[];\r\n}\r\ntype connectorSet = connector[];\r\ntype connectorSetGroup = connectorSet[];\r\ntype connectorSetGroups = connectorSetGroup[];\r\n\r\n\r\nconst arePropertiesEqual = Curry.makeOptional(\r\n   (A: ComponentTypes.properties, B: ComponentTypes.properties) => {\r\n      let Akeys = Object.keys(A);\r\n      let Bkeys = Object.keys(B);\r\n\r\n      return ((Akeys.length === Bkeys.length) &&\r\n         Akeys.every(key => {\r\n            return (B.hasOwnProperty(key) && (A as any)[key] === (B as any)[key]);\r\n         })\r\n      )\r\n   }\r\n);\r\n\r\nconst areComponentsSimilar = Curry.makeOptional(\r\n   (componentA: Component, componentB: Component): boolean => {\r\n      return (\r\n         componentA.name === componentB.name &&\r\n         arePropertiesEqual(componentA.getProperties(), componentB.getProperties())\r\n      );\r\n   }\r\n);\r\n\r\nconst createMissingLayoutElements = () => {\r\n   let layoutCopy = manifest.layout.slice();\r\n   manifest.schematic.forEach(schematicElement => {\r\n      let properties = schematicElement.getProperties();\r\n      let match = layoutCopy.find(layoutElement =>\r\n         arePropertiesEqual(properties, layoutElement.getProperties())\r\n      );\r\n      if (match) {\r\n         if (!mappings.getComponentMapSafe(match).isUnique) {\r\n            layoutCopy = layoutCopy.filter(is(match));\r\n         }\r\n      } else {\r\n         const correspondsTo = mappings.getComponentMapSafe(schematicElement).correspondsTo;\r\n         if (correspondsTo !== undefined) {\r\n            const newComponentMaker = correspondsTo.make as ComponentTypes.loadFunction;\r\n            const newComponent = newComponentMaker(schematicElement.getProperties())\r\n            //mappings.getLayoutInstanceFromSchematic(schematicElement);\r\n            manifest.layout.push(newComponent);\r\n            if (mappings.getComponentMapSafe(newComponent).isUnique) {\r\n               layoutCopy.push(newComponent)\r\n            }\r\n\r\n         }\r\n      }\r\n   });\r\n}\r\n\r\nconst mergeSingleOpAmps = () => {\r\n   // For dual op amps\r\n   let layoutOpAmps = manifest.layout.filter(layoutElement => (\r\n      layoutElement[\"constructor\"] === OpAmp\r\n   )) as InstanceType<typeof OpAmp>[];\r\n\r\n   let opAmpGroups: InstanceType<typeof OpAmp>[][] = [];\r\n   layoutOpAmps.forEach((opAmp, i) => {\r\n      let groupIdx = opAmpGroups.findIndex(group =>\r\n         arePropertiesEqual(opAmp.getProperties(), group[0].getProperties())\r\n      )\r\n      if (groupIdx >= 0) {\r\n         opAmpGroups[groupIdx].push(opAmp);\r\n      } else {\r\n         opAmpGroups.push([opAmp]);\r\n      }\r\n   });\r\n   opAmpGroups.forEach(group => {\r\n      while (group.length >= 2) {\r\n         group[0].replaceWithDual()\r\n         manifest.removeComponent(group[1]);\r\n         group = group.splice(2);\r\n      }\r\n   });\r\n}\r\n\r\n// Add equivalent layout components for each schematic component\r\nconst completeManifestLayout = () => {\r\n   createMissingLayoutElements();\r\n   mergeSingleOpAmps();\r\n}\r\n\r\nconst mergeConnectorSets = (connectorSets: connectorSetGroup): connectorSet => {\r\n   // Reduce group to set\r\n   return connectorSets.reduce((mergedConnectorSet, connectorSet) => {\r\n      // Check each connector in set\r\n      connectorSet.forEach(connector => {\r\n         // If merged includes connector, merge, otherwise add \r\n         let found = mergedConnectorSet.find((mConnector) => mConnector.name === connector.name);\r\n         if (found) {\r\n            found.connections.push(...connector.connections)\r\n         } else {\r\n            mergedConnectorSet.push(connector);\r\n         }\r\n      });\r\n      return mergedConnectorSet;\r\n   });\r\n}\r\n\r\nconst mergeConnectorsSets = (connectorSetGroups: connectorSetGroups): connectorSetGroup => {\r\n   return connectorSetGroups.reduce((mergedConnectorSetGroup, connectorSetGroup) => {\r\n      connectorSetGroup.forEach((connectorSet, i) => {\r\n         mergedConnectorSetGroup[i] = mergeConnectorSets(\r\n            [(mergedConnectorSetGroup[i] || []), connectorSet]\r\n         );\r\n      });\r\n      return mergedConnectorSetGroup;\r\n   });\r\n}\r\n\r\nconst getMinConnections = (component: Component): connectorSetGroup => {\r\n   return (component.getConnections().map(connectorSet => {\r\n      return (connectorSet.map(connections => {\r\n         let connectorName = connections[0].name;\r\n         connections.shift();\r\n         let blackHole = connections.find(connection => mappings.getComponentMapSafe(connection.component).isUnique === true)\r\n         if (blackHole) connections = connections.filter(is(blackHole));\r\n\r\n         return {\r\n            name: connectorName,\r\n            connections: connections.filter((connection) =>\r\n               mappings.getComponentMapSafe(connection.component).correspondsTo\r\n            )\r\n         }\r\n      })).filter(c => c.connections.length !== 0);\r\n   }));\r\n}\r\n\r\nconst connectorSetsHaveMatch = Curry.makeOptional(\r\n   (connectorSetsA: connectorSet[], connectorSetsB: connectorSet[]): boolean => {\r\n      return connectorSetsA.some(connectorSetA => {\r\n         return connectorSetsB.some(connectorSetMatch(connectorSetA));\r\n      })\r\n   }\r\n);\r\n\r\nconst connectorSetMatch = Curry.makeOptional(\r\n   (connectorSetA: connectorSet, connectorSetB: connectorSet): boolean => {\r\n      // Returns true if both connector sets have the same set of connectors \r\n      // connected to the same set of connections...\r\n\r\n      // Every connector in each connector set has a match in the corresponding set.\r\n      return isUnaryMap(connectorSetA, connectorSetB, (connectorA, connectorB) => {\r\n         if (connectorA.name !== connectorB.name) return false;\r\n         const connectionsA = connectorA.connections;\r\n         const connectionsB = connectorB.connections;\r\n         // Every connection in each connector has a match in the corresponding connector\r\n         return isUnaryMap(connectionsA, connectionsB, (connectionA, connectionB) => {\r\n            // Connections are the same if:\r\n            return (\r\n               connectionA.name === connectionB.name\r\n               && areComponentsSimilar(connectionA.component, connectionB.component)\r\n            );\r\n         })\r\n      });\r\n   }\r\n);\r\n\r\nexport default manifest;","import tuple from \"../utility/-tuple\";\r\nimport Component from \"../circuit/+component\";\r\nimport WireMaps from \"./component/_wire/-maps\";\r\nimport ResistorMaps from \"./component/_resistor/-maps\";\r\nimport CapacitorMaps from \"./component/_capacitor/-maps\";\r\nimport InductorMaps from \"./component/_inductor/-maps\";\r\nimport DiodeMaps from \"./component/_diode/-maps\";\r\nimport OpAmpMaps from \"./component/_opAmp/-maps\";\r\nimport PowerMaps from \"./component/_power/-maps\";\r\nimport BipolarMaps from \"./component/_bipolar/-maps\";\r\nimport BreadboardMaps from \"./component/_breadboard/-maps\";\r\nimport StripboardMaps from \"./component/_stripboard/-maps\";\r\nimport TrackMap from \"./component/_track/-maps\";\r\n\r\nconst mappingsBuilder = (() => {\r\n\r\n   const componentMaps = tuple(\r\n      WireMaps.schematic,\r\n      WireMaps.layout,\r\n      ResistorMaps.schematic,\r\n      ResistorMaps.layout,\r\n      CapacitorMaps.schematic,\r\n      CapacitorMaps.layout,\r\n      InductorMaps.schematic,\r\n      InductorMaps.layout,\r\n      DiodeMaps.schematic,\r\n      DiodeMaps.layout,\r\n      OpAmpMaps.schematic,\r\n      OpAmpMaps.layout,\r\n      PowerMaps.schematic,\r\n      PowerMaps.layout,\r\n      BipolarMaps.schematic,\r\n      BipolarMaps.layout,\r\n      BreadboardMaps.layoutLarge,\r\n      BreadboardMaps.layoutSmall,\r\n      StripboardMaps.layout,\r\n      TrackMap,\r\n   );\r\n\r\n   function getComponentMapSafe(data: string | Component) {\r\n      const result = (typeof data === \"string\")\r\n         ? componentMaps.find(map => map.savename === data)\r\n         : componentMaps.find(map => {\r\n            return (data instanceof map.instance)\r\n         });\r\n\r\n      if (result !== undefined) {\r\n         return result;\r\n      } else {\r\n            /*LOGSTART*/console.error(\"Component map not found with data %o\", data);/*LOGEND*/\r\n         throw new Error(\"Component map does not exist!\");\r\n      }\r\n   }\r\n\r\n   function getComponentMap(data: string | Component) {\r\n      return (typeof data === \"string\")\r\n         ? componentMaps.find(map => map.savename === data)\r\n         : componentMaps.find(map => map.instance === data[\"constructor\"]);\r\n   }\r\n\r\n   //TODO use map(ts) to enforce correct values\r\n   const connectorAcceptedTypes: { [key: string]: string[] } = {\r\n      \"pin\": [\"hole\"],\r\n      \"hole\": [\"pin\"],\r\n      \"brokenhole\": [],\r\n      \"node\": [\"node\"],\r\n   }\r\n\r\n   return {\r\n      getComponentMap: getComponentMap,\r\n      getComponentMapSafe: getComponentMapSafe,\r\n      connectorAcceptedTypes: connectorAcceptedTypes,\r\n   }\r\n});\r\n\r\nconst mappings = mappingsBuilder();\r\n\r\nexport default mappings;","import NodeElements from \"../../~nodeElements\";\r\nimport Events from \"../../ui/~events\";\r\nimport buildComponents from \"./dasim/-buildComponents\";\r\nimport filterInvalidComponents from \"./dasim/-filterInvalidComponents\";\r\nimport getRawComponentsFromString from \"./dasim/-getRawComponentsFromString\";\r\nimport getStringFromFileInput from \"./dasim/-getStringFromFileInput\";\r\nimport manifest from \"../../circuit/manifest\";\r\nimport history from \"../../circuit/history\";\r\n//import * as $ from 'jquery';\r\n\r\n//TODO lastFilename shouldn't be exported here...! Maybe move\r\nlet lastFilename: string | undefined;\r\nfunction handleFileInputEvent(event: Event) {\r\n   let fileInput = event.target as HTMLInputElement;\r\n   if (fileInput.value.length === 0) {\r\n      // User selected to cancel, no action required\r\n   } else {\r\n         // Creates a queue forceing the following functions to occur in order,\r\n         // and pass their output to the next function. This is necessary as some\r\n         // are asynchronous but all require the prevous function to completed.\r\n         // Prevents callback hell.\r\n\r\n         // Note that each time '.then(fn)' is written it could be replaced with\r\n         // '.then((args) => fn(args)' which is more explicit but more verbose\r\n\r\n         /*LOGSTART*/console.groupCollapsed(\"File Load Data\");/*LOGEND*/\r\n\r\n      $.Deferred().resolve(fileInput)\r\n         // Get the file as a string from the fileinput\r\n         // (effectively the output of $.Deferred().resolve(fileInput))\r\n         .then(() => getStringFromFileInput(fileInput))\r\n\r\n         // Action changes depending on file type\r\n         .then((file, fileString) => {\r\n            let filename = (file as File).name;\r\n            let fileExtension = filename.split('.').pop();\r\n            lastFilename = filename;\r\n\r\n            if (fileExtension === \"dasim\" || fileExtension === \"layout\") {\r\n               $.Deferred().resolve(fileString as string)\r\n                  // Get the circuit from the string (output of above)\r\n                  .then((string) => getRawComponentsFromString(string as string))\r\n                  // Get the drawable components only from the circuit (output of above)\r\n                  .then((circuitObjects) => filterInvalidComponents(circuitObjects as any[]))\r\n                  // Build components\r\n                  .then((rawComponents) => buildComponents(rawComponents as any[]))\r\n                  // Called if any of the functions fail using detail from their context\r\n                  .then((savedManifest) => {\r\n                     NodeElements.fileStatusText.innerText = \"File:\\r\\n\\\"\" + filename + \"\\\"\\r\\nLoaded Successfully\";\r\n                     if (savedManifest) {\r\n                        manifest.constructFrom(savedManifest);\r\n                        history.reInit(...manifest.layout);\r\n                     } else {\r\n                           /*LOGSTART*/console.error(\"savedManifest is undefined\");/*LOGEND*/\r\n                     }\r\n                        /*LOGSTART*/console.groupEnd();/*LOGEND*/\r\n                     Events.schematicPaneResize();\r\n                     Events.layoutPaneResize();\r\n                  })\r\n                  // Construct circuit\r\n                  .fail((failText) => {\r\n                        /*LOGSTART*/console.warn(\"Failed to load circuit: \", failText);/*LOGEND*/\r\n                     NodeElements.fileStatusText.innerText = \"Failed to load file:\\r\\n\\\"\"\r\n                        + \"\" + filename + \"\\\"\\r\\n\"\r\n                        + \"Error:\\r\\n\\\"\" +\r\n                        failText + \"\\\"\";\r\n                        /*LOGSTART*/console.groupEnd();/*LOGEND*/\r\n                  })\r\n            } else {\r\n                  /*LOGSTART*/console.error(\"Failed to load circuit: Incorrect file extenstion %o\", fileExtension);/*LOGEND*/\r\n               NodeElements.fileStatusText.innerText = \"Failed to load file:\\r\\n\\\"\"\r\n                  + \"\" + filename + \"\\\"\\r\\n\"\r\n                  + \"Error:\\r\\n\\\"\" +\r\n                  \"Incorrect file extenstion: \\\".\" + fileExtension + \"\\\"\\\"\";\r\n                  /*LOGSTART*/console.groupEnd();/*LOGEND*/\r\n            }\r\n\r\n            //Clear file input\r\n            $(fileInput).val(\"\");\r\n         })\r\n\r\n   }\r\n}\r\n\r\nexport { lastFilename, handleFileInputEvent };","import Component from \"../../../circuit/+component\";\r\nimport mappings from \"../../../circuit/mappings\";\r\ntype savedManifist = { schematic: Component[], layout: Component[] };\r\n\r\nexport default function buildComponents(rawComponents: any[]): savedManifist {\r\n      /*LOGSTART*/console.groupCollapsed(\"Component Load Data\");/*LOGEND*/\r\n\r\n   let manifest: savedManifist = {\r\n      schematic: [],\r\n      layout: []\r\n   }\r\n\r\n   for (let rawComponent of rawComponents) {\r\n      const componentMap = mappings.getComponentMap(rawComponent.func);\r\n\r\n      if (componentMap === undefined) {\r\n            /*LOGSTART*/console.error(\"I don't know how to build %o yet!\", rawComponent);/*LOGEND*/\r\n         continue;\r\n      }\r\n\r\n      const sectionName = componentMap.diagramType;\r\n\r\n      let manifestSection = (sectionName === \"schematic\") ? manifest.schematic : manifest.layout;\r\n\r\n      let newComponents = componentMap.load(rawComponent);\r\n      if (Array.isArray(newComponents)) {\r\n         manifestSection.push(...newComponents);\r\n      } else {\r\n         manifestSection.push(newComponents);\r\n      }\r\n\r\n   }\r\n      /*LOGSTART*/console.groupEnd();/*LOGEND*/\r\n   return manifest;\r\n}","import mappings from \"../../../circuit/mappings\";\r\n//import * as $ from 'jquery';\r\nexport default function filterInvalidComponents(circuitObjects: any[]): JQueryPromise<{}> {\r\n   // Allow caller to see when function completes\r\n   let deferred = $.Deferred();\r\n\r\n   // List of components from circuit objects that can be drawn\r\n   let validComponents: object[] = [];\r\n\r\n   // List of objects that can be removed\r\n   let knownInvalidComponents: object[] = [];\r\n\r\n   // List of components from circuit objects that can't be drawn\r\n   let unknownInvalidComponents: object[] = [];\r\n\r\n   // Iterate through each circuit object\r\n   for (let circuitObject of circuitObjects) {\r\n\r\n      // If object does not have property 'func' (as all should)\r\n      if (!(\"func\" in circuitObject)) {\r\n            // Reject as there is a file format issue\r\n            /*LOGSTART*/console.error(\"Object %o format is incorrect\", [circuitObject]);/*LOGEND*/\r\n         deferred.reject(\"Object format is incorrect\");\r\n      }\r\n\r\n      // If object is in the supportedComponentList\r\n      if (mappings.getComponentMap(circuitObject.func)) {\r\n         // Add to drawableComponents\r\n         validComponents.push(circuitObject);\r\n      }\r\n      // If object is not supported but can be safely discarded\r\n      else if (discardableObjects.some(dO => dO === circuitObject.func)) {\r\n         // We know its ok to remove and the user did not expect it to be drawn\r\n         knownInvalidComponents.push(circuitObject)\r\n      } else {\r\n         // If object is not in either list then user will expect it to be drawn\r\n         // and needs to be notified that it is not supported\r\n         unknownInvalidComponents.push(circuitObject);\r\n      }\r\n   }\r\n\r\n   if (knownInvalidComponents.length) {\r\n         /*LOGSTART*/console.debug(\"Sim objects %o have been safely removed\", [knownInvalidComponents])/*LOGEND*/\r\n   }\r\n\r\n   if (unknownInvalidComponents.length) {\r\n         /*LOGSTART*/console.warn(\"Components %o are either not supported or not valid\", [unknownInvalidComponents]);/*LOGEND*/\r\n   }\r\n\r\n      /*LOGSTART*/console.info(\"Components %o successfully retrieved\", [validComponents]);/*LOGEND*/\r\n   deferred.resolve(validComponents);\r\n\r\n   // Allow caller to see when function completes\r\n   return deferred.promise();\r\n}\r\n\r\n// List of expected but safely ignorable objects\r\nconst discardableObjects = [\r\n   \"setSimMode\",\r\n   \"setGraphicsControls\",\r\n   \"setDrawingControls\",\r\n];\r\n","//import * as $ from 'jquery';\r\nexport default function getRawComponentsFromString(\r\n   fileString: string): JQueryPromise<{}> {\r\n   // Used to queue asynchronous actions which require the output of previous\r\n   // actions\r\n   let deferred = $.Deferred();\r\n\r\n   // Queues functions where each input is the previous functions output\r\n\r\n   // Shortcut to pass fileString into the first function\r\n   $.Deferred().resolve(fileString)\r\n      // Get an array of the strings for each object\r\n      .then(() => getComponentStrings(fileString))\r\n      // Get an array of the objects\r\n      .then((strings) => getCircuitObjects(strings as string[]))\r\n      // Return the array of objects\r\n      .then(deferred.resolve)\r\n      // Pass the failiure back up to calling function\r\n      .fail((failText) => deferred.reject(failText));\r\n\r\n   // Allow caller to see when function completes\r\n   return deferred.promise();\r\n}\r\n\r\n// Internal function to turn the string into an array of object strings\r\nfunction getComponentStrings(\r\n   fileString: string): JQueryPromise<{}> {\r\n   // Allow caller to see when function completes\r\n   let deferred = $.Deferred();\r\n\r\n   // Failure to parse text into JSON is a common cause of errors\r\n   // catching them prevents failure of the program.\r\n   try {\r\n      let circuitObjectStrings: string[] = [];\r\n      circuitObjectStrings = JSON.parse(fileString.replace(\"\\n\", \"\"));\r\n\r\n      // Function complete, return array of strings\r\n      deferred.resolve(circuitObjectStrings)\r\n   } catch (e) {\r\n      // Almost definitely a file format issue\r\n      if (e instanceof SyntaxError)\r\n            /*LOGSTART*/console.error(\"Error in file list format: %o \", [e]);/*LOGEND*/\r\n      // Function failed, return error text\r\n      deferred.reject(\"Error in file list format\")\r\n   }\r\n\r\n   // Allow caller to see when function completes\r\n   return deferred.promise();\r\n}\r\n\r\n// Internal function to turn the string array into circuit objects\r\nfunction getCircuitObjects(\r\n   circuitObjectStrings: string[]): JQueryPromise<{}> {\r\n   // Allow caller to see when function completes\r\n   let deferred = $.Deferred();\r\n\r\n   // Failure to parse text into JSON is a common cause of errors\r\n   // catching them prevents failure of the program.\r\n   try {\r\n      // Array of circuit objects\r\n      let circuitObjects: object[] = [];\r\n\r\n      // Parse each string into an object individually and add to array\r\n      for (let circuitObjectString of circuitObjectStrings) {\r\n         let circuitObject = JSON.parse(circuitObjectString);\r\n         circuitObjects.push(circuitObject);\r\n      }\r\n\r\n         // Function complete, return array of objects\r\n         /*LOGSTART*/console.info(\"Circuit objects %o successfully parsed\", [circuitObjects])/*LOGEND*/\r\n      deferred.resolve(circuitObjects)\r\n\r\n   } catch (e) {\r\n      // Almost definitely a file format issue\r\n      if (e instanceof SyntaxError)\r\n            /*LOGSTART*/console.error(\"Error in file object format: %o\", [e]);/*LOGEND*/\r\n      // Function failed, return error text\r\n      deferred.reject(\"Error in file object format\")\r\n   }\r\n\r\n   // Allow caller to see when function completes\r\n   return deferred.promise();\r\n}\r\n","//import * as $ from 'jquery';\r\nexport default function getStringFromFileInput(\r\n   fileInput: HTMLInputElement): JQueryPromise<{}> {\r\n\r\n   // Used to queue asynchronous actions which require the output of previous\r\n   // actions\r\n   let deferred = $.Deferred();\r\n\r\n   // Create Asynchronous file reader\r\n   let reader = new FileReader;\r\n\r\n   let files = fileInput.files;\r\n\r\n   // Event called when read started\r\n   reader.onloadstart = function (event) {\r\n         /*LOGSTART*/console.debug(\"Read of %o started with %o\", [this.result], [event]);/*LOGEND*/\r\n   };\r\n\r\n   // Event called if read aborted (Not expected to ever happen)\r\n   reader.onabort = function (event) {\r\n         /*LOGSTART*/console.error(\"Read of %o aborted with %o\", [this.result], [event]);/*LOGEND*/\r\n      // Async action failed, abort queue\r\n      deferred.reject(\"File read aborted\")\r\n   };\r\n\r\n   // Event called if error occurs during read\r\n   reader.onerror = function (event) {\r\n         /*LOGSTART*/console.error(\"Read of %o failed with %o\", [this.result], [event]);/*LOGEND*/\r\n      // Async action failed, abort queue\r\n      deferred.reject(\"File could not be read\")\r\n   };\r\n\r\n   // Event called if read completed successfully\r\n   reader.onload = function (event) {\r\n         /*LOGSTART*/console.info(\"Read of %o successfully complete with %o\", [this.result], [event]);/*LOGEND*/\r\n      let fileString: string = reader.result as string; //TODO\r\n      if (files && files[0]) {\r\n         deferred.resolve(files[0], fileString)\r\n      } else {\r\n         // Async action failed, abort queue\r\n         deferred.reject(\"File undefined\");\r\n      }\r\n   }\r\n\r\n   if (files && files[0]) {\r\n      // Catches other errors such as if the file opject is undefined\r\n      try {\r\n         // Retreive file from file input, file input is configured\r\n         // to open a single file only but still returns as array.\r\n         reader.readAsText(files[0]);\r\n      } catch (e) {\r\n            /*LOGSTART*/console.error(\"Read of %o failed with %o\", [files[0]], [e]);/*LOGEND*/\r\n         // Async action failed, abort queue\r\n         deferred.reject(\"File could not be read as string\");\r\n      }\r\n   } else {\r\n      // Async action failed, abort queue\r\n      deferred.reject(\"File undefined\");\r\n   }\r\n\r\n\r\n\r\n   // Return promise that async function will eventually finish\r\n   return deferred.promise();\r\n}\r\n\r\n","import manifest from \"../../circuit/manifest\";\r\nimport mappings from \"../../circuit/mappings\";\r\n\r\nfunction createFile(): string {\r\n   let componentStrings: string[] = [];\r\n   manifest.layout.concat(manifest.schematic).forEach(component => {\r\n      try {\r\n         const componentMap = mappings.getComponentMap(component);\r\n         if (componentMap === undefined) {\r\n               /*LOGSTART*/console.error(\"No component map found!\", component);/*LOGEND*/\r\n            throw new Error(\"Could not save component\")\r\n         }\r\n\r\n         let componentObject = {\r\n            func: mappings.getComponentMapSafe(component).savename,\r\n            ...component.getProperties(),\r\n            ...component.getState()\r\n         }\r\n         // Don't save disabled objects\r\n         if (componentObject.disabled === false) {\r\n            // Remove disabled field (no need to save it)\r\n            delete componentObject.disabled;\r\n            componentStrings.push(JSON.stringify(componentObject));\r\n         }\r\n      } catch (e) {\r\n            /*LOGSTART*/console.error(\"Item %o cannot be saved (check mappings) with error %o\", component, e);/*LOGEND*/\r\n      }\r\n\r\n   });\r\n\r\n   return JSON.stringify(componentStrings, undefined, 2);\r\n}\r\nexport default createFile;","import NodeElements from \"../../~nodeElements\";\r\nimport createFile from \"./-createFile\";\r\nimport { lastFilename } from \"../load/-handleFileInputEvent\";\r\n//import * as $ from 'jquery';\r\nexport default function handleFileSaveEvent(event: Event) {\r\n   // Create an temporary element to download\r\n   let downloadElement: HTMLAnchorElement = document.createElement('a');\r\n\r\n   // Specify encoding and define content\r\n   let fileString = createFile();\r\n   downloadElement.setAttribute('href', 'data:text/plain;charset=utf-8,' + encodeURIComponent(fileString));\r\n\r\n   // Give the file a name\r\n   if (lastFilename !== undefined) {\r\n      downloadElement.setAttribute('download', lastFilename.split('.').shift() + \".layout\");\r\n   } else {\r\n      downloadElement.setAttribute('download', 'filename.layout');\r\n   }\r\n\r\n\r\n   // Don't display the element\r\n   downloadElement.style.display = 'none';\r\n\r\n   document.body.appendChild(downloadElement);\r\n\r\n   // Click the element on behalf of the user\r\n   downloadElement.click();\r\n\r\n   // Remove the element\r\n   document.body.removeChild(downloadElement);\r\n\r\n   // Can't detect if cancel pressed but can detect that save window is opened and closed.\r\n   // This mechanism isn't perfect, but it doesn't need to be.\r\n   $(window).one(\"blur\", () => {\r\n      $(window).one(\"focus\", () => {\r\n         NodeElements.fileStatusText.innerText = \"File Saved Successfully\";\r\n      });\r\n   });\r\n}","import NodeElements from \"./~nodeElements\";\r\nimport Active from \"./~active\";\r\nimport Ui from \"./ui/-init\";\r\n\r\n$(document).ready(() => {\r\n   //TODO NodeElements must go before UI, remove dependancy\r\n   NodeElements.init();\r\n   Active.init();\r\n   Ui.init();\r\n});\r\n","import { Vector } from \"../++types\";\r\nimport addTransform from \"./-addTransform\";\r\nimport makeMatrix from \"./-makeMatrix\";\r\nimport * as Types from \"./++types\";\r\nimport svg from \"../svg/-svg\";\r\nimport { svgURI } from \"../~constants\";\r\n//import * as $ from 'jquery';\r\n\r\nexport function make<T extends SVGElement>(type: string, classes: string = \"\") {\r\n   const element = document.createElementNS(svgURI, type) as T;\r\n   $(element).addClass(classes);\r\n   return element;\r\n}\r\n\r\nexport namespace Functions {\r\n\r\n   /** FROM EAST, COUNTER-CLOCKWISE */\r\n   export function rotate<T extends SVGGraphicsElement>(element: T) {\r\n      return (rotation: number, centre?: Vector, insertBefore: boolean = false) => {\r\n         let centreV: Vector;\r\n         if (centre) {\r\n            centreV = centre;\r\n         } else {\r\n            let bounds = element.getBBox();\r\n            centreV = { x: bounds.width / 2 + bounds.x, y: bounds.height / 2 + bounds.y };\r\n         }\r\n\r\n         addTransform(element, t => t.setRotate(rotation, centreV.x, centreV.y), insertBefore);\r\n\r\n         return svg(element);\r\n      }\r\n   }\r\n\r\n   export function translate<T extends SVGGraphicsElement>(element: T) {\r\n      return (translation: Vector, insertBefore: boolean = true) => {\r\n         addTransform(element, t => t.setTranslate(translation.x, translation.y), insertBefore)\r\n         return svg(element);\r\n      }\r\n   }\r\n\r\n   export function scale<T extends SVGGraphicsElement>(element: T) {\r\n      return (scale: (Partial<Vector> | number), insertBefore: boolean = true) => {\r\n         let scaleV = (typeof scale === \"number\") ? { x: scale, y: scale } : scale;\r\n         addTransform(element, t => t.setScale((scaleV.x || 1), (scaleV.y || 1)), insertBefore)\r\n         return svg(element);\r\n      }\r\n   }\r\n\r\n   export function getTransforms<T extends SVGGraphicsElement>(element: T) {\r\n      return () => {\r\n         let transform = element.transform.baseVal.consolidate();\r\n         return (transform === null) ? makeMatrix() : {\r\n            a: transform.matrix.a, b: transform.matrix.b, c: transform.matrix.c,\r\n            d: transform.matrix.d, e: transform.matrix.e, f: transform.matrix.f\r\n         }\r\n      }\r\n   }\r\n\r\n   export function setTransforms<T extends SVGGraphicsElement>(element: T) {\r\n      return (transformMatrix: Types.transformMatrix) => {\r\n         element.transform.baseVal.clear();\r\n         element.removeAttribute('transform');\r\n\r\n         let matrix = makeMatrix();\r\n         matrix.a = transformMatrix.a;\r\n         matrix.b = transformMatrix.b;\r\n         matrix.c = transformMatrix.c;\r\n         matrix.d = transformMatrix.d;\r\n         matrix.e = transformMatrix.e;\r\n         matrix.f = transformMatrix.f;\r\n         let transform = element.transform.baseVal.createSVGTransformFromMatrix(matrix);\r\n         element.transform.baseVal.appendItem(transform);\r\n         return svg(element);\r\n      }\r\n   }\r\n\r\n   // Converts vectors between the Dom and SVG frame of reference\r\n   // Generally will want to use relative for sizes (or drags) and absolute for the rest\r\n   export function convertVector<T extends SVGGraphicsElement>(element: T) {\r\n\r\n      return (vector: Vector, direction: \"DomToSvg\" | \"SvgToDom\", type: \"relToGroup\" | \"absToDoc\"): Vector => {\r\n         // Matrix representing transforms from element coordinates to dom coordinates\r\n         // (It actually converts to the SVGs viewport, but that is unused and will be same as DOM)\r\n         let conversionMatrix = element.getScreenCTM() || makeMatrix();\r\n\r\n         // Inverts the matrix (to convert the other way)\r\n         if (direction === \"DomToSvg\") conversionMatrix = conversionMatrix.inverse();\r\n\r\n         // Reverses the transforms which could cause transformations on the reference frame...\r\n         // In practice, this means top left will always be top left,\r\n         // A rotation of 90(deg) will not cause a top left dom coordinate to\r\n         // convert to the top right of the group and a rightwards drag to convert to a downwards drag\r\n         if (type === \"absToDoc\" && element.transform.baseVal.numberOfItems > 0) {\r\n            element.transform.baseVal.consolidate();\r\n            let groupMatrix = element.transform.baseVal.getItem(0).matrix;\r\n            conversionMatrix = conversionMatrix.multiply(groupMatrix);\r\n         }\r\n\r\n         // Apply rotational/scale conversions\r\n         let convertedVector = {\r\n            x: vector.x * conversionMatrix.a + vector.y * conversionMatrix.c,\r\n            y: vector.y * conversionMatrix.d + vector.x * conversionMatrix.b\r\n         };\r\n\r\n         // If relative then also apply the translations...\r\n         if (type === \"relToGroup\") {\r\n            convertedVector.x += conversionMatrix.e;\r\n            convertedVector.y += conversionMatrix.f;\r\n         }\r\n\r\n         return convertedVector;\r\n      }\r\n   }\r\n}\r\n\r\n","import { make as makeSvg } from \"./element/+svg\";\r\nimport { make as makeGroup } from \"./element/+group\";\r\nimport Draggable from \"./addins/draggable\";\r\nimport Scaleable from \"./addins/scaleable\";\r\n//import * as $ from 'jquery';\r\nexport default class Root {\r\n   element = makeSvg();\r\n   group = makeGroup();\r\n   constructor(classes: string = \"\") {\r\n      $(this.element.element).addClass(classes);\r\n   }\r\n\r\n   draw(node: HTMLDivElement) {\r\n      this.element.append(this.group);\r\n      node.appendChild(this.element.element);\r\n\r\n      Draggable.init(this.group.element, {\r\n         grid: \"off\",\r\n         eventTarget: this.element.element,\r\n         useHelper: true,\r\n      });\r\n      Scaleable.init(this.group.element, {\r\n         eventTarget: this.element.element,\r\n      });\r\n   }\r\n}\r\n","import { make } from \"./+element\";\r\n\r\nexport default function addTransform(\r\n   element: SVGGraphicsElement,\r\n   transformationFunction: (transform: SVGTransform) => void,\r\n   insertBefore: boolean = true\r\n) {\r\n   let transform = makeTransform();\r\n   transformationFunction(transform);\r\n   let transforms = element.transform.baseVal;\r\n   if (insertBefore) {\r\n      transforms.insertItemBefore(transform, 0);\r\n   } else {\r\n      transforms.appendItem(transform);\r\n   }\r\n   transforms.consolidate();\r\n}\r\n\r\nfunction makeTransform(): SVGTransform {\r\n   return make<SVGSVGElement>(\"svg\").createSVGTransform();\r\n}\r\n","import { make } from \"./+element\";\r\nexport default function makeMatrix(): SVGMatrix {\r\n   return make<SVGSVGElement>(\"svg\").createSVGMatrix();\r\n}\r\n\r\n","import { Functions as ElementFunctions } from \"./+element\";\r\nimport { Functions as GroupFunctions } from \"./element/+group\";\r\nimport { Functions as TextFunctions } from \"./element/+text\";\r\n\r\nexport default function svg<T extends SVGElement>(element: T) {\r\n\r\n   let extension = {\r\n      element: element\r\n   }\r\n\r\n   let elementExtension = (element instanceof SVGGraphicsElement) ? {\r\n      rotate: ElementFunctions.rotate(element),\r\n      translate: ElementFunctions.translate(element),\r\n      scale: ElementFunctions.scale(element),\r\n      getTransforms: ElementFunctions.getTransforms(element),\r\n      setTransforms: ElementFunctions.setTransforms(element),\r\n      convertVector: ElementFunctions.convertVector(element),\r\n   } : null;\r\n\r\n   let groupExtension = (element instanceof SVGGElement || element instanceof SVGSVGElement) ? {\r\n      append: GroupFunctions.append(element),\r\n      prepend: GroupFunctions.prepend(element),\r\n      clearChildren: GroupFunctions.clearChildren(element)\r\n   } : null;\r\n\r\n   let textExtension = (element instanceof SVGTextElement) ? {\r\n      followPath: TextFunctions.followPath(element),\r\n      rotatePosition: TextFunctions.rotatePosition(element),\r\n   } : null;\r\n\r\n   return Object.assign({}, extension, elementExtension, groupExtension, textExtension) as (\r\n      (typeof extension) &\r\n      (T extends SVGGraphicsElement ? NonNullable<typeof elementExtension> : {}) &\r\n      (T extends SVGGElement | SVGSVGElement ? NonNullable<typeof groupExtension> : {}) &\r\n      (T extends SVGTextElement ? NonNullable<typeof textExtension> : {})\r\n   )\r\n}\r\n\r\n\r\n","import vector, { Vector } from \"../../-vector\";\r\nimport Events from \"../../circuit/events\";\r\nimport svg from \"../-svg\";\r\n//import * as $ from 'jquery';\r\nnamespace Draggable {\r\n\r\n   export const init = (element: SVGGraphicsElement, options: draggableOptions = {}): void => {\r\n      // Allow an object to be dragged.\r\n      // Set the drag event to occur on another target, but apply the drag to yourself\r\n      let eventTarget = options.eventTarget !== undefined ? options.eventTarget : element;\r\n\r\n      // The default grid will snap to board holes, the option can prevent this or redefine the size\r\n      // TODO USE CONSTANT\r\n      let grid = options.grid !== undefined ? options.grid : {\r\n         x: 10,\r\n         y: 10\r\n      };\r\n\r\n      // Changes the draggables position in the document tree, default is to not\r\n      // let moveToTop = (options.moveToTop !== undefined) ? (options.moveToTop) : \"no\";\r\n\r\n      // Styles the draggable\r\n      let styleClass = options.styleClass !== undefined ? options.styleClass : \"dragging\";\r\n\r\n      let lastPosition: Vector;\r\n\r\n      // Set to draggable (JQuery UI)\r\n      if ($(eventTarget).draggable(\"instance\") === undefined) {\r\n         $(eventTarget).draggable({\r\n            //On drag start\r\n            start: (event, ui) => {\r\n               // Add class for visual feedback (opacity)\r\n               $(element).addClass(styleClass);\r\n\r\n               //Enable grid snapping, the default grid will snap to board holes\r\n               if (grid !== \"off\") {\r\n                  let gridSvg = svg(element).convertVector(grid, \"SvgToDom\", \"absToDoc\");\r\n                  $(eventTarget).draggable(\"option\", \"grid\", [gridSvg.x, gridSvg.y]);\r\n               }\r\n\r\n               lastPosition = {\r\n                  x: ui.position.left,\r\n                  y: ui.position.top\r\n               };\r\n            },\r\n            //On each drag step\r\n            drag: (event, ui) => {\r\n               // Amount dragged on this step (In DOM coordinate system)\r\n\r\n               let dragChangeDom = {\r\n                  x: ui.position.left - lastPosition.x,\r\n                  y: ui.position.top - lastPosition.y\r\n               };\r\n\r\n               // Convert amount dragged this step to the coordinate system of the svg element\r\n               let dragChangeSvg = svg(element).convertVector(dragChangeDom, \"DomToSvg\", \"absToDoc\");\r\n\r\n               // only do the interesting things when the draggable actually moves.\r\n               if (!vector(dragChangeSvg).isCloseTo({ x: 0, y: 0 })) {\r\n                  //Call on drag functions (via a custom event listener\r\n                  //so we can keep the svg drag values\r\n                  $(eventTarget).trigger(Events.drag, [ui, dragChangeSvg]);\r\n\r\n                  lastPosition = {\r\n                     x: ui.position.left,\r\n                     y: ui.position.top\r\n                  };\r\n               }\r\n\r\n               //Call constraint functions (via a custom event listener\r\n               // $(eventTarget).triggerHandler(\"dragSVGConstraintCheck\", [\r\n               //    ui,\r\n               //    dragChangeSvg,\r\n               //    dragChangeDom\r\n               // ]);\r\n\r\n\r\n            },\r\n            //On drag stop\r\n            stop: (event, ui) => {\r\n               // Remove class for visual feedback (opacity)\r\n               $(element).removeClass(styleClass);\r\n               element.transform.baseVal.consolidate();\r\n            }\r\n         });\r\n      }\r\n\r\n      if (options.onDrag !== undefined) {\r\n         $(eventTarget).on(Events.drag, (e, ui, drag) => {\r\n            if ($(e.target).closest(\".ui-draggable\").is(eventTarget)) {\r\n               if (options.onDrag) options.onDrag(drag, e);\r\n            }\r\n         });\r\n      };\r\n\r\n      // Translate by dragged amount if movement not disabled\r\n      if (options.disableMovement !== true) {\r\n         $(eventTarget).on(Events.drag, (e, ui, drag) => {\r\n            if ($(e.target).closest(\".ui-draggable\").is(eventTarget)) {\r\n               svg(element).translate(drag, true);\r\n            }\r\n         });\r\n      }\r\n\r\n      if (options.onStart !== undefined) {\r\n         $(eventTarget).on(Events.dragStart, (e, ui) => {\r\n            if (options.onStart) options.onStart(e);\r\n         });\r\n      }\r\n\r\n      if (options.onStop !== undefined) {\r\n         $(eventTarget).on(Events.dragStop, (e, ui) => {\r\n            if (options.onStop) options.onStop(e);\r\n         });\r\n      }\r\n\r\n      // When dragging internal svg elements, JQueryUI does not know how to move them.\r\n      // This is done manually in the ondrag handler ^\r\n      // For the top level group, the SVG element is used as the target as the\r\n      // group does not fill the pane.\r\n      // JQueryUI knows how to drag the SVG element and will do so. This is\r\n      // undesirable as only the view needs to change.\r\n      // Using a helper prevents the SVG being moved on the page.\r\n      if (options.useHelper === true) {\r\n         $(eventTarget).draggable(\"option\", \"helper\", () => document.createElement(\"div\"));\r\n      }\r\n   }\r\n}\r\n\r\n\r\ninterface draggableOptions {\r\n   disableMovement?: boolean; //All other options ignored if this is true\r\n   onDrag?: (drag: Vector, e?: JQuery.Event<Element>) => void;\r\n   onStop?: (e?: JQuery.Event<Element>) => void;\r\n   onStart?: (e?: JQuery.Event<Element>) => void;\r\n   useHelper?: boolean;\r\n   eventTarget?: Element;\r\n   grid?: Vector | \"off\";\r\n   styleClass?: string;\r\n}\r\n\r\nexport default Draggable;\r\n\r\n","import { Vector } from \"../../-vector\";\r\nimport svg from \"../-svg\";\r\n\r\nnamespace Scaleable {\r\n   export const init = (element: SVGGraphicsElement, options: scalableOptions = {}): void => {\r\n      // Set the event to occur on another target, but apply to yourself\r\n      let eventTarget = options.eventTarget !== undefined ? options.eventTarget : element;\r\n\r\n      // Scale occurs on mousewheel\r\n      let mouseWheelHandler = (e: WheelEvent) => {\r\n         // Prevent scaling if a drag is in progress\r\n         // Grid size is calculated on dragstart and will get messed up\r\n         if (e.buttons === 1 || e.buttons === 3) {\r\n            return;\r\n         }\r\n\r\n         // Change scale by +/-0.05 on each step depending on wheel direction\r\n         let scaleChange = Math.sign(e.wheelDelta) * 0.05;\r\n\r\n         // Find the postion and size of the element on screen\r\n         let clientBounds = element.getBoundingClientRect();\r\n\r\n         // Find the position relative to the SVG position\r\n         let owner = element.ownerSVGElement;\r\n         let rootClientBounds = (owner) ? owner.getBoundingClientRect() : {\r\n            left: 0,\r\n            top: 0\r\n         };\r\n         let clientStart = {\r\n            x: clientBounds.left - rootClientBounds.left,\r\n            y: clientBounds.top - rootClientBounds.top\r\n         };\r\n\r\n         // Find the elements relative position in its own coordinate system\r\n         let svgStart = svg(element).convertVector(clientStart, \"DomToSvg\", \"absToDoc\");\r\n         let svgSize = svg(element).convertVector({\r\n            x: clientBounds.width,\r\n            y: clientBounds.height\r\n         },\r\n            \"DomToSvg\",\r\n            \"absToDoc\"\r\n         );\r\n\r\n         // Find the position of the mouse relative to the centre of the element on screen\r\n         let mousePosDomFromCentre: Vector = {\r\n            x: e.clientX - (clientBounds.left + clientBounds.width / 2),\r\n            y: e.clientY - (clientBounds.top + clientBounds.height / 2)\r\n         };\r\n\r\n         // Find the position of the mouse relative to the centre of the element in its own coordinate system\r\n         let mousePosSvgFromCentre = svg(element).convertVector(\r\n            mousePosDomFromCentre,\r\n            \"DomToSvg\",\r\n            \"absToDoc\"\r\n         );\r\n\r\n         // Perform the scale\r\n         let scale = {\r\n            x: 1 + scaleChange,\r\n            y: 1 + scaleChange\r\n         };\r\n         svg(element).scale(scale, true);\r\n\r\n         // Work out the translation required to keep the element under the mouse\r\n         let scaleTranslationAdjust = {\r\n            x: (svgStart.x + svgSize.x / 2 + mousePosSvgFromCentre.x) * -scaleChange,\r\n            y: (svgStart.y + svgSize.y / 2 + mousePosSvgFromCentre.y) * -scaleChange\r\n         };\r\n         // Translate\r\n         svg(element).translate(scaleTranslationAdjust, true);\r\n\r\n         if (options.onScale !== undefined) {\r\n            options.onScale(scale, scaleTranslationAdjust);\r\n         }\r\n      };\r\n\r\n      // Add event listeners for mousewheel\r\n      // Typescript definitions for addEventListener are incorrect (as any surpresses warning)\r\n      eventTarget.addEventListener(\"DOMMouseScroll\", (e) => mouseWheelHandler(e as WheelEvent), {\r\n         passive: true\r\n      }); // For Firefox\r\n      eventTarget.addEventListener(\"mousewheel\", (e) => mouseWheelHandler(e as WheelEvent), {\r\n         passive: true\r\n      }); // For everyone else\r\n   }\r\n}\r\n\r\ninterface scalableOptions {\r\n   eventTarget?: SVGGElement;\r\n   onScale?: (scale: Vector, translation: Vector) => void;\r\n}\r\n\r\nexport default Scaleable;\r\n\r\n","import { Vector } from \"../../++types\";\r\nimport { make as makeElement } from \"../+element\";\r\nimport svg from \"../-svg\";\r\n\r\nexport type type = ReturnType<typeof make>;\r\nexport function make(centreVector: Vector, radius: number, classes: string = \"\") {\r\n   const element: SVGCircleElement = makeElement(\"circle\", classes);\r\n   element.setAttribute(\"cx\", centreVector.x.toString());\r\n   element.setAttribute(\"cy\", centreVector.y.toString());\r\n   element.setAttribute(\"r\", radius.toString());\r\n   return svg(element);\r\n}\r\n","import { Vector } from \"../../++types\";\r\nimport { make as makeElement } from \"../+element\";\r\nimport svg from \"../-svg\";\r\n\r\nexport type type = ReturnType<typeof make>;\r\nexport function make(centreVector: Vector, radiusVector: Vector, classes: string = \"\") {\r\n   const element: SVGEllipseElement = makeElement(\"ellipse\", classes);\r\n   element.setAttribute(\"cx\", centreVector.x.toString());\r\n   element.setAttribute(\"cy\", centreVector.y.toString());\r\n   element.setAttribute(\"rx\", radiusVector.x.toString());\r\n   element.setAttribute(\"ry\", radiusVector.y.toString());\r\n   return svg(element);\r\n}\r\n","import { make as makeElement } from \"../+element\";\r\nimport svg from \"../-svg\";\r\n//import * as $ from 'jquery';\r\n\r\nexport type type = ReturnType<typeof make>;\r\nexport function make(classes: string = \"\") {\r\n   return svg(makeElement<SVGGElement>(\"g\", classes));\r\n}\r\n\r\nexport namespace Functions {\r\n   type ElementSet = (\r\n      SVGGraphicsElement |\r\n      { element: SVGGraphicsElement }\r\n      | SVGGraphicsElement[] |\r\n      { element: SVGGraphicsElement }[])[];\r\n\r\n   export function append<T extends SVGGElement>(element: T) {\r\n      return (...elements: ElementSet) => {\r\n         addChildren(element, (child: SVGGraphicsElement) => {\r\n            element.appendChild(child);\r\n         }, ...elements);\r\n         return svg(element);\r\n      }\r\n   }\r\n\r\n   //Note when given an array, the z-order is not reversed.\r\n   export function prepend<T extends SVGGElement>(element: T) {\r\n      return (...elements: ElementSet) => {\r\n         let firstChild = element.firstChild;\r\n         addChildren(element, (child: SVGGraphicsElement) => {\r\n            element.insertBefore(child, firstChild);\r\n         }, ...elements);\r\n         return svg(element);\r\n      }\r\n   }\r\n\r\n   export function clearChildren<T extends SVGGElement>(element: T) {\r\n      return (inclusionSelector: string = \"*\") => {\r\n         $(element).children(inclusionSelector).remove();\r\n         return svg(element);\r\n      }\r\n   }\r\n\r\n   function addChildren<GT extends SVGGElement>(\r\n      to: GT,\r\n      addCallback: (element: SVGGraphicsElement) => void,\r\n      ...elements: ElementSet\r\n   ): GT {\r\n      elements.forEach(item => {\r\n         //item = item instanceof Array ? item : [item];\r\n         let asArray = item instanceof Array ? item : [item]\r\n         asArray.forEach(member => {\r\n            let element = member instanceof SVGGraphicsElement ? member : member.element;\r\n            addCallback(element)\r\n         });\r\n      })\r\n\r\n      // To allow method chaining;\r\n      return to;\r\n   }\r\n}\r\n\r\n","import { Vector } from \"../../++types\";\r\nimport { make as makeElement } from \"../+element\";\r\nimport svg from \"../-svg\";\r\n\r\nexport type type = ReturnType<typeof make>;\r\nexport function make(startVector: Vector, endVector: Vector, classes: string = \"\") {\r\n   const element: SVGLineElement = makeElement(\"line\", classes);\r\n   element.setAttribute(\"x1\", startVector.x.toString());\r\n   element.setAttribute(\"y1\", startVector.y.toString());\r\n\r\n   element.setAttribute(\"x2\", endVector.x.toString());\r\n   element.setAttribute(\"y2\", endVector.y.toString());\r\n   return svg(element);\r\n}\r\n\r\n","import { Vector } from \"../../++types\";\r\nimport { make as makeElement } from \"../+element\";\r\nimport svg from \"../-svg\";\r\n\r\nexport type type = ReturnType<typeof make>;\r\nexport function make(path: string | (Vector[] | (Vector[])[]), classes: string = \"\") {\r\n   const element: SVGPathElement = makeElement(\"path\", classes);\r\n   let pathString = (path instanceof Array) ? getLinePath(path) : path;\r\n   element.setAttribute('d', pathString);\r\n   return svg(element);\r\n}\r\n\r\nfunction getLinePath(jointSet: (Vector[] | (Vector[])[])) {\r\n   if (jointSet.length > 0 && jointSet[0] instanceof Array) {\r\n      let jointArrays = jointSet as Vector[][];\r\n      return jointArrays.map(getSingleLinePath).join()\r\n   } else {\r\n      let joints = jointSet as Vector[];\r\n      return getSingleLinePath(joints);\r\n   }\r\n}\r\n\r\nfunction getSingleLinePath(joints: Vector[]) {\r\n   if (joints.length < 1) {\r\n      return \"\";\r\n   } else {\r\n      return \"M\" + joints[0].x + \" \" + joints[0].y\r\n         + joints.map(joint => \"L\" + joint.x + \" \" + joint.y).join();\r\n   }\r\n}\r\n","import { size, Vector } from \"../../++types\";\r\nimport { make as makeElement } from \"../+element\";\r\nimport svg from \"../-svg\";\r\n\r\nexport type type = ReturnType<typeof make>;\r\nexport function make(centre: Vector, size: size, cornerRounding: Vector = { x: 0, y: 0 }, classes: string = \"\") {\r\n   const element: SVGRectElement = makeElement(\"rect\", classes);\r\n   element.setAttribute(\"x\", (centre.x - size.width / 2).toString());\r\n   element.setAttribute(\"y\", (centre.y - size.height / 2).toString());\r\n   element.setAttribute(\"width\", size.width.toString());\r\n   element.setAttribute(\"height\", size.height.toString());\r\n   element.setAttribute(\"rx\", cornerRounding.x.toString());\r\n   element.setAttribute(\"ry\", cornerRounding.y.toString());\r\n   return svg(element);\r\n}\r\n\r\n","import { make as makeElement } from \"../+element\";\r\nimport svg from \"../-svg\";\r\n\r\nexport function make(classes: string = \"\") {\r\n   const element: SVGSVGElement = makeElement(\"svg\", classes);\r\n   return svg(element);\r\n}\r\n\r\n","import { make as makeElement } from \"../+element\";\r\nimport { make as makePath } from \"./+path\";\r\nimport { Vector } from \"../../++types\";\r\nimport svg from \"../-svg\";\r\n//import * as $ from 'jquery';\r\n\r\nlet textPathCount = 0;\r\nexport type type = ReturnType<typeof make>;\r\nexport function make(text: string, startVector: Vector, classes: string = \"\") {\r\n   const element: SVGTextElement = makeElement(\"text\", classes);\r\n   element.setAttribute('x', startVector.x.toString());\r\n   element.setAttribute('y', startVector.y.toString());\r\n   element.appendChild(document.createTextNode(text));\r\n   return svg(element);\r\n}\r\n\r\nexport namespace Functions {\r\n   export function followPath<T extends SVGTextElement>(element: T) {\r\n      return (pathString: string) => {\r\n         // Make a new path\r\n         let path = makePath(pathString);\r\n         $(path.element).hide();\r\n\r\n         // Give it a generated (hopefully unique)  ID\r\n         let pathID = \"pathForText\" + textPathCount;\r\n         path.element.setAttribute(\"id\", pathID);\r\n         textPathCount += 1;\r\n\r\n         // Make the text path, and link it to the path\r\n         let textPathEl = makeElement(\"textPath\");\r\n         textPathEl.setAttribute(\"href\", \"#\" + pathID);\r\n\r\n         // Get text content, remove from textEl and add to text pathEl\r\n         let text = $(element).text();\r\n         $(element).text(\"\");\r\n         textPathEl.appendChild(document.createTextNode(text));\r\n\r\n         // Add the path and textpath as children\r\n         element.appendChild(path.element);\r\n         element.appendChild(textPathEl);\r\n         return svg(element);\r\n      }\r\n   }\r\n\r\n   export function rotatePosition<T extends SVGTextElement>(element: T) {\r\n      return (rotation: number) => {\r\n         const position = {\r\n            x: Number(element.getAttribute(\"x\")),\r\n            y: Number(element.getAttribute(\"y\"))\r\n         }\r\n         svg(element).rotate(rotation).rotate(-rotation, position);\r\n\r\n         if (25 < rotation && rotation < 155) {\r\n            $(element).css(\"text-anchor\", \"start\");\r\n         } else if (-155 < rotation && rotation < -25) {\r\n            $(element).css(\"text-anchor\", \"end\");\r\n         } else {\r\n            $(element).css(\"text-anchor\", \"middle\");\r\n         }\r\n\r\n         if (135 < rotation || rotation < -135) {\r\n            $(element).css(\"alignment-baseline\", \"hanging\");\r\n         } else if (-55 < rotation && rotation < 45) {\r\n            $(element).css(\"alignment-baseline\", \"baseline\");\r\n         } else {\r\n            $(element).css(\"alignment-baseline\", \"middle\");\r\n         }\r\n\r\n         return svg(element);\r\n      }\r\n   }\r\n\r\n}\r\n","import { make as makeGroup } from \"../+group\";\r\nimport { make as makeText } from \"../+text\";\r\nimport { make as makePath } from \"../+path\";\r\nimport { make as makeRect } from \"../+rect\";\r\n\r\nimport { gridSpacing } from \"../../../~constants\";\r\n\r\nexport type type = ReturnType<typeof make>;\r\nexport function make(\r\n   pinsPerSide: number = 4,\r\n   textLineOne: string = \"\",\r\n   textLineTwo: string = \"\",\r\n   textLineThree: string = \"\",\r\n   classes: string = \"\"\r\n) {\r\n   const element = makeGroup(\"dip\" + classes);\r\n\r\n   let bodySize = {\r\n      width: gridSpacing * pinsPerSide,\r\n      height: gridSpacing * 2.8\r\n   }\r\n\r\n   let centre = {\r\n      x: gridSpacing * (pinsPerSide - 1) / 2,\r\n      y: gridSpacing * 1.5\r\n   };\r\n\r\n   let pinString =\r\n      \"M \" + (0) + \" \" + (-2.5)\r\n      + \"h \" + (-4)\r\n      + \"v \" + (3)\r\n      + \"l \" + (1) + \" \" + (0.5)\r\n      + \"h \" + (6)\r\n      + \"l \" + (1) + \" \" + (-0.5)\r\n      + \"v \" + (-3)\r\n      + \"Z\";\r\n\r\n   // let pinXBase = 0;\r\n   for (let i = 0; i < pinsPerSide; i++) {\r\n      element.append(\r\n         makePath(pinString, \"pin\").scale({ x: 1, y: -1 }).translate({ x: gridSpacing * i, y: 0 }),\r\n         makePath(pinString, \"pin\").translate({ x: gridSpacing * i, y: 3 * gridSpacing })\r\n      );\r\n   };\r\n\r\n   let notchString =\r\n      \"M \" + (-0.5 * gridSpacing) + \" \" + (centre.y) +\r\n      \"v \" + (8) +\r\n      \"a \" + (1) + \" \" + (1) + \" \" + (0) + \" \" + (0) + \" \" + (0) + \" \" + (0) + \" \" + (-16) +\r\n      \"Z\";\r\n\r\n   element.append(\r\n      makeRect(centre, bodySize, { x: 5, y: 5 }, \"body\"),\r\n      makePath(notchString, \"notch\"),\r\n      makeRect(centre, bodySize, { x: 5, y: 5 }, \"body highlight\"),\r\n      makeText(textLineOne, { x: 0.25 * gridSpacing, y: 1 * gridSpacing }, \"text\"),\r\n      makeText(textLineTwo, { x: 0.25 * gridSpacing, y: 1.75 * gridSpacing }, \"text\"),\r\n      makeText(textLineThree, { x: 0.25 * gridSpacing, y: 2.5 * gridSpacing }, \"text\")\r\n   );\r\n   return element;\r\n}\r\n","import { Vector } from \"../../../++types\";\r\nimport { make as makeGroup } from \"../+group\";\r\nimport { make as makeText } from \"../+text\";\r\n\r\nexport type type = ReturnType<typeof make>;\r\nexport function make(\r\n   start: Vector,\r\n   gap: Vector,\r\n   sequence: (string | number)[] | string | { start: number; length: number },\r\n   classes: string = \"\"\r\n) {\r\n   const element = makeGroup(classes);\r\n\r\n   let textArray: string[] = [];\r\n   if (sequence instanceof Array) {\r\n      // Converts to text (using 'String(val)')\r\n      textArray = sequence.map(String);\r\n   } else if (typeof sequence === \"string\") {\r\n      textArray = sequence.split(\"\");\r\n   } else {\r\n      // Its the object\r\n      textArray = [...Array(sequence.length).keys()].map(v =>\r\n         (v + sequence.start).toString()\r\n      );\r\n   }\r\n\r\n   element.append(\r\n      textArray.map((txt, i) =>\r\n         makeText(txt, { x: gap.x * i, y: gap.y * i }, \"text\")\r\n      )\r\n   );\r\n\r\n   element.translate(start);\r\n\r\n   return element;\r\n}\r\n","import NodeElements from \"../~nodeElements\";\r\nimport Events from \"./~events\";\r\n//import * as $ from 'jquery';\r\nnamespace Ui {\r\n   export function init() {\r\n\r\n      //Maybe\r\n      $(\"body\").layout({\r\n\r\n         center: {\r\n            size: \"35%\",\r\n            spacing_open: 10,\r\n            spacing_closed: 10,\r\n         },\r\n         west: {\r\n            onresize_end: () => {\r\n               Events.layoutPaneResize();\r\n            },\r\n            onclose: () => {\r\n               Events.layoutPaneResize();\r\n            },\r\n            onopen: () => {\r\n               Events.layoutPaneResize();\r\n            },\r\n            size: \"30%\",\r\n            minSize: \"270\",\r\n            spacing_open: 10,\r\n            spacing_closed: 10,\r\n            slidable: false,\r\n         },\r\n         east: {\r\n            onresize_end: () => {\r\n               Events.schematicPaneResize();\r\n               Events.layoutPaneResize();\r\n            },\r\n            onclose: () => {\r\n               Events.schematicPaneResize();\r\n               Events.layoutPaneResize();\r\n            },\r\n            onopen: () => {\r\n               Events.schematicPaneResize();\r\n               Events.layoutPaneResize();\r\n            },\r\n            size: \"35%\",\r\n            minSize: \"5%\",\r\n            spacing_open: 10,\r\n            spacing_closed: 10,\r\n            slidable: false,\r\n         }\r\n      });\r\n\r\n\r\n      $(\"#welcomeAccordion\").accordion({\r\n         collapsible: true,\r\n         heightStyle: \"content\"\r\n      });\r\n\r\n\r\n\r\n\r\n      NodeElements.fileInput.addEventListener('change', (event: Event) => {\r\n         Events.fileInput(event);\r\n      });\r\n\r\n      NodeElements.fileSave.addEventListener('click', (event: Event) => {\r\n         Events.fileSave(event);\r\n      });\r\n\r\n      NodeElements.checkCircuitButton.addEventListener('click', () => {\r\n         Events.checkCircuit()\r\n      });\r\n\r\n      NodeElements.boardDraggingDisabled.addEventListener('click', () => {\r\n         Events.disableBoardDraggingPress()\r\n      });\r\n\r\n      $(document).keydown(function (e) {\r\n         if (e.keyCode === 90 && e.ctrlKey) {\r\n            Events.undo();\r\n         }\r\n      });\r\n\r\n      $(document).keydown(function (e) {\r\n         if (e.keyCode === 89 && e.ctrlKey) {\r\n            Events.redo();\r\n         }\r\n      });\r\n   }\r\n}\r\nexport default Ui;","import NodeElements from \"../~nodeElements\";\r\nimport Active from \"../~active\";\r\nimport { handleFileInputEvent } from \"../fileIO/load/-handleFileInputEvent\";\r\nimport handleFileSaveEvent from \"../fileIO/save/-handleFileSaveEvent\";\r\nimport history from \"../circuit/history\";\r\nimport manifest from \"../circuit/manifest\";\r\nimport Component from \"../circuit/+component\";\r\nimport Diagram from \"../circuit/+diagram\";\r\nimport StripboardMaps from \"../circuit/component/_stripboard/-maps\";\r\nimport BreadboardMaps from \"../circuit/component/_breadboard/-maps\";\r\nimport Draggable from \"../circuit/component/addins/draggable\";\r\n//import * as $ from 'jquery';\r\n\r\nnamespace Events {\r\n   function fitDiagramContents(diagram: Diagram) {\r\n      let rootEl = diagram.root.element.element;\r\n      let group = diagram.group;\r\n\r\n      let margin = 3;\r\n\r\n      let groupBBox = group.element.getBBox();\r\n      let groupWidth = groupBBox.width + margin * 2;\r\n      let groupHeight = groupBBox.height + margin * 2;\r\n\r\n      let scaleX: number = (groupWidth) ? (rootEl.width.baseVal.value / groupWidth) : 0;\r\n      let scaleY: number = (groupHeight) ? (rootEl.height.baseVal.value / groupHeight) : 0;\r\n      let scaleMin: number = Math.min(scaleX, scaleY);\r\n\r\n      let offsetX = -groupBBox.x * scaleMin + (rootEl.width.baseVal.value - groupWidth * scaleMin) / 2 + margin;\r\n      let offsetY = (-groupBBox.y * scaleMin) + (rootEl.height.baseVal.value - groupHeight * scaleMin) / 2 + margin;\r\n\r\n      let transformString = \"translate(\" + offsetX + \" \" + offsetY + \")\" + \"scale(\" + scaleMin + \")\";\r\n      group.element.setAttribute('transform', transformString);\r\n   }\r\n\r\n   export function schematicPaneResize() {\r\n      window.setTimeout(() => {\r\n         fitDiagramContents(Active.schematic);\r\n      }, 5);\r\n   }\r\n\r\n   export function layoutPaneResize() {\r\n      window.setTimeout(() => {\r\n         fitDiagramContents(Active.layout);\r\n      }, 5);\r\n   }\r\n\r\n   export function fileInput(event: Event) {\r\n      handleFileInputEvent(event);\r\n   }\r\n\r\n   export function fileSave(event: Event) {\r\n      handleFileSaveEvent(event);\r\n   }\r\n\r\n   export function makeStripBoardButtonPress() {\r\n      let rowElement = NodeElements.stripboardRows;\r\n      let columnElement = NodeElements.stripboardColumns;\r\n\r\n      let rows = parseInt(rowElement.value);\r\n      let columns = parseInt(columnElement.value);\r\n\r\n      if (rows && columns &&\r\n         rows >= parseInt(rowElement.min) && columns >= parseInt(columnElement.min) &&\r\n         rows <= parseInt(rowElement.max) && columns <= parseInt(columnElement.max)\r\n      ) {\r\n         addBoard(StripboardMaps.layout.make({\r\n            rows: rows,\r\n            columns: columns\r\n         }));\r\n      }\r\n   }\r\n\r\n   export function makeBreadBoardSmallButtonPress() {\r\n      addBoard(BreadboardMaps.layoutSmall.make({}));\r\n   }\r\n\r\n   export function makeBreadBoardLargeButtonPress() {\r\n      addBoard(BreadboardMaps.layoutLarge.make({}));\r\n   }\r\n\r\n   function addBoard(board: Component) {\r\n      if (manifest.activeBoard !== undefined) {\r\n         manifest.removeComponent(manifest.activeBoard);\r\n         manifest.addComponent(manifest.layout, board);\r\n         history.mergeLast();\r\n      } else {\r\n         manifest.addComponent(manifest.layout, board);\r\n      }\r\n      manifest.activeBoard = board;\r\n   }\r\n\r\n   export function disableBoardDraggingPress() {\r\n      if (manifest.activeBoard !== undefined) {\r\n         if (NodeElements.boardDraggingDisabled.checked) {\r\n            Draggable.disable(manifest.activeBoard)\r\n         } else {\r\n            Draggable.enable(manifest.activeBoard)\r\n         }\r\n      }\r\n   }\r\n\r\n   export function checkCircuit() {\r\n      let circuitStatus = manifest.checkAll();\r\n\r\n\r\n      let doHighlightCorrect = NodeElements.checkShowCorrect.checked;\r\n      let doHighlightIncorrect = NodeElements.checkShowIncorrect.checked;\r\n\r\n      const highlightCheck = () => {\r\n         if (doHighlightIncorrect) {\r\n            circuitStatus.incorrects.forEach(incorrect => {\r\n               $(incorrect.group.element).find(\".highlight\").css(\"stroke\", \"red\");\r\n               $(incorrect.group.element).find(\".highlightwithfill\").css(\"fill\", \"red\");;\r\n            });\r\n         }\r\n         if (doHighlightCorrect) {\r\n            circuitStatus.corrects.forEach(correct => {\r\n               $(correct.group.element).find(\".highlight\").css(\"stroke\", \"green\");\r\n               $(correct.group.element).find(\".highlightwithfill\").css(\"fill\", \"green\");;\r\n            });\r\n         }\r\n      }\r\n\r\n      const clearHighlightCheck = () => {\r\n         if (doHighlightIncorrect) {\r\n            circuitStatus.incorrects.forEach(incorrect => {\r\n               $(incorrect.group.element).find(\".highlight\").css(\"stroke\", \"\");\r\n               $(incorrect.group.element).find(\".highlightwithfill\").css(\"fill\", \"\");\r\n            });\r\n         }\r\n         if (doHighlightCorrect) {\r\n            circuitStatus.corrects.forEach(correct => {\r\n               $(correct.group.element).find(\".highlight\").css(\"stroke\", \"\");\r\n               $(correct.group.element).find(\".highlightwithfill\").css(\"fill\", \"\");;\r\n            });\r\n         }\r\n      }\r\n\r\n      highlightCheck();\r\n      window.setTimeout(() => {\r\n         clearHighlightCheck();\r\n         window.setTimeout(() => {\r\n            highlightCheck();\r\n            window.setTimeout(() => {\r\n               clearHighlightCheck();\r\n               window.setTimeout(() => {\r\n                  highlightCheck();\r\n                  window.setTimeout(() => {\r\n                     clearHighlightCheck();\r\n                  }, 400);\r\n               }, 200);\r\n            }, 400);\r\n         }, 200);\r\n      }, 400);\r\n\r\n      let completion = (circuitStatus.corrects.length / (circuitStatus.corrects.length + circuitStatus.incorrects.length) * 100).toFixed(1);\r\n      NodeElements.checkStatusText.innerText = \"Correct: \" + completion + \"%\";\r\n   }\r\n\r\n   export function undo() {\r\n      if (history !== undefined) {\r\n         history.undo();\r\n      }\r\n   }\r\n\r\n   export function redo() {\r\n      if (history !== undefined) {\r\n         history.redo();\r\n      }\r\n   }\r\n}\r\n\r\nexport default Events;\r\n\r\n\r\n","\r\n/** Return value in radians */\r\nexport default function cumulativeSum(...values: number[]): number[] {\r\n   return values.reduce((acc, value, idx) => acc.concat(value + acc[idx]), [0]).slice(1);\r\n}\r\n\r\n\r\n","\r\n/** Only safe for JSON friendly objects */\r\nexport default function deepCopy<O extends {}>(obj: O): O {\r\n   return JSON.parse(JSON.stringify(obj));\r\n}\r\n\r\n\r\n","\r\n/** Return value in radians */\r\nexport default function degreesToRadians(angle: number): number {\r\n   return angle * Math.PI / 180;\r\n}\r\n\r\n\r\n\r\n","export default function getStandardForm(value: number, unit: string = \"\"): string {\r\n   let exponentialParts = value.toExponential().split(\"e\");\r\n\r\n   let coefficient: number = parseFloat(exponentialParts[0]);\r\n   let exponent: number = parseInt(exponentialParts[1]);\r\n\r\n   for (let i = 0; i < 3; i++) {\r\n      if (exponent in prefixes) break;\r\n      coefficient *= 10;\r\n      exponent--;\r\n   }\r\n\r\n   const numeric = parseFloat(coefficient.toPrecision(2));\r\n   const prefix = prefixes[exponent] || \"\";\r\n\r\n   return numeric + prefix + unit;\r\n}\r\n\r\nconst prefixes: { [key: string]: string } = {\r\n   '-24': 'y',\r\n   '-21': 'z',\r\n   '-18': 'a',\r\n   '-15': 'f',\r\n   '-12': 'p',\r\n   '-9': 'n',\r\n   '-6': '',\r\n   '-3': 'm',\r\n   '0': '',\r\n   '3': 'k',\r\n   '6': 'M',\r\n   '9': 'G',\r\n   '12': 'T',\r\n   '15': 'P',\r\n   '18': 'E',\r\n   '21': 'Z',\r\n   '24': 'Y'\r\n};\r\n","export default function is<T>(check: T) {\r\n   return (test: T) => test === check;\r\n}\r\n\r\n\r\n","export default function isNot<T>(check: T) {\r\n   return (test: T) => test !== check\r\n}\r\n","import isNot from \"./-isNot\";\r\n\r\n/** Tests that for every element in array A there is exactly one corresponding element\r\n * in array B for which the predicate is true when presented with both elements.\r\n */\r\nexport default function isUnaryMap<T>(A: T[], B: T[], predicate: (elA: T, elB: T) => boolean) {\r\n   const isPredicateMatchForAllA: boolean = A.every(elA => {\r\n      let match = B.find(elB => predicate(elA, elB));\r\n      B = B.filter(isNot(match));\r\n      return (match !== undefined);\r\n   });\r\n\r\n   const allBMatched: boolean = (B.length === 0);\r\n\r\n   return (isPredicateMatchForAllA && allBMatched);\r\n}\r\n\r\n\r\n","\r\n/** Return value in Degrees */\r\nexport default function radiansToDegrees(angle: number): number {\r\n   return angle * 180 / Math.PI;\r\n}\r\n\r\n\r\n","\r\n/** Splits an array by predicate*/\r\nexport default function split<T>(A: T[], predicate: (elA: T) => boolean): { passes: T[], fails: T[] } {\r\n   let passes: T[] = [];\r\n   let fails: T[] = [];\r\n\r\n   A.forEach(elA => {\r\n      if (predicate(elA)) {\r\n         passes.push(elA);\r\n      } else {\r\n         fails.push(elA);\r\n      }\r\n   })\r\n\r\n   return { passes: passes, fails: fails };\r\n}\r\n\r\n\r\n","import * as GlobalTypes from \"../++types\";\r\nimport is from \"./-is\";\r\n\r\nexport default function testType<T extends GlobalTypes.baseTypes>(type: T): (v: unknown) => v is GlobalTypes.NameType<T>;\r\nexport default function testType<T>(predicate: (value: T) => boolean): (v: unknown) => v is T;\r\nexport default function testType<T>(type: T[]): (v: unknown) => v is T;\r\nexport default function testType<T>(test: GlobalTypes.baseTypes | ((value: unknown) => boolean) | T[]) {\r\n\r\n   const predicate = ((typeof test === \"string\")\r\n      ? (v: unknown) => typeof v === test\r\n      : (test instanceof Array)\r\n         ? (v: unknown) => test.some(is(v))\r\n         : test\r\n   );\r\n\r\n   return predicate;\r\n}\r\n","/** Restructures inputs as a Tuple */\r\nexport default function tuple<TS extends any[]>(...args: TS) {\r\n   return args;\r\n}\r\n","import is from \"./-is\";\r\nimport * as GlobalTypes from \"../++types\";\r\n\r\nexport type checkfunction<T> = (value: unknown, log?: boolean) => T;\r\n\r\ntype genericValidate<T, OT=T> = (test: T, fallback: OT) => checkfunction<OT>;\r\n\r\n// Validate by type checking against base type (string number etc)\r\ntype baseValidate<T = GlobalTypes.baseTypes> = genericValidate<T, GlobalTypes.NameType<T>>;\r\n\r\n// Validate according to some function\r\ntype functionValidate = genericValidate<(value: unknown) => boolean>;\r\n\r\n// Validate by checking against predefined array\r\ntype selectValidate<T> = genericValidate<T[]>;\r\n\r\nexport default interface validateType<T> extends baseValidate, functionValidate, selectValidate<T> { };\r\n\r\nexport default function validateType<T>(test: (GlobalTypes.baseTypes | ((value: unknown) => boolean) | T[]), fallback: T) {\r\n   // Effectively convert all cases into a boolean returning function\r\n   const predicate = ((typeof test === \"string\")\r\n      ? (v: unknown) => typeof v === test\r\n      : (test instanceof Array)\r\n         ? (v: unknown) => test.some(is(v))\r\n         : test\r\n   );\r\n\r\n   const validator: checkfunction<T> = (value, log = false) => {\r\n      if (predicate(value)) {\r\n            /*LOGSTART*/if (log) {\r\n            console.log(`Value '%o' passed test '%o`, value, test);\r\n         }/*LOGEND*/\r\n         return value as T;\r\n      } else {\r\n            /*LOGSTART*/if (log) {\r\n            console.log(`Validation failure, value '%o' did not pass test '%o',\r\n                fallback '%o' used.`, value, test, fallback);\r\n         }/*LOGEND*/\r\n         return fallback;\r\n      }\r\n   }\r\n\r\n   return validator;\r\n}\r\n\r\n\r\n\r\n","import degreesToRadians from \"../-degreesToRadians\"\r\nimport { Vector } from \"../../++types\"\r\nexport default function toVector(radius: number, angle: number): Vector {\r\n   const rads = degreesToRadians(angle)\r\n   return {\r\n      x: radius * Math.cos(rads),\r\n      y: radius * Math.sin(rads)\r\n   };\r\n}\r\n\r\n\r\n","namespace Curry {\r\n   export function makeOptional<AT, BT, RT>(fn: (A: AT, B: BT) => RT) {\r\n      function curried(A: AT): (B: BT) => RT;\r\n      function curried(A: AT, B: BT): RT;\r\n      function curried(A: AT, B?: BT) {\r\n         if (B !== undefined) {\r\n            return fn(A, B);\r\n         } else {\r\n            return (B: BT) => fn(A, B);\r\n         }\r\n      }\r\n      return curried;\r\n   }\r\n}\r\n\r\nexport default Curry;\r\n","namespace flatten {\r\n   export const flatten2d = <T>(array: T[][]): T[] => [].concat.apply([], array);\r\n   export const flatten3d = <T>(array: T[][][]): T[] => flatten2d(flatten2d(array));\r\n}\r\n\r\nexport default flatten;","//import * as $ from 'jquery';\r\nnamespace Insert {\r\n   export function last(element: Element, target?: Element) {\r\n      if (element === target || target === undefined) {\r\n         $(element).insertAfter($(element).siblings().last());\r\n      } else if ($(target).children().length) {\r\n         $(element).insertAfter($(target).children().last());\r\n      } else {\r\n         $(element).appendTo(target);\r\n      }\r\n   }\r\n\r\n   export function first(element: Element, target?: Element) {\r\n      if (element === target || target === undefined) {\r\n         $(element).insertBefore($(element).siblings().first());\r\n      } else if ($(target).children().length) {\r\n         $(element).insertBefore($(target).children().first());\r\n      } else {\r\n         $(element).prependTo(target);\r\n      }\r\n   }\r\n\r\n   export function before(element: Element, target?: Element): void\r\n   export function before(element: Element, referenceSelector: string): void\r\n   export function before(element: Element, target?: Element, referenceSelector?: string): void\r\n   export function before(element: Element, targetOrRef?: Element | string, referenceSelector: string = \"*\"): void {\r\n      let target = (typeof targetOrRef === \"string\") ? undefined : targetOrRef;\r\n      referenceSelector = (typeof targetOrRef === \"string\") ? targetOrRef : referenceSelector;\r\n      if (element === target || target === undefined) {\r\n         $(element).insertBefore($(element).siblings(referenceSelector).first());\r\n      } else if ($(target).children(referenceSelector).length) {\r\n         $(element).insertBefore($(target).children(referenceSelector).first());\r\n      } else {\r\n         $(element).prependTo(target);\r\n      }\r\n   }\r\n\r\n   export function after(element: Element, target?: Element): void\r\n   export function after(element: Element, referenceSelector: string): void\r\n   export function after(element: Element, target?: Element, referenceSelector?: string): void\r\n   export function after(element: Element, targetOrRef?: Element | string, referenceSelector: string = \"*\"): void {\r\n      let target = (typeof targetOrRef === \"string\") ? undefined : targetOrRef;\r\n      referenceSelector = (typeof targetOrRef === \"string\") ? targetOrRef : referenceSelector;\r\n      if (element === target || target === undefined) {\r\n         $(element).insertAfter($(element).siblings(referenceSelector).last());\r\n      } else if ($(target).children(referenceSelector).length) {\r\n         $(element).insertAfter($(target).children(referenceSelector).last());\r\n      } else {\r\n         $(element).prependTo(target);\r\n      }\r\n   }\r\n}\r\n\r\nexport default Insert;","import NodeElements from \"./~nodeElements\";\r\nimport Diagram from \"./circuit/+diagram\";\r\n//import * as $ from 'jquery';\r\nnamespace Active {\r\n   export let layout: Diagram;\r\n   export let schematic: Diagram;\r\n\r\n   export function init() {\r\n      layout = new Diagram(NodeElements.layoutContainer);\r\n      $(layout.root.group.element).addClass(\"layout\");\r\n      schematic = new Diagram(NodeElements.schematicContainer);\r\n      $(schematic.root.group.element).addClass(\"schematic\");\r\n   }\r\n}\r\nexport default Active;","\r\nexport const gridSpacing = 20;\r\nexport const svgURI: string = \"http://www.w3.org/2000/svg\";\r\nexport const schematicManipulationEnabled = false;\r\n\r\n\r\n","//import * as $ from 'jquery';\r\nnamespace NodeElements {\r\n   //File\r\n   export let fileInput: HTMLInputElement;\r\n   export let fileSave: HTMLInputElement;\r\n   export let fileStatusText: HTMLParagraphElement;\r\n\r\n   //Board Control\r\n   export let stripboardRows: HTMLInputElement;\r\n   export let stripboardColumns: HTMLInputElement;\r\n   export let boardDraggingDisabled: HTMLInputElement;\r\n\r\n   //Checking\r\n   export let checkCircuitButton: HTMLInputElement;\r\n   export let checkShowCorrect: HTMLInputElement;\r\n   export let checkShowIncorrect: HTMLInputElement;\r\n   export let checkStatusText: HTMLParagraphElement;\r\n\r\n   //Svg Containers\r\n   export let layoutContainer: HTMLDivElement;\r\n   export let schematicContainer: HTMLDivElement;\r\n\r\n   export function init() {\r\n      //File\r\n      NodeElements.fileInput = $(\"input#fileInput\")[0] as HTMLInputElement;\r\n      NodeElements.fileSave = $(\"input#fileSave\")[0] as HTMLInputElement;\r\n      NodeElements.fileStatusText = $(\"p#fileStatusText\")[0] as HTMLParagraphElement;\r\n\r\n      //Board Control\r\n      NodeElements.stripboardRows = $(\"input#stripboardRows\")[0] as HTMLInputElement;\r\n      NodeElements.stripboardColumns = $(\"input#stripboardColumns\")[0] as HTMLInputElement;\r\n      NodeElements.boardDraggingDisabled = $(\"input#boardDraggingDisabled\")[0] as HTMLInputElement;\r\n\r\n      //Checking\r\n      NodeElements.checkCircuitButton = $(\"input#checkCircuitButton\")[0] as HTMLInputElement;\r\n      NodeElements.checkShowCorrect = $(\"input#checkShowCorrect\")[0] as HTMLInputElement;\r\n      NodeElements.checkShowIncorrect = $(\"input#checkShowIncorrect\")[0] as HTMLInputElement;\r\n      NodeElements.checkStatusText = $(\"p#checkStatusText\")[0] as HTMLParagraphElement;\r\n\r\n      //Svg Containers\r\n      NodeElements.layoutContainer = $(\"div#layoutContainer\")[0] as HTMLDivElement;\r\n      NodeElements.schematicContainer = $(\"div#schematicContainer\")[0] as HTMLDivElement;\r\n   }\r\n}\r\nexport default NodeElements\r\n"],"sourceRoot":""}