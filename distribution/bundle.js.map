{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/inherits/inherits_browser.js","webpack:///./node_modules/process/browser.js","webpack:///./node_modules/util/support/isBufferBrowser.js","webpack:///./node_modules/util/util.js","webpack:///./typescript/-vector.ts","webpack:///./typescript/_vector/-asPolar.ts","webpack:///./typescript/_vector/-centre.ts","webpack:///./typescript/_vector/-centreWith.ts","webpack:///./typescript/_vector/-getAngleTo.ts","webpack:///./typescript/_vector/-isCloseTo.ts","webpack:///./typescript/_vector/-isVector.ts","webpack:///./typescript/_vector/-rotate.ts","webpack:///./typescript/_vector/-round.ts","webpack:///./typescript/_vector/-scaleWith.ts","webpack:///./typescript/_vector/-standardise.ts","webpack:///./typescript/_vector/-subSum.ts","webpack:///./typescript/_vector/-sum.ts","webpack:///./typescript/_vector/-sumWith.ts","webpack:///./typescript/circuit/+component.ts","webpack:///./typescript/circuit/+diagram.ts","webpack:///./typescript/circuit/_history/-addEvent.ts","webpack:///./typescript/circuit/_history/-factory.ts","webpack:///./typescript/circuit/_history/-init.ts","webpack:///./typescript/circuit/_history/-mergeEvents.ts","webpack:///./typescript/circuit/_history/-redoEvent.ts","webpack:///./typescript/circuit/_history/-undoEvent.ts","webpack:///./typescript/circuit/component/_bipolar/-drawLayout.ts","webpack:///./typescript/circuit/component/_bipolar/-drawSchematic.ts","webpack:///./typescript/circuit/component/_bipolar/-loadLayout.ts","webpack:///./typescript/circuit/component/_bipolar/-loadSchematic.ts","webpack:///./typescript/circuit/component/_bipolar/-makeLayout.ts","webpack:///./typescript/circuit/component/_bipolar/-makeSchematic.ts","webpack:///./typescript/circuit/component/_bipolar/-maps.ts","webpack:///./typescript/circuit/component/_bipolar/constants.ts","webpack:///./typescript/circuit/component/_bipolar/~classes.ts","webpack:///./typescript/circuit/component/_breadboard/-drawLarge.ts","webpack:///./typescript/circuit/component/_breadboard/-drawSmall.ts","webpack:///./typescript/circuit/component/_breadboard/-loadLarge.ts","webpack:///./typescript/circuit/component/_breadboard/-loadSmall.ts","webpack:///./typescript/circuit/component/_breadboard/-makeLarge.ts","webpack:///./typescript/circuit/component/_breadboard/-makeSmall.ts","webpack:///./typescript/circuit/component/_breadboard/-makeTracks.ts","webpack:///./typescript/circuit/component/_breadboard/-maps.ts","webpack:///./typescript/circuit/component/_breadboard/constants.ts","webpack:///./typescript/circuit/component/_breadboard/~classes.ts","webpack:///./typescript/circuit/component/_capacitor/-drawLayout.ts","webpack:///./typescript/circuit/component/_capacitor/-drawSchematic.ts","webpack:///./typescript/circuit/component/_capacitor/-loadLayout.ts","webpack:///./typescript/circuit/component/_capacitor/-loadSchematic.ts","webpack:///./typescript/circuit/component/_capacitor/-makeLayout.ts","webpack:///./typescript/circuit/component/_capacitor/-makeSchematic.ts","webpack:///./typescript/circuit/component/_capacitor/-maps.ts","webpack:///./typescript/circuit/component/_capacitor/constants.ts","webpack:///./typescript/circuit/component/_capacitor/~classes.ts","webpack:///./typescript/circuit/component/_diode/-drawLayout.ts","webpack:///./typescript/circuit/component/_diode/-drawSchematic.ts","webpack:///./typescript/circuit/component/_diode/-loadLayout.ts","webpack:///./typescript/circuit/component/_diode/-loadSchematic.ts","webpack:///./typescript/circuit/component/_diode/-makeLayout.ts","webpack:///./typescript/circuit/component/_diode/-makeSchematic.ts","webpack:///./typescript/circuit/component/_diode/-maps.ts","webpack:///./typescript/circuit/component/_diode/constants.ts","webpack:///./typescript/circuit/component/_diode/~classes.ts","webpack:///./typescript/circuit/component/_inductor/-drawLayout.ts","webpack:///./typescript/circuit/component/_inductor/-drawSchematic.ts","webpack:///./typescript/circuit/component/_inductor/-loadLayout.ts","webpack:///./typescript/circuit/component/_inductor/-loadSchematic.ts","webpack:///./typescript/circuit/component/_inductor/-makeLayout.ts","webpack:///./typescript/circuit/component/_inductor/-makeSchematic.ts","webpack:///./typescript/circuit/component/_inductor/-maps.ts","webpack:///./typescript/circuit/component/_inductor/constants.ts","webpack:///./typescript/circuit/component/_inductor/~classes.ts","webpack:///./typescript/circuit/component/_opAmp/-drawLayout.ts","webpack:///./typescript/circuit/component/_opAmp/-drawSchematic.ts","webpack:///./typescript/circuit/component/_opAmp/-loadLayout.ts","webpack:///./typescript/circuit/component/_opAmp/-loadSchematic.ts","webpack:///./typescript/circuit/component/_opAmp/-makeLayout.ts","webpack:///./typescript/circuit/component/_opAmp/-makeSchematic.ts","webpack:///./typescript/circuit/component/_opAmp/-maps.ts","webpack:///./typescript/circuit/component/_opAmp/constants.ts","webpack:///./typescript/circuit/component/_opAmp/~classes.ts","webpack:///./typescript/circuit/component/_power/-drawLayout.ts","webpack:///./typescript/circuit/component/_power/-drawSchematic.ts","webpack:///./typescript/circuit/component/_power/-loadLayout.ts","webpack:///./typescript/circuit/component/_power/-loadSchematic.ts","webpack:///./typescript/circuit/component/_power/-makeLayout.ts","webpack:///./typescript/circuit/component/_power/-makeSchematic.ts","webpack:///./typescript/circuit/component/_power/-maps.ts","webpack:///./typescript/circuit/component/_power/constants.ts","webpack:///./typescript/circuit/component/_power/~classes.ts","webpack:///./typescript/circuit/component/_stripboard/-drawLayout.ts","webpack:///./typescript/circuit/component/_stripboard/-loadLayout.ts","webpack:///./typescript/circuit/component/_stripboard/-makeLayout.ts","webpack:///./typescript/circuit/component/_stripboard/-makeTracks.ts","webpack:///./typescript/circuit/component/_stripboard/-maps.ts","webpack:///./typescript/circuit/component/_stripboard/constants.ts","webpack:///./typescript/circuit/component/_stripboard/~classes.ts","webpack:///./typescript/circuit/component/_track/-drawLayout.ts","webpack:///./typescript/circuit/component/_track/-loadLayout.ts","webpack:///./typescript/circuit/component/_track/-makeLayout.ts","webpack:///./typescript/circuit/component/_track/-maps.ts","webpack:///./typescript/circuit/component/_track/constants.ts","webpack:///./typescript/circuit/component/_track/~classes.ts","webpack:///./typescript/circuit/component/_wire/-drawLayout.ts","webpack:///./typescript/circuit/component/_wire/-drawSchematic.ts","webpack:///./typescript/circuit/component/_wire/-loadLayout.ts","webpack:///./typescript/circuit/component/_wire/-loadSchematic.ts","webpack:///./typescript/circuit/component/_wire/-makeLayout.ts","webpack:///./typescript/circuit/component/_wire/-makeSchematic.ts","webpack:///./typescript/circuit/component/_wire/-maps.ts","webpack:///./typescript/circuit/component/_wire/~classes.ts","webpack:///./typescript/circuit/component/addins/board.ts","webpack:///./typescript/circuit/component/addins/connectionsHighlightable.ts","webpack:///./typescript/circuit/component/addins/draggable.ts","webpack:///./typescript/circuit/component/addins/extendable.ts","webpack:///./typescript/circuit/component/addins/graphical.ts","webpack:///./typescript/circuit/component/addins/junctions.ts","webpack:///./typescript/circuit/component/addins/recolorable.ts","webpack:///./typescript/circuit/component/addins/reversableBoard.ts","webpack:///./typescript/circuit/component/addins/rotatable.ts","webpack:///./typescript/circuit/component/addins/selectable.ts","webpack:///./typescript/circuit/component/addins/wiresCreatable.ts","webpack:///./typescript/circuit/component/resistor/-drawLayout.ts","webpack:///./typescript/circuit/component/resistor/-drawSchematic.ts","webpack:///./typescript/circuit/component/resistor/-loadLayout.ts","webpack:///./typescript/circuit/component/resistor/-loadSchematic.ts","webpack:///./typescript/circuit/component/resistor/-makeLayout.ts","webpack:///./typescript/circuit/component/resistor/-makeSchematic.ts","webpack:///./typescript/circuit/component/resistor/-maps.ts","webpack:///./typescript/circuit/component/resistor/constants.ts","webpack:///./typescript/circuit/component/resistor/~classes.ts","webpack:///./typescript/circuit/component/~valueCheck.ts","webpack:///./typescript/circuit/events.ts","webpack:///./typescript/circuit/generics/-getComponentConnections.ts","webpack:///./typescript/circuit/generics/-getMaker.ts","webpack:///./typescript/circuit/generics/-loadObjectWithDefaults.ts","webpack:///./typescript/circuit/generics/-makeConnector.ts","webpack:///./typescript/circuit/generics/-makeMap.ts","webpack:///./typescript/circuit/history.ts","webpack:///./typescript/circuit/manifest.ts","webpack:///./typescript/circuit/mappings.ts","webpack:///./typescript/fileIO/load/-handleFileInputEvent.ts","webpack:///./typescript/fileIO/load/dasim/-buildComponents.ts","webpack:///./typescript/fileIO/load/dasim/-filterInvalidComponents.ts","webpack:///./typescript/fileIO/load/dasim/-getRawComponentsFromString.ts","webpack:///./typescript/fileIO/load/dasim/-getStringFromFileInput.ts","webpack:///./typescript/fileIO/save/-createFile.ts","webpack:///./typescript/fileIO/save/-handleFileSaveEvent.ts","webpack:///./typescript/main.ts","webpack:///./typescript/svg/+element.ts","webpack:///./typescript/svg/+root.ts","webpack:///./typescript/svg/-addTransform.ts","webpack:///./typescript/svg/-makeMatrix.ts","webpack:///./typescript/svg/-svg.ts","webpack:///./typescript/svg/addins/draggable.ts","webpack:///./typescript/svg/addins/scaleable.ts","webpack:///./typescript/svg/element/+circle.ts","webpack:///./typescript/svg/element/+ellipse.ts","webpack:///./typescript/svg/element/+group.ts","webpack:///./typescript/svg/element/+line.ts","webpack:///./typescript/svg/element/+path.ts","webpack:///./typescript/svg/element/+rect.ts","webpack:///./typescript/svg/element/+svg.ts","webpack:///./typescript/svg/element/+text.ts","webpack:///./typescript/svg/element/groups/+dip.ts","webpack:///./typescript/svg/element/groups/+textSequence.ts","webpack:///./typescript/ui/-init.ts","webpack:///./typescript/ui/~events.ts","webpack:///./typescript/utility/-cumulativeSum.ts","webpack:///./typescript/utility/-deepCopy.ts","webpack:///./typescript/utility/-degreesToRadians.ts","webpack:///./typescript/utility/-getStandardForm.ts","webpack:///./typescript/utility/-is.ts","webpack:///./typescript/utility/-isNot.ts","webpack:///./typescript/utility/-isUnaryMap.ts","webpack:///./typescript/utility/-radiansToDegrees.ts","webpack:///./typescript/utility/-split.ts","webpack:///./typescript/utility/-testType.ts","webpack:///./typescript/utility/-tuple.ts","webpack:///./typescript/utility/-validateType.ts","webpack:///./typescript/utility/polar/-toVector.ts","webpack:///./typescript/utility/~curry.ts","webpack:///./typescript/utility/~flatten.ts","webpack:///./typescript/utility/~insert.ts","webpack:///./typescript/~active.ts","webpack:///./typescript/~constants.ts","webpack:///./typescript/~controlValues.ts","webpack:///./typescript/~nodeElements.ts"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,kDAA0C,gCAAgC;AAC1E;AACA;;AAEA;AACA;AACA;AACA,gEAAwD,kBAAkB;AAC1E;AACA,yDAAiD,cAAc;AAC/D;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAyC,iCAAiC;AAC1E,wHAAgH,mBAAmB,EAAE;AACrI;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;;AAGA;AACA;;;;;;;;;;;;AClFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACtBA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,qCAAqC;;AAErC;AACA;AACA;;AAEA,2BAA2B;AAC3B;AACA;AACA;AACA,4BAA4B,UAAU;;;;;;;;;;;;ACvLtC;AACA;AACA;AACA;AACA;AACA,C;;;;;;;;;;;ACLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,mBAAmB,iBAAiB;AACpC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,mBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,uBAAuB,SAAS;AAChC;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;;AAGA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA,GAAG;;AAEH;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,4CAA4C,KAAK;;AAEjD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,KAAK;AACL;;AAEA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;;AAGA;AACA;AACA,mCAAmC,OAAO;AAC1C;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;;AAGA;AACA;AACA,yDAAyD;AACzD;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX,SAAS;AACT;AACA;AACA,WAAW;AACX;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,mBAAmB,mBAAO,CAAC,0EAAoB;;AAE/C;AACA;AACA;;;AAGA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB;AACA,WAAW,SAAS;AACpB;AACA,mBAAmB,mBAAO,CAAC,6DAAU;;AAErC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA,mBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,KAAK;;AAEL;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;;AAEA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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./typescript/main.ts\");\n","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    ctor.prototype = Object.create(superCtor.prototype, {\n      constructor: {\n        value: ctor,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    var TempCtor = function () {}\n    TempCtor.prototype = superCtor.prototype\n    ctor.prototype = new TempCtor()\n    ctor.prototype.constructor = ctor\n  }\n}\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","module.exports = function isBuffer(arg) {\n  return arg && typeof arg === 'object'\n    && typeof arg.copy === 'function'\n    && typeof arg.fill === 'function'\n    && typeof arg.readUInt8 === 'function';\n}","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar getOwnPropertyDescriptors = Object.getOwnPropertyDescriptors ||\n  function getOwnPropertyDescriptors(obj) {\n    var keys = Object.keys(obj);\n    var descriptors = {};\n    for (var i = 0; i < keys.length; i++) {\n      descriptors[keys[i]] = Object.getOwnPropertyDescriptor(obj, keys[i]);\n    }\n    return descriptors;\n  };\n\nvar formatRegExp = /%[sdj%]/g;\nexports.format = function(f) {\n  if (!isString(f)) {\n    var objects = [];\n    for (var i = 0; i < arguments.length; i++) {\n      objects.push(inspect(arguments[i]));\n    }\n    return objects.join(' ');\n  }\n\n  var i = 1;\n  var args = arguments;\n  var len = args.length;\n  var str = String(f).replace(formatRegExp, function(x) {\n    if (x === '%%') return '%';\n    if (i >= len) return x;\n    switch (x) {\n      case '%s': return String(args[i++]);\n      case '%d': return Number(args[i++]);\n      case '%j':\n        try {\n          return JSON.stringify(args[i++]);\n        } catch (_) {\n          return '[Circular]';\n        }\n      default:\n        return x;\n    }\n  });\n  for (var x = args[i]; i < len; x = args[++i]) {\n    if (isNull(x) || !isObject(x)) {\n      str += ' ' + x;\n    } else {\n      str += ' ' + inspect(x);\n    }\n  }\n  return str;\n};\n\n\n// Mark that a method should not be used.\n// Returns a modified function which warns once by default.\n// If --no-deprecation is set, then it is a no-op.\nexports.deprecate = function(fn, msg) {\n  if (typeof process !== 'undefined' && process.noDeprecation === true) {\n    return fn;\n  }\n\n  // Allow for deprecating things in the process of starting up.\n  if (typeof process === 'undefined') {\n    return function() {\n      return exports.deprecate(fn, msg).apply(this, arguments);\n    };\n  }\n\n  var warned = false;\n  function deprecated() {\n    if (!warned) {\n      if (process.throwDeprecation) {\n        throw new Error(msg);\n      } else if (process.traceDeprecation) {\n        console.trace(msg);\n      } else {\n        console.error(msg);\n      }\n      warned = true;\n    }\n    return fn.apply(this, arguments);\n  }\n\n  return deprecated;\n};\n\n\nvar debugs = {};\nvar debugEnviron;\nexports.debuglog = function(set) {\n  if (isUndefined(debugEnviron))\n    debugEnviron = process.env.NODE_DEBUG || '';\n  set = set.toUpperCase();\n  if (!debugs[set]) {\n    if (new RegExp('\\\\b' + set + '\\\\b', 'i').test(debugEnviron)) {\n      var pid = process.pid;\n      debugs[set] = function() {\n        var msg = exports.format.apply(exports, arguments);\n        console.error('%s %d: %s', set, pid, msg);\n      };\n    } else {\n      debugs[set] = function() {};\n    }\n  }\n  return debugs[set];\n};\n\n\n/**\n * Echos the value of a value. Trys to print the value out\n * in the best way possible given the different types.\n *\n * @param {Object} obj The object to print out.\n * @param {Object} opts Optional options object that alters the output.\n */\n/* legacy: obj, showHidden, depth, colors*/\nfunction inspect(obj, opts) {\n  // default options\n  var ctx = {\n    seen: [],\n    stylize: stylizeNoColor\n  };\n  // legacy...\n  if (arguments.length >= 3) ctx.depth = arguments[2];\n  if (arguments.length >= 4) ctx.colors = arguments[3];\n  if (isBoolean(opts)) {\n    // legacy...\n    ctx.showHidden = opts;\n  } else if (opts) {\n    // got an \"options\" object\n    exports._extend(ctx, opts);\n  }\n  // set default options\n  if (isUndefined(ctx.showHidden)) ctx.showHidden = false;\n  if (isUndefined(ctx.depth)) ctx.depth = 2;\n  if (isUndefined(ctx.colors)) ctx.colors = false;\n  if (isUndefined(ctx.customInspect)) ctx.customInspect = true;\n  if (ctx.colors) ctx.stylize = stylizeWithColor;\n  return formatValue(ctx, obj, ctx.depth);\n}\nexports.inspect = inspect;\n\n\n// http://en.wikipedia.org/wiki/ANSI_escape_code#graphics\ninspect.colors = {\n  'bold' : [1, 22],\n  'italic' : [3, 23],\n  'underline' : [4, 24],\n  'inverse' : [7, 27],\n  'white' : [37, 39],\n  'grey' : [90, 39],\n  'black' : [30, 39],\n  'blue' : [34, 39],\n  'cyan' : [36, 39],\n  'green' : [32, 39],\n  'magenta' : [35, 39],\n  'red' : [31, 39],\n  'yellow' : [33, 39]\n};\n\n// Don't use 'blue' not visible on cmd.exe\ninspect.styles = {\n  'special': 'cyan',\n  'number': 'yellow',\n  'boolean': 'yellow',\n  'undefined': 'grey',\n  'null': 'bold',\n  'string': 'green',\n  'date': 'magenta',\n  // \"name\": intentionally not styling\n  'regexp': 'red'\n};\n\n\nfunction stylizeWithColor(str, styleType) {\n  var style = inspect.styles[styleType];\n\n  if (style) {\n    return '\\u001b[' + inspect.colors[style][0] + 'm' + str +\n           '\\u001b[' + inspect.colors[style][1] + 'm';\n  } else {\n    return str;\n  }\n}\n\n\nfunction stylizeNoColor(str, styleType) {\n  return str;\n}\n\n\nfunction arrayToHash(array) {\n  var hash = {};\n\n  array.forEach(function(val, idx) {\n    hash[val] = true;\n  });\n\n  return hash;\n}\n\n\nfunction formatValue(ctx, value, recurseTimes) {\n  // Provide a hook for user-specified inspect functions.\n  // Check that value is an object with an inspect function on it\n  if (ctx.customInspect &&\n      value &&\n      isFunction(value.inspect) &&\n      // Filter out the util module, it's inspect function is special\n      value.inspect !== exports.inspect &&\n      // Also filter out any prototype objects using the circular check.\n      !(value.constructor && value.constructor.prototype === value)) {\n    var ret = value.inspect(recurseTimes, ctx);\n    if (!isString(ret)) {\n      ret = formatValue(ctx, ret, recurseTimes);\n    }\n    return ret;\n  }\n\n  // Primitive types cannot have properties\n  var primitive = formatPrimitive(ctx, value);\n  if (primitive) {\n    return primitive;\n  }\n\n  // Look up the keys of the object.\n  var keys = Object.keys(value);\n  var visibleKeys = arrayToHash(keys);\n\n  if (ctx.showHidden) {\n    keys = Object.getOwnPropertyNames(value);\n  }\n\n  // IE doesn't make error fields non-enumerable\n  // http://msdn.microsoft.com/en-us/library/ie/dww52sbt(v=vs.94).aspx\n  if (isError(value)\n      && (keys.indexOf('message') >= 0 || keys.indexOf('description') >= 0)) {\n    return formatError(value);\n  }\n\n  // Some type of object without properties can be shortcutted.\n  if (keys.length === 0) {\n    if (isFunction(value)) {\n      var name = value.name ? ': ' + value.name : '';\n      return ctx.stylize('[Function' + name + ']', 'special');\n    }\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    }\n    if (isDate(value)) {\n      return ctx.stylize(Date.prototype.toString.call(value), 'date');\n    }\n    if (isError(value)) {\n      return formatError(value);\n    }\n  }\n\n  var base = '', array = false, braces = ['{', '}'];\n\n  // Make Array say that they are Array\n  if (isArray(value)) {\n    array = true;\n    braces = ['[', ']'];\n  }\n\n  // Make functions say that they are functions\n  if (isFunction(value)) {\n    var n = value.name ? ': ' + value.name : '';\n    base = ' [Function' + n + ']';\n  }\n\n  // Make RegExps say that they are RegExps\n  if (isRegExp(value)) {\n    base = ' ' + RegExp.prototype.toString.call(value);\n  }\n\n  // Make dates with properties first say the date\n  if (isDate(value)) {\n    base = ' ' + Date.prototype.toUTCString.call(value);\n  }\n\n  // Make error with message first say the error\n  if (isError(value)) {\n    base = ' ' + formatError(value);\n  }\n\n  if (keys.length === 0 && (!array || value.length == 0)) {\n    return braces[0] + base + braces[1];\n  }\n\n  if (recurseTimes < 0) {\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    } else {\n      return ctx.stylize('[Object]', 'special');\n    }\n  }\n\n  ctx.seen.push(value);\n\n  var output;\n  if (array) {\n    output = formatArray(ctx, value, recurseTimes, visibleKeys, keys);\n  } else {\n    output = keys.map(function(key) {\n      return formatProperty(ctx, value, recurseTimes, visibleKeys, key, array);\n    });\n  }\n\n  ctx.seen.pop();\n\n  return reduceToSingleString(output, base, braces);\n}\n\n\nfunction formatPrimitive(ctx, value) {\n  if (isUndefined(value))\n    return ctx.stylize('undefined', 'undefined');\n  if (isString(value)) {\n    var simple = '\\'' + JSON.stringify(value).replace(/^\"|\"$/g, '')\n                                             .replace(/'/g, \"\\\\'\")\n                                             .replace(/\\\\\"/g, '\"') + '\\'';\n    return ctx.stylize(simple, 'string');\n  }\n  if (isNumber(value))\n    return ctx.stylize('' + value, 'number');\n  if (isBoolean(value))\n    return ctx.stylize('' + value, 'boolean');\n  // For some reason typeof null is \"object\", so special case here.\n  if (isNull(value))\n    return ctx.stylize('null', 'null');\n}\n\n\nfunction formatError(value) {\n  return '[' + Error.prototype.toString.call(value) + ']';\n}\n\n\nfunction formatArray(ctx, value, recurseTimes, visibleKeys, keys) {\n  var output = [];\n  for (var i = 0, l = value.length; i < l; ++i) {\n    if (hasOwnProperty(value, String(i))) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          String(i), true));\n    } else {\n      output.push('');\n    }\n  }\n  keys.forEach(function(key) {\n    if (!key.match(/^\\d+$/)) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          key, true));\n    }\n  });\n  return output;\n}\n\n\nfunction formatProperty(ctx, value, recurseTimes, visibleKeys, key, array) {\n  var name, str, desc;\n  desc = Object.getOwnPropertyDescriptor(value, key) || { value: value[key] };\n  if (desc.get) {\n    if (desc.set) {\n      str = ctx.stylize('[Getter/Setter]', 'special');\n    } else {\n      str = ctx.stylize('[Getter]', 'special');\n    }\n  } else {\n    if (desc.set) {\n      str = ctx.stylize('[Setter]', 'special');\n    }\n  }\n  if (!hasOwnProperty(visibleKeys, key)) {\n    name = '[' + key + ']';\n  }\n  if (!str) {\n    if (ctx.seen.indexOf(desc.value) < 0) {\n      if (isNull(recurseTimes)) {\n        str = formatValue(ctx, desc.value, null);\n      } else {\n        str = formatValue(ctx, desc.value, recurseTimes - 1);\n      }\n      if (str.indexOf('\\n') > -1) {\n        if (array) {\n          str = str.split('\\n').map(function(line) {\n            return '  ' + line;\n          }).join('\\n').substr(2);\n        } else {\n          str = '\\n' + str.split('\\n').map(function(line) {\n            return '   ' + line;\n          }).join('\\n');\n        }\n      }\n    } else {\n      str = ctx.stylize('[Circular]', 'special');\n    }\n  }\n  if (isUndefined(name)) {\n    if (array && key.match(/^\\d+$/)) {\n      return str;\n    }\n    name = JSON.stringify('' + key);\n    if (name.match(/^\"([a-zA-Z_][a-zA-Z_0-9]*)\"$/)) {\n      name = name.substr(1, name.length - 2);\n      name = ctx.stylize(name, 'name');\n    } else {\n      name = name.replace(/'/g, \"\\\\'\")\n                 .replace(/\\\\\"/g, '\"')\n                 .replace(/(^\"|\"$)/g, \"'\");\n      name = ctx.stylize(name, 'string');\n    }\n  }\n\n  return name + ': ' + str;\n}\n\n\nfunction reduceToSingleString(output, base, braces) {\n  var numLinesEst = 0;\n  var length = output.reduce(function(prev, cur) {\n    numLinesEst++;\n    if (cur.indexOf('\\n') >= 0) numLinesEst++;\n    return prev + cur.replace(/\\u001b\\[\\d\\d?m/g, '').length + 1;\n  }, 0);\n\n  if (length > 60) {\n    return braces[0] +\n           (base === '' ? '' : base + '\\n ') +\n           ' ' +\n           output.join(',\\n  ') +\n           ' ' +\n           braces[1];\n  }\n\n  return braces[0] + base + ' ' + output.join(', ') + ' ' + braces[1];\n}\n\n\n// NOTE: These type checking functions intentionally don't use `instanceof`\n// because it is fragile and can be easily faked with `Object.create()`.\nfunction isArray(ar) {\n  return Array.isArray(ar);\n}\nexports.isArray = isArray;\n\nfunction isBoolean(arg) {\n  return typeof arg === 'boolean';\n}\nexports.isBoolean = isBoolean;\n\nfunction isNull(arg) {\n  return arg === null;\n}\nexports.isNull = isNull;\n\nfunction isNullOrUndefined(arg) {\n  return arg == null;\n}\nexports.isNullOrUndefined = isNullOrUndefined;\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\nexports.isNumber = isNumber;\n\nfunction isString(arg) {\n  return typeof arg === 'string';\n}\nexports.isString = isString;\n\nfunction isSymbol(arg) {\n  return typeof arg === 'symbol';\n}\nexports.isSymbol = isSymbol;\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\nexports.isUndefined = isUndefined;\n\nfunction isRegExp(re) {\n  return isObject(re) && objectToString(re) === '[object RegExp]';\n}\nexports.isRegExp = isRegExp;\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\nexports.isObject = isObject;\n\nfunction isDate(d) {\n  return isObject(d) && objectToString(d) === '[object Date]';\n}\nexports.isDate = isDate;\n\nfunction isError(e) {\n  return isObject(e) &&\n      (objectToString(e) === '[object Error]' || e instanceof Error);\n}\nexports.isError = isError;\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\nexports.isFunction = isFunction;\n\nfunction isPrimitive(arg) {\n  return arg === null ||\n         typeof arg === 'boolean' ||\n         typeof arg === 'number' ||\n         typeof arg === 'string' ||\n         typeof arg === 'symbol' ||  // ES6 symbol\n         typeof arg === 'undefined';\n}\nexports.isPrimitive = isPrimitive;\n\nexports.isBuffer = require('./support/isBuffer');\n\nfunction objectToString(o) {\n  return Object.prototype.toString.call(o);\n}\n\n\nfunction pad(n) {\n  return n < 10 ? '0' + n.toString(10) : n.toString(10);\n}\n\n\nvar months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep',\n              'Oct', 'Nov', 'Dec'];\n\n// 26 Feb 16:19:34\nfunction timestamp() {\n  var d = new Date();\n  var time = [pad(d.getHours()),\n              pad(d.getMinutes()),\n              pad(d.getSeconds())].join(':');\n  return [d.getDate(), months[d.getMonth()], time].join(' ');\n}\n\n\n// log is just a thin wrapper to console.log that prepends a timestamp\nexports.log = function() {\n  console.log('%s - %s', timestamp(), exports.format.apply(exports, arguments));\n};\n\n\n/**\n * Inherit the prototype methods from one constructor into another.\n *\n * The Function.prototype.inherits from lang.js rewritten as a standalone\n * function (not on Function.prototype). NOTE: If this file is to be loaded\n * during bootstrapping this function needs to be rewritten using some native\n * functions as prototype setup using normal JavaScript does not work as\n * expected during bootstrapping (see mirror.js in r114903).\n *\n * @param {function} ctor Constructor function which needs to inherit the\n *     prototype.\n * @param {function} superCtor Constructor function to inherit prototype from.\n */\nexports.inherits = require('inherits');\n\nexports._extend = function(origin, add) {\n  // Don't do anything if add isn't an object\n  if (!add || !isObject(add)) return origin;\n\n  var keys = Object.keys(add);\n  var i = keys.length;\n  while (i--) {\n    origin[keys[i]] = add[keys[i]];\n  }\n  return origin;\n};\n\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\nvar kCustomPromisifiedSymbol = typeof Symbol !== 'undefined' ? Symbol('util.promisify.custom') : undefined;\n\nexports.promisify = function promisify(original) {\n  if (typeof original !== 'function')\n    throw new TypeError('The \"original\" argument must be of type Function');\n\n  if (kCustomPromisifiedSymbol && original[kCustomPromisifiedSymbol]) {\n    var fn = original[kCustomPromisifiedSymbol];\n    if (typeof fn !== 'function') {\n      throw new TypeError('The \"util.promisify.custom\" argument must be of type Function');\n    }\n    Object.defineProperty(fn, kCustomPromisifiedSymbol, {\n      value: fn, enumerable: false, writable: false, configurable: true\n    });\n    return fn;\n  }\n\n  function fn() {\n    var promiseResolve, promiseReject;\n    var promise = new Promise(function (resolve, reject) {\n      promiseResolve = resolve;\n      promiseReject = reject;\n    });\n\n    var args = [];\n    for (var i = 0; i < arguments.length; i++) {\n      args.push(arguments[i]);\n    }\n    args.push(function (err, value) {\n      if (err) {\n        promiseReject(err);\n      } else {\n        promiseResolve(value);\n      }\n    });\n\n    try {\n      original.apply(this, args);\n    } catch (err) {\n      promiseReject(err);\n    }\n\n    return promise;\n  }\n\n  Object.setPrototypeOf(fn, Object.getPrototypeOf(original));\n\n  if (kCustomPromisifiedSymbol) Object.defineProperty(fn, kCustomPromisifiedSymbol, {\n    value: fn, enumerable: false, writable: false, configurable: true\n  });\n  return Object.defineProperties(\n    fn,\n    getOwnPropertyDescriptors(original)\n  );\n}\n\nexports.promisify.custom = kCustomPromisifiedSymbol\n\nfunction callbackifyOnRejected(reason, cb) {\n  // `!reason` guard inspired by bluebird (Ref: https://goo.gl/t5IS6M).\n  // Because `null` is a special error value in callbacks which means \"no error\n  // occurred\", we error-wrap so the callback consumer can distinguish between\n  // \"the promise rejected with null\" or \"the promise fulfilled with undefined\".\n  if (!reason) {\n    var newReason = new Error('Promise was rejected with a falsy value');\n    newReason.reason = reason;\n    reason = newReason;\n  }\n  return cb(reason);\n}\n\nfunction callbackify(original) {\n  if (typeof original !== 'function') {\n    throw new TypeError('The \"original\" argument must be of type Function');\n  }\n\n  // We DO NOT return the promise as it gives the user a false sense that\n  // the promise is actually somehow related to the callback's execution\n  // and that the callback throwing will reject the promise.\n  function callbackified() {\n    var args = [];\n    for (var i = 0; i < arguments.length; i++) {\n      args.push(arguments[i]);\n    }\n\n    var maybeCb = args.pop();\n    if (typeof maybeCb !== 'function') {\n      throw new TypeError('The last argument must be of type Function');\n    }\n    var self = this;\n    var cb = function() {\n      return maybeCb.apply(self, arguments);\n    };\n    // In true node style we process the callback on `nextTick` with all the\n    // implications (stack, `uncaughtException`, `async_hooks`)\n    original.apply(this, args)\n      .then(function(ret) { process.nextTick(cb, null, ret) },\n            function(rej) { process.nextTick(callbackifyOnRejected, rej, cb) });\n  }\n\n  Object.setPrototypeOf(callbackified, Object.getPrototypeOf(original));\n  Object.defineProperties(callbackified,\n                          getOwnPropertyDescriptors(original));\n  return callbackified;\n}\nexports.callbackify = callbackify;\n","import asPolar from \"./_vector/-asPolar\";\r\nimport centre from \"./_vector/-centre\";\r\nimport centreWith from \"./_vector/-centreWith\";\r\nimport getAngleTo from \"./_vector/-getAngleTo\";\r\nimport isCloseTo from \"./_vector/-isCloseTo\";\r\nimport { isVector, isVectorArray } from \"./_vector/-isVector\"\r\nimport { rotateM, rotateS } from \"./_vector/-rotate\";\r\nimport { scaleMapS, scaleWithM, scaleWithS } from \"./_vector/-scaleWith\";\r\nimport standardise from \"./_vector/-standardise\";\r\nimport sum from \"./_vector/-sum\";\r\nimport { sumWithM, sumWithS } from \"./_vector/-sumWith\";\r\nimport { subSumS, subSumM } from \"./_vector/-subSum\";\r\nimport { roundS, roundM } from \"./_vector/-round\";\r\n\r\nexport type Vector = { x: number, y: number };\r\nexport type LVector = Vector;\r\nexport type UVector = { X: number, Y: number };\r\nexport type AVector = [number, number];\r\nexport type AnyVector = LVector | UVector | AVector;\r\n\r\n// TODO: Refactor using tuple unpacking stuff\r\nconst singleExtension = (inVector: Vector) => {\r\n   return {\r\n      vector: inVector,\r\n      x: inVector.x,\r\n      y: inVector.y,\r\n      getAngleTo: getAngleTo(inVector),\r\n      asPolar: asPolar(inVector),\r\n      isCloseTo: isCloseTo(inVector),\r\n\r\n      sumWith: sumWithS(inVector),\r\n      subSum: subSumS(inVector),\r\n      scaleWith: scaleWithS(inVector),\r\n      scaleMap: scaleMapS(inVector),\r\n      centreWith: centreWith(inVector),\r\n      rotate: rotateS(inVector),\r\n      round: roundS(inVector)\r\n   }\r\n}\r\n\r\nconst multiExtension = (inVectors: Vector[]) => {\r\n   return {\r\n      vectors: inVectors,\r\n      sum: sum(inVectors),\r\n      sumWith: sumWithM(inVectors),\r\n      subSum: subSumM(inVectors),\r\n      scaleWith: scaleWithM(inVectors),\r\n      rotate: rotateM(inVectors),\r\n      centre: centre(inVectors),\r\n      round: roundM(inVectors),\r\n   }\r\n}\r\n\r\ntype SingleVectorInterface = ReturnType<typeof singleExtension>;\r\ntype MultiVectorInterface = ReturnType<typeof multiExtension>;\r\n\r\nfunction vectorFunction(inVectors: AnyVector|number): SingleVectorInterface;\r\nfunction vectorFunction(inVectors: AnyVector[]): MultiVectorInterface;\r\nfunction vectorFunction(inVectors: AnyVector, ...moreVectors: AnyVector[]): MultiVectorInterface;\r\nfunction vectorFunction<A extends AnyVector | AnyVector[] | number>(inVectors: A, ...moreVectors: AnyVector[]\r\n): SingleVectorInterface | MultiVectorInterface {\r\n   // const vectorsAsArray = ((inVectors instanceof Array) ? inVectors : [inVectors]) as Array<T>;\r\n   // const moreVectorsAsArray = (moreVectors !== undefined) ? moreVectors : [];\r\n\r\n   const vCopy = standardise(inVectors, ...moreVectors);\r\n\r\n   const ext = (vCopy instanceof Array)\r\n      ? multiExtension(vCopy)\r\n      : singleExtension(vCopy);\r\n\r\n\r\n   return Object.assign({}, ext) as (\r\n      ((A & typeof moreVectors) extends Array<AnyVector> ?\r\n         MultiVectorInterface :\r\n         SingleVectorInterface)\r\n   );\r\n}\r\nconst vectorObject = {\r\n   sumWith: sumWithS,\r\n   subSum: subSumS,\r\n   scaleWith: scaleWithS,\r\n   getAngleTo: getAngleTo,\r\n   isCloseTo: isCloseTo,\r\n   centreWith: centreWith,\r\n   rotate: rotateS,\r\n   round: roundS,\r\n   asPolar: asPolar,\r\n   standardise: standardise,\r\n   isVector: isVector,\r\n   isVectorArray: isVectorArray,\r\n}\r\n\r\nconst vector = Object.assign(vectorFunction, vectorObject);\r\n\r\nexport default vector;\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import { Vector } from \"../-vector\";\r\nimport radiansToDegrees from \"../utility/-radiansToDegrees\"\r\nexport default function asPolar<T extends Vector>(inVector: T) {\r\n   return () => {\r\n      return {\r\n         radius: Math.sqrt(Math.pow(inVector.x, 2) + Math.pow(inVector.y, 2)),\r\n         angle: radiansToDegrees(Math.atan2(inVector.y, inVector.x))\r\n      };\r\n   }\r\n}\r\n\r\n","import vector, { Vector } from \"../-vector\";\r\nexport default function centre(inVectors: Vector[]) {\r\n   return () => {\r\n      let sum: Vector = { x: 0, y: 0 };\r\n      let count = 0;\r\n\r\n      inVectors.forEach(inVector => {\r\n         count += 1;\r\n         sum.x += inVector.x;\r\n         sum.y += inVector.y;\r\n      })\r\n\r\n      const mean = {\r\n         x: sum.x / count,\r\n         y: sum.y / count\r\n      }\r\n\r\n      return vector(mean)\r\n   }\r\n}\r\n\r\n\r\n\r\n","import vector, { Vector } from \"../-vector\";\r\n// TODO, THERE IS SOMETHING WRONG HERE\r\nexport default function centreWith<T extends Vector>(inVector: T) {\r\n   return (...vectors: (Vector | Vector[])[]) => {\r\n      let sum: Vector = { x: 0, y: 0 };\r\n      let count = 0;\r\n      vectors.forEach(vectorSet => {\r\n         let asArray = vectorSet instanceof Array ? vectorSet : [vectorSet]\r\n         asArray.forEach(vector => {\r\n            count += 1;\r\n            sum.x += vector.x;\r\n            sum.y += vector.y;\r\n         });\r\n      })\r\n\r\n      const mean = {\r\n         x: sum.x / count,\r\n         y: sum.y / count\r\n      }\r\n\r\n      return vector(mean)\r\n   }\r\n}\r\n\r\n\r\n\r\n","import { Vector } from \"../-vector\";\r\nexport default function getAngleTo<T extends Vector>(inVector: T) {\r\n   return (compareVector: Vector) => {\r\n      return Math.atan2(compareVector.y - inVector.y, compareVector.x - inVector.x) * 180 / Math.PI;\r\n   }\r\n}\r\n\r\n","import { Vector } from \"../-vector\";\r\nexport default function isCloseTo(inVector: Vector) {\r\n   return (compareVector: Vector, boundary: number = 5) => {\r\n\r\n      const vectorXisClose = (Math.abs(inVector.x - compareVector.x) < boundary);\r\n      const vectorYisClose = (Math.abs(inVector.y - compareVector.y) < boundary);\r\n      return (vectorXisClose && vectorYisClose)\r\n   }\r\n}\r\n","import { Vector, AnyVector, UVector } from \"../-vector\";\r\n\r\nexport function isVector(inVector: any): inVector is AnyVector {\r\n   return inVector && (isLVector(inVector) || isUVector(inVector));\r\n}\r\n\r\nexport function isVectorArray(inVectors: any): inVectors is AnyVector[] {\r\n   return (\r\n      inVectors instanceof Array &&\r\n      inVectors.every(isVector)\r\n   );\r\n}\r\n\r\nexport function isLVector(inVector: any): inVector is Vector {\r\n   return (\r\n      (typeof inVector.x === 'number') &&\r\n      (typeof inVector.y === 'number')\r\n   );\r\n}\r\n\r\nexport function isUVector(inVector: any): inVector is UVector {\r\n   return (\r\n      (typeof inVector.X === 'number') &&\r\n      (typeof inVector.Y === 'number')\r\n   );\r\n}\r\n","import vector, { Vector } from \"../-vector\";\r\n\r\nexport function rotateS(inVector: Vector) {\r\n   return (angle: number) => {\r\n      return vector(curriedRotate(angle)(inVector));\r\n   }\r\n}\r\n\r\nexport function rotateM(inVectors: Vector[]) {\r\n   return (angle: number) => {\r\n      return vector(inVectors.map(curriedRotate(angle)));\r\n   }\r\n}\r\n\r\nfunction curriedRotate(angle: number) {\r\n   const radians = (Math.PI / 180) * angle;\r\n   const cos = Math.cos(radians);\r\n   const sin = Math.sin(radians);\r\n   return (inVector: Vector): Vector => {\r\n      return {\r\n         x: (cos * inVector.x) - (sin * inVector.y),\r\n         y: (cos * inVector.y) + (sin * inVector.x)\r\n      };\r\n   }\r\n}\r\n","import vector, { Vector } from \"../-vector\";\r\nexport function roundS<T extends Vector>(inVector: T) {\r\n   return (to: Vector | number = 1) => {\r\n      const t: Vector = typeof to === \"number\" ? { x: to, y: to } : to;\r\n      return vector({\r\n         x: Math.round(inVector.x / (t.x)) * (t.x),\r\n         y: Math.round(inVector.y / (t.y)) * (t.y)\r\n      })\r\n   }\r\n}\r\n\r\nexport function roundM<T extends Vector>(inVectors: T[]) {\r\n   return (to: Vector | number = 1) => {\r\n      const t: Vector = typeof to === \"number\" ? { x: to, y: to } : to;\r\n      return vector(inVectors.map(inVector => ({\r\n         x: Math.round(inVector.x / (t.x)) * (t.x),\r\n         y: Math.round(inVector.y / (t.y)) * (t.y)\r\n      })));\r\n   };\r\n}\r\n\r\n\r\n","import vector, { Vector } from \"../-vector\";\r\ntype PartialVector = Partial<Vector>;\r\n\r\nexport function scaleWithS(inVector: Vector) {\r\n   return (scaleIn: PartialVector | number) => {\r\n      const scaleVector = (typeof scaleIn === \"number\") ? { x: scaleIn, y: scaleIn } : scaleIn;\r\n      return vector(scale(inVector, scaleVector));\r\n   };\r\n}\r\n\r\nexport function scaleMapS(inVector: Vector) {\r\n   return (scaleIns: (PartialVector | number)[]) => {\r\n      return vector(scaleIns.map(scaleIn => {\r\n         const scaleVector = (typeof scaleIn === \"number\") ? { x: scaleIn, y: scaleIn } : scaleIn;\r\n         return scale(inVector, scaleVector);\r\n      }))\r\n   };\r\n}\r\n\r\nexport function scaleWithM(inVectors: Vector[]) {\r\n   return (scaleIn: PartialVector | number) => {\r\n      const scaleVector = (typeof scaleIn === \"number\") ? { x: scaleIn, y: scaleIn } : scaleIn;\r\n      return vector(inVectors.map(a => {\r\n         return scale(a, scaleVector);\r\n      }));\r\n   }\r\n}\r\n\r\nfunction scale(a: Vector, b: PartialVector) {\r\n   let bV: Vector = {\r\n      x: ((b.x !== undefined) ? b.x : 1),\r\n      y: ((b.y !== undefined) ? b.y : 1)\r\n   }\r\n   return {\r\n      x: a.x * bV.x,\r\n      y: a.y * bV.y\r\n   }\r\n}\r\n\r\n\r\n","import { Vector, AnyVector } from \"../-vector\";\r\nimport { isLVector, isUVector, isVectorArray } from \"./-isVector\"\r\n\r\nexport default function standardise(inVector: AnyVector): Vector;\r\nexport default function standardise(inVector: number): Vector;\r\nexport default function standardise(inVectors: AnyVector[]): Vector[];\r\nexport default function standardise(inVector: AnyVector, ...moreVectors: AnyVector[]): Vector[];\r\nexport default function standardise(inVectors: AnyVector | AnyVector[] | number, ...moreVectors: AnyVector[]): Vector | Vector[];\r\nexport default function standardise(inVectors: AnyVector | AnyVector[] | number, ...moreVectors: AnyVector[]): Vector | Vector[] {\r\n\r\n   if (typeof inVectors === \"number\") {\r\n      return { x: inVectors, y: inVectors };\r\n   }\r\n\r\n   const vectorsAsArray = ((isVectorArray(inVectors)) ? inVectors : [inVectors]) as Array<AnyVector>;\r\n   const moreVectorsAsArray = ((moreVectors !== undefined) ? moreVectors : []) as Array<AnyVector>;\r\n\r\n   const standardised = (vectorsAsArray.concat(moreVectorsAsArray)).map(inVector => {\r\n      if (isLVector(inVector)) {\r\n         return { x: inVector.x, y: inVector.y };\r\n      } else if (isUVector(inVector)) {\r\n         return { x: inVector.X, y: inVector.Y };\r\n      } else if (inVector instanceof Array && (typeof inVector[0] === \"number\") && (typeof inVector[1] === \"number\")) {\r\n         return { x: inVector[0], y: inVector[1] };\r\n      } else {\r\n            //TODO \r\n            /*LOGSTART*/console.error(\"IS NOT A VECTOR\")/*LOGEND*/\r\n         return { x: NaN, y: NaN };\r\n      }\r\n   });\r\n\r\n   if (standardised.length > 1 || isVectorArray(inVectors)) {\r\n      return standardised;\r\n   } else {\r\n      return standardised[0]\r\n   }\r\n}\r\n\r\n","import vector, { Vector } from \"../-vector\";\r\n\r\nexport function subSumS(inVector: Vector) {\r\n   return (...sumVectors: Partial<Vector>[]) => {\r\n      return vector(sub(inVector, sum(sumVectors)));\r\n   };\r\n}\r\n\r\nexport function subSumM(inVectors: Vector[]) {\r\n   return (...sumVectors: Partial<Vector>[]) => {\r\n      let b = sum(sumVectors)\r\n      return vector(inVectors.map(a => {\r\n         return sub(a, b);\r\n      }));\r\n   }\r\n}\r\n\r\nfunction add(a: Partial<Vector>, b: Partial<Vector>) {\r\n   return {\r\n      x: (a.x || 0) + (b.x || 0),\r\n      y: (a.y || 0) + (b.y || 0)\r\n   }\r\n}\r\n\r\nfunction sub(a: Partial<Vector>, b: Partial<Vector>) {\r\n   return {\r\n      x: (a.x || 0) - (b.x || 0),\r\n      y: (a.y || 0) - (b.y || 0)\r\n   }\r\n}\r\n\r\nfunction sum(inVectors: Partial<Vector>[]) {\r\n   let sum: Vector = { x: 0, y: 0 };\r\n   inVectors.forEach(inVector => {\r\n      sum = add(sum, inVector)\r\n   });\r\n   return sum;\r\n}\r\n\r\n\r\n","import vector, { Vector } from \"../-vector\";\r\nexport default function sum(inVectors: Vector[]) {\r\n   return () => {\r\n      let sum: Vector = { x: 0, y: 0 };\r\n      inVectors.forEach(inVector => {\r\n         sum.x += inVector.x;\r\n         sum.y += inVector.y;\r\n      })\r\n      return vector(sum);\r\n   }\r\n}\r\n\r\n","import vector, { Vector } from \"../-vector\";\r\n\r\nexport function sumWithS(inVector: Vector) {\r\n   return (...sumVectors: Partial<Vector>[]) => {\r\n      return vector(add(inVector, sum(sumVectors)));\r\n   };\r\n}\r\n\r\nexport function sumWithM(inVectors: Vector[]) {\r\n   return (...sumVectors: Partial<Vector>[]) => {\r\n      let b = sum(sumVectors)\r\n      return vector(inVectors.map(a => {\r\n         return add(a, b);\r\n      }));\r\n   }\r\n}\r\n\r\nfunction add(a: Partial<Vector>, b: Partial<Vector>) {\r\n   return {\r\n      x: (a.x || 0) + (b.x || 0),\r\n      y: (a.y || 0) + (b.y || 0)\r\n   }\r\n}\r\n\r\nfunction sum(inVectors: Partial<Vector>[]) {\r\n   let sum: Vector = { x: 0, y: 0 };\r\n   inVectors.forEach(inVector => {\r\n      sum = add(sum, inVector)\r\n   });\r\n   return sum;\r\n}\r\n\r\n\r\n","import { Vector } from \"../-vector\";\r\nimport getMaker from \"./generics/-getMaker\"\r\nexport namespace Types {\r\n   export interface properties {\r\n   };\r\n\r\n   export interface state {};\r\n\r\n   export interface insertionFunction {\r\n      (group: SVGGElement, target: SVGGElement, ...any: any[]): void;\r\n   }\r\n\r\n   export interface loadFunction<R extends Component | Component[]= Component> {\r\n      (raw: any): R;\r\n   }\r\n\r\n   export interface connectionFunction {\r\n      (component: Component): connector[][];\r\n   }\r\n\r\n   export interface map {\r\n      savename: string;\r\n      diagramType: \"layout\" | \"schematic\";\r\n      instance: { new(properties: any, states: any): Component };\r\n      make: ReturnType<typeof getMaker>;\r\n      load: Types.loadFunction<Component | Component[]>;\r\n      correspondsTo?: map;\r\n      isUnique?: boolean;\r\n      isBoard?: boolean;\r\n   }\r\n\r\n   export type connectorTypes = \"pin\" | \"hole\" | \"brokenhole\" | \"node\";\r\n   export interface connector<T extends connectorTypes = connectorTypes> {\r\n      name: string;\r\n      type: T;\r\n      point: Vector;\r\n      component: Component;\r\n      symbol?: string;\r\n   }\r\n\r\n   export interface hole extends connector {\r\n      type: \"hole\" | \"brokenhole\"\r\n   };\r\n\r\n   export interface node extends connector {\r\n      type: \"node\"\r\n   };\r\n\r\n}\r\n\r\nimport { group } from \"../svg/element/+group\";\r\nimport Insert from \"../utility/~insert\";\r\nimport deepCopy from \"../utility/-deepCopy\";\r\n\r\nexport default interface Component<\r\n   F extends \"schematic\" | \"layout\" = \"schematic\" | \"layout\",\r\n   P extends Types.properties = Types.properties, \r\n   S extends Types.state = Types.state> {\r\n   type: string;\r\n   form: F\r\n   group: group;\r\n   properties: P;\r\n   states: S;\r\n\r\n   draw(): void;\r\n\r\n   \r\n   getConnectors(): Types.connector[][];\r\n\r\n   transferFunction(from: Types.connector): Types.connector[];\r\n\r\n   flags: {\r\n      order: \"back\" | \"mid\" | \"fore\";\r\n      disabled: boolean;\r\n   }\r\n}\r\n\r\ntype copyable<T extends {copy?: (()=>T)}> = T&{ copy?: (()=>T) }\r\n\r\nexport function insert(component: Component, target?: Element) {\r\n   Insert.before(component.group.element, target, \"marker-\"+component.flags.order);\r\n}\r\n\r\n\r\nexport function getProperties<C extends { properties: copyable<C[\"properties\"]> }>(component: C): C[\"properties\"] {\r\n   if (component.properties.copy) return component.properties.copy()\r\n   return deepCopy(component.properties)\r\n}\r\n\r\nexport function getStates<C extends { states: copyable<C[\"states\"]> }>(component: C): C[\"states\"] {\r\n   if (component.states.copy) return component.states.copy()\r\n   return deepCopy(component.states)\r\n}\r\n\r\nexport function getFlags<C extends { flags: copyable<C[\"flags\"]> }>(component: C): C[\"flags\"] {\r\n   if (component.flags.copy) return component.flags.copy()\r\n   return deepCopy(component.flags)\r\n}","//TODO FOLDER STRUCTURE\r\nimport Root from \"../svg/+root\"\r\nimport Events from \"./events\";\r\nexport default class Diagram {\r\n   // For Self\r\n   root = new Root();\r\n   group = this.root.group;\r\n\r\n   // Make and draw this\r\n   constructor(node: HTMLDivElement) {\r\n      this.root.draw(node);\r\n      $(this.root.element.element).addClass(\"draggable\")\r\n      $(this.root.element.element).on(Events.drag, (e, drag) => {\r\n         if (e.target === this.root.element.element) {\r\n            this.root.group.translate(drag);\r\n         }\r\n      })\r\n   }\r\n}\r\n","import { historystate, participant, event } from \"./types\";\r\nimport { getStates, getFlags } from \"../+component\";\r\nexport default function addEvent(state: historystate, ...participants: participant[]): historystate {\r\n\r\n   // Discard events after the current one if they exist\r\n   const currentIdx = state.currentIdx + 1, lastIdx = currentIdx;\r\n   const previousEvents: event[] = state.events.slice(0, lastIdx);\r\n\r\n   // Create new event\r\n   const newEvent: event = participants.map(participant => ({\r\n      participant,\r\n      states: getStates(participant),\r\n      flags: getFlags(participant)\r\n   }));\r\n\r\n   // Return new state\r\n   const events: event[] = [...previousEvents, newEvent]\r\n   return { events, currentIdx, lastIdx }\r\n}\r\n","import init from \"./-init\";\r\nimport addEvent from \"./-addEvent\";\r\nimport undoEvent from \"./-undoEvent\";\r\nimport redoEvent from \"./-redoEvent\";\r\nimport mergeEvents from \"./-mergeEvents\";\r\nimport { historystate, participant } from \"./types\";\r\n\r\nexport default function factory(...initialParticipants: participant[]) {\r\n   let state = init(...initialParticipants);\r\n   return {\r\n      reInit(...participants: participant[]) {\r\n         state = init(...participants);\r\n      },\r\n      add(...participants: participant[]) {\r\n         state = addEvent(state, ...participants);\r\n      },\r\n      undo() {\r\n         state = undoEvent(state);\r\n      },\r\n      redo() {\r\n         state = redoEvent(state);\r\n      },\r\n      mergeLast(mergeCount: number = 1) {\r\n         state = mergeEvents(state, mergeCount);\r\n      },\r\n      getState(): historystate {\r\n         return { ...state, events: [...state.events] };\r\n      }\r\n   }\r\n}\r\n\r\n","import { historystate, participant, event } from \"./types\";\r\nimport addEvent from \"./-addEvent\";\r\nexport default function init(...participants: participant[]): historystate {\r\n   // Clear events, and reset indices\r\n   const events: event[] = [];\r\n   const currentIdx = -1, lastIdx = -1;\r\n   // Add an initial event\r\n   return addEvent({ events, currentIdx, lastIdx }, ...participants);\r\n}\r\n","import { historystate, event } from \"./types\";\r\nexport default function mergeEvents(state: historystate, mergeCount: number): historystate {\r\n   const mergeStartIdx = Math.max(0, state.lastIdx - mergeCount);\r\n   const eventsToMerge = state.events.slice(mergeStartIdx);\r\n   const previousEvents = state.events.slice(0, mergeStartIdx);\r\n\r\n   const mergedEvent: event = [];\r\n   eventsToMerge.forEach(event => {\r\n      event.forEach(dev => {\r\n         if (!mergedEvent.some(mDev => mDev.participant === dev.participant)) {\r\n            mergedEvent.push(dev);\r\n         }\r\n      })\r\n   });\r\n\r\n   const events = [...previousEvents, mergedEvent]\r\n   const lastIdx = mergeStartIdx;\r\n   const currentIdx = (state.currentIdx > lastIdx)\r\n      ? lastIdx\r\n      : state.currentIdx;\r\n\r\n   return { events, currentIdx, lastIdx }\r\n}\r\n\r\n","import { historystate, event } from \"./types\";\r\n//TODO: Remove Events dependancy\r\nimport Events from \"../events\";\r\nimport { getStates, getFlags } from \"../+component\";\r\nexport default function redoEvent(state: historystate): historystate {\r\n   if (state.currentIdx >= state.lastIdx) return state;\r\n\r\n   // Go forward one event\r\n   const currentIdx = state.currentIdx + 1;\r\n\r\n   const currentEvent = state.events[currentIdx];\r\n\r\n   // Get the current state of all participants that will be reverted\r\n   const undoEvent = currentEvent.map(development => development.participant).map(participant => ({\r\n      participant,\r\n      states: getStates(participant),\r\n      flags: getFlags(participant)\r\n   }));\r\n\r\n   // Unrevert the current participants\r\n   currentEvent.forEach(development => {\r\n      Object.assign(development.participant.states, development.states);\r\n      Object.assign(development.participant.flags, development.flags);\r\n      if (development.participant.group) {\r\n         $(development.participant.group.element).trigger(Events.place);\r\n      }\r\n   });\r\n\r\n   // Replace the redone event with an event to undo it\r\n   const previousEvents: event[] = state.events.slice(0, currentIdx);\r\n   const nextEvents: event[] = state.events.slice(currentIdx + 1);\r\n   const events = [...previousEvents, undoEvent, ...nextEvents];\r\n\r\n   return { events, currentIdx, lastIdx: state.lastIdx }\r\n}\r\n","import { historystate, event } from \"./types\";\r\n//import * as $ from 'jquery';\r\n//TODO: Remove Events dependancy\r\nimport Events from \"../events\";\r\nimport { getStates, getFlags } from \"../+component\";\r\nexport default function undoEvent(state: historystate): historystate {\r\n   if (state.currentIdx <= 0) return state;\r\n\r\n   const currentEvent = state.events[state.currentIdx];\r\n\r\n   // Get the current state of all participants that will be reverted\r\n   const redoEvent = currentEvent.map(development => development.participant).map(participant => ({\r\n      participant,\r\n      states: getStates(participant),\r\n      flags: getFlags(participant)\r\n   }));\r\n\r\n   // Revert the current participants\r\n   currentEvent.forEach(development => {\r\n      Object.assign(development.participant.states, development.states);\r\n      Object.assign(development.participant.flags, development.flags);\r\n      if (development.participant.group) {\r\n         $(development.participant.group.element).trigger(Events.draw);\r\n      }\r\n   });\r\n\r\n   // Replace the undone event with an event to redo it\r\n   const previousEvents: event[] = state.events.slice(0, state.currentIdx);\r\n   const nextEvents: event[] = state.events.slice(state.currentIdx + 1);\r\n   const events = [...previousEvents, redoEvent, ...nextEvents];\r\n\r\n   // Go back one event\r\n   const currentIdx = state.currentIdx - 1;\r\n\r\n   return { events, currentIdx, lastIdx: state.lastIdx }\r\n}\r\n\r\n\r\n","import { BipolarLayout } from \"./~classes\";\r\nimport vector, { Vector } from \"../../../-vector\";\r\nimport { INDEXBASE, INDEXCOLLECTOR, INDEXEMITTER } from \"./constants\";\r\n\r\nimport { makePath as makePath } from \"../../../svg/element/+path\";\r\nimport { makeText as makeText } from \"../../../svg/element/+text\";\r\nimport { makeGroup as makeGroup } from \"../../../svg/element/+group\";\r\n\r\nexport default function drawLayout(instance: BipolarLayout) {\r\n   const bodyGroup = makeGroup(\"body\");\r\n\r\n   const emitterEnd = instance.states.joints[INDEXEMITTER];\r\n   const collectorEnd = instance.states.joints[INDEXCOLLECTOR];\r\n   const baseEnd = instance.states.joints[INDEXBASE];\r\n\r\n   const centre = vector(emitterEnd, collectorEnd, baseEnd).centre().vector;\r\n   const rotation = vector(emitterEnd).getAngleTo(baseEnd);\r\n\r\n   const [emitterStart, collectorStart, baseStart]: Vector[] = vector(\r\n      { x: - 12, y: 3 }, { x: 0, y: -2 }, { x: 12, y: 3 }\r\n   ).rotate(rotation).sumWith(centre).vectors;\r\n\r\n   const joints = [\r\n      [emitterStart, emitterEnd],\r\n      [collectorStart, collectorEnd],\r\n      [baseStart, baseEnd],\r\n   ]\r\n\r\n   const semiCircleString =\r\n      \"M \" + (16) + \" \" + (4) +\r\n      \"a \" + (1) + \" \" + (1) + \" \" + (0) + \" \" + (0) + \" \" + (0) + \" \" + (-32) + \" \" + (0) +\r\n      \"v \" + (3) +\r\n      \"h \" + (32) +\r\n      \"v \" + (-3) +\r\n      \"Z\";\r\n\r\n   bodyGroup.append(\r\n      makePath(semiCircleString, \"body highlight\"),\r\n      makeText(instance.properties.type, { x: 0, y: 4 }, \"text\")\r\n   );\r\n\r\n   return [\r\n      makePath(joints, \"lead\"),\r\n      bodyGroup.translate(centre).rotate(rotation),\r\n      makePath(joints, \"leadguide\")\r\n   ];\r\n}","import getStandardForm from \"../../../utility/-getStandardForm\";\r\nimport vector, { Vector } from \"../../../-vector\";\r\nimport { BipolarSchematic } from \"./~classes\";\r\nimport { INDEXBASE, INDEXCOLLECTOR, INDEXEMITTER } from \"./constants\";\r\n\r\nimport { makePath as makePath } from \"../../../svg/element/+path\";\r\nimport { makeText as makeText } from \"../../../svg/element/+text\";\r\nimport { makeGroup as makeGroup } from \"../../../svg/element/+group\";\r\nimport { makeLine as makeLine } from \"../../../svg/element/+line\";\r\nimport { makeCircle as makeCircle } from \"../../../svg/element/+circle\";\r\n\r\nexport default function drawSchematic(instance: BipolarSchematic) {\r\n   const bodyGroup = makeGroup(\"body\");\r\n\r\n   const emitterEnd = instance.states.joints[INDEXEMITTER];\r\n   const collectorEnd = instance.states.joints[INDEXCOLLECTOR];\r\n   const baseEnd = instance.states.joints[INDEXBASE];\r\n\r\n   // Same as vector([{ x: 7, y: 6 }, { x: 7, y: -6 }, { x: -7, y: 0 }, { x: 7, y: 6 }])\r\n   //    .rotate(149 | -31).sumWith({ x: 18, y: -9.2 } | { x: 6, y: -16.4 })\r\n   const arrowJoints = (instance.properties.type === \"PNP\")\r\n      ? [{ x: 15, y: -18 }, { x: 9, y: -7.5 }, { x: 24, y: -5.5 }, { x: 15, y: -18 }]\r\n      : [{ x: 9, y: -7.5 }, { x: 15, y: -18 }, { x: 0, y: -20 }, { x: 9, y: -7.5 }];\r\n\r\n   // The drawings orientation (before transforms) is: \r\n   //   emitter at the top\r\n   //   collector at the bottom\r\n   //   base to the right\r\n   bodyGroup.append(\r\n      //Highlight\r\n      makeCircle({ x: 10, y: 0 }, 30, \"extrathick highlight\"),\r\n      //Base Vertical Bar\r\n      makeLine({ x: 25, y: -15 }, { x: 25, y: +15 }, \"line medium-thick nocap\"),\r\n      //Collector Angled Line\r\n      makeLine({ x: 25, y: -5 }, { x: 0, y: -20 }, \"line thin\"),\r\n      //Emitter Angled Line\r\n      makeLine({ x: 25, y: 5 }, { x: 0, y: 20 }, \"line thin\"),\r\n      //Base Horizontal Line to circle\r\n      makeLine({ x: 25, y: 0 }, { x: 40, y: 0 }, \"line thin\"),\r\n      //Collector Vertical Line to circle\r\n      makeLine({ x: 0, y: -20 }, { x: 0, y: -28 }, \"line thin\"),\r\n      //Emitter Vertical Line to circle\r\n      makeLine({ x: 0, y: 20 }, { x: 0, y: 28 }, \"line thin\"),\r\n      //Arrow\r\n      makePath(arrowJoints, \"body black thin\"),\r\n      //Circle\r\n      makeCircle({ x: 10, y: 0 }, 30, \"line medium nofill\")\r\n   );\r\n\r\n\r\n   // Image centre does not take base into account\r\n   // Is always directly between the emitter and collector\r\n   const centre = vector(emitterEnd, collectorEnd).centre().vector;\r\n\r\n   // all angles are relative to the x-axis, hence in default orientation:\r\n   //   when no rotation is required, angleEmitterCentre = 90, \r\n   const angleCentreBase = vector(centre).getAngleTo(baseEnd);\r\n   const angleEmitterCollector = vector(emitterEnd).getAngleTo(collectorEnd);\r\n\r\n   const rotation = angleEmitterCollector - 90;\r\n\r\n   // Don't ask.\r\n   const scale = (((angleEmitterCollector - angleCentreBase + 360) % 360) > 180)\r\n      ? { x: -1 }\r\n      : { x: 1 };\r\n\r\n   // Only the start of the connections should be transformed, \r\n   // the ends should be absolute.\r\n   // (Hence using vector transforms, not svg transforms)\r\n   const [emitterStart, collectorStart, baseStart]: Vector[] = vector(\r\n      { x: 0, y: -28 }, { x: 0, y: 28 }, { x: 40, y: 0 }\r\n   ).scaleWith(scale).rotate(rotation).sumWith(centre).vectors;\r\n\r\n\r\n   const joints = [\r\n      [emitterStart, emitterEnd],\r\n      [collectorStart, collectorEnd],\r\n      [baseStart, baseEnd],\r\n   ]\r\n\r\n   const text = getStandardForm(instance.properties.currentGain, '')\r\n   const textEl = makeText(text, vector({ x: -40, y: 0 }).scaleWith(scale), \"text\");\r\n\r\n   return [\r\n      bodyGroup.translate(centre).rotate(rotation).scale(scale, false),\r\n      makePath(joints, \"line thin\"),\r\n      textEl.translate(centre).rotatePosition(rotation),\r\n   ];\r\n}\r\n","import makeLayout from \"./-makeLayout\"\r\n\r\nexport default function loadLayout(raw: any) {\r\n   const currentGain = (raw.currentGain);\r\n   const type = (raw.type);\r\n   const joints = (raw.joints);\r\n\r\n   return makeLayout({ currentGain, type, joints });\r\n}\r\n","import makeSchematic from \"./-makeSchematic\";\r\nimport vector, { Vector } from \"../../../-vector\";\r\nimport ValueCheck from \"../~valueCheck\"\r\n\r\nexport default function loadSchematic(raw: any) {\r\n   const currentGain = (raw.currentGain);\r\n   const type = (raw.type);\r\n   // Joints Block\r\n   const orientation = ValueCheck.validate<\"LR\" | \"RL\">([\"LR\", \"RL\"], \"LR\")(raw.orientation);\r\n   const where = ValueCheck.where({ x: 0, y: 0 })(raw.where);\r\n   const joints = (raw.joints || deriveJoints(orientation, type, where));\r\n\r\n   return makeSchematic({ currentGain, type, joints });\r\n}\r\n\r\nconst deriveJoints = (orientation: \"LR\" | \"RL\", type: \"NPN\" | \"PNP\", where: Vector) => {\r\n   const [emitter, collector] = type === \"PNP\"\r\n      ? [{ x: 0, y: -50 }, { x: 0, y: +50 }]\r\n      : [{ x: 0, y: +50 }, { x: 0, y: -50 }];\r\n\r\n   const [base, offset] = orientation === \"LR\"\r\n      ? [{ x: -60, y: 0 }, { x: +10 }]\r\n      : [{ x: +60, y: 0 }, { x: -10 }];\r\n\r\n   return vector([emitter, collector, base]).sumWith(where, offset).vectors;\r\n}\r\n","import ValueCheck from \"../~valueCheck\";\r\nimport * as Types from \"./types\";\r\nimport { BipolarLayout } from \"./~classes\";\r\nimport getMaker from \"../../generics/-getMaker\";\r\nimport { Vector } from \"../../../-vector\";\r\nimport Graphical from \"../addins/graphical\";\r\nimport Draggable from \"../addins/draggable\";\r\nimport Selectable from \"../addins/selectable\";\r\nimport Extendable from \"../addins/extendable\";\r\nimport ConnectionsHighlightable from \"../addins/connectionsHighlightable\";\r\nimport { ComponentDefaulter } from \"../@component\";\r\n\r\nconst defaulterLayout: ComponentDefaulter<Types.bipolar<\"layout\">> = {\r\n   properties: {\r\n      currentGain: ValueCheck.validate(\"number\", 0),\r\n      type: ValueCheck.validate<\"NPN\" | \"PNP\">([\"NPN\", \"PNP\"], \"NPN\")\r\n   },\r\n   states: {\r\n      joints: ValueCheck.joints<[Vector, Vector, Vector]>(\r\n         [{ x: 0, y: 0 }, { x: 20, y: -20 }, { x: 40, y: 0 }]\r\n      )\r\n   }\r\n};\r\n\r\nconst makeLayout = getMaker(BipolarLayout, defaulterLayout,\r\n   Graphical,\r\n   Draggable,\r\n   Selectable,\r\n   Extendable,\r\n   ConnectionsHighlightable\r\n);\r\nexport default makeLayout;\r\n\r\n","import ValueCheck from \"../~valueCheck\";\r\nimport * as Types from \"./types\";\r\nimport { BipolarSchematic } from \"./~classes\";\r\nimport getMaker from \"../../generics/-getMaker\";\r\nimport { Vector } from \"../../../-vector\";\r\nimport Graphical from \"../addins/graphical\";\r\nimport Draggable from \"../addins/draggable\";\r\nimport Selectable from \"../addins/selectable\";\r\nimport Extendable from \"../addins/extendable\";\r\nimport ConnectionsHighlightable from \"../addins/connectionsHighlightable\"\r\nimport { ComponentDefaulter } from \"../@component\";\r\n\r\nconst defaulterSchematic: ComponentDefaulter<Types.bipolar<\"schematic\">> = {\r\n   properties: {\r\n      currentGain: ValueCheck.validate(\"number\", 0),\r\n      type: ValueCheck.validate<\"NPN\" | \"PNP\">([\"NPN\", \"PNP\"], \"NPN\")\r\n   },\r\n   states: {\r\n      joints: ValueCheck.joints<[Vector, Vector, Vector]>(\r\n         [{ x: -50, y: 0 }, { x: +10, y: -50 }, { x: +10, y: +50 }]\r\n      )\r\n   }\r\n};\r\n\r\n\r\nconst makeSchematic = getMaker(BipolarSchematic, defaulterSchematic,\r\n   Selectable,\r\n   ConnectionsHighlightable,\r\n   Graphical,\r\n   Draggable,\r\n   Extendable\r\n);\r\nexport default makeSchematic;","import makeMap from \"../../generics/-makeMap\";\r\nimport { BipolarSchematic, BipolarLayout } from \"./~classes\";\r\nimport makeSchematic from \"./-makeSchematic\";\r\nimport makeLayout from \"./-makeLayout\";\r\nimport loadSchematic from \"./-loadSchematic\";\r\nimport loadLayout from \"./-loadLayout\";\r\n\r\n\r\nconst schematicMap = {\r\n   savename: \"makeBipolar\",\r\n   diagramType: \"schematic\" as const,\r\n   instance: BipolarSchematic,\r\n   make: makeSchematic,\r\n   load: loadSchematic,\r\n}\r\n\r\nconst layoutMap = {\r\n   savename: \"makeLayoutBipolar\",\r\n   diagramType: \"layout\" as const,\r\n   instance: BipolarLayout,\r\n   make: makeLayout,\r\n   load: loadLayout,\r\n}\r\n\r\nconst maps = {\r\n   schematic: makeMap(schematicMap, layoutMap),\r\n   layout: makeMap(layoutMap, schematicMap)\r\n}\r\nexport default maps;","export const INDEXEMITTER = 0;\r\nexport const INDEXCOLLECTOR = 1;\r\nexport const INDEXBASE = 2;\r\n\r\n","import Component, { Types as ComponentTypes } from \"../../+component\";;\r\nimport * as Types from \"./types\";\r\nimport { INDEXBASE, INDEXCOLLECTOR, INDEXEMITTER } from \"./constants\";\r\nimport makeConnector from \"../../generics/-makeConnector\";\r\nimport drawLayout from \"./-drawLayout\";\r\nimport drawSchematic from \"./-drawSchematic\";\r\nimport { makeGroup } from \"../../../svg/element/+group\";\r\n//import * as $ from 'jquery';\r\n\r\nabstract class BipolarBase {\r\n   type = \"bipolar\" as const;\r\n   group = makeGroup();\r\n   properties: Types.properties;\r\n   states: Types.state;\r\n   constructor(properties: Types.properties, states: Types.state) {\r\n      $(this.group.element).addClass(\"component \" + this.type);\r\n      this.properties = properties;\r\n      this.states = states;\r\n   }\r\n\r\n   flags = {\r\n      order: \"fore\" as const,\r\n      disabled: false\r\n   }\r\n\r\n   transferFunction() { return [] };\r\n}\r\n\r\nexport class BipolarSchematic extends BipolarBase implements Component, Types.bipolar<\"schematic\"> {\r\n   form = \"schematic\" as const\r\n   draw() {\r\n      //(Prepend so handles appear on top)\r\n      this.group.prepend(drawSchematic(this));\r\n   }\r\n   getConnectors(): ComponentTypes.connector[][] {\r\n      return [[\r\n         makeConnector(this, \"emitter\", \"node\", this.states.joints[INDEXEMITTER], \"e\"),\r\n         makeConnector(this, \"collector\", \"node\", this.states.joints[INDEXCOLLECTOR], \"c\"),\r\n         makeConnector(this, \"base\", \"node\", this.states.joints[INDEXBASE], \"b\")\r\n      ]];\r\n   }\r\n}\r\n\r\nexport class BipolarLayout extends BipolarBase implements Component, Types.bipolar<\"layout\"> {\r\n   form = \"layout\" as const\r\n   draw() {\r\n      //(Prepend so handles appear on top)\r\n      this.group.prepend(drawLayout(this));\r\n   }\r\n   getConnectors(): ComponentTypes.connector[][] {\r\n      return [[\r\n         makeConnector(this, \"emitter\", \"pin\", this.states.joints[INDEXEMITTER], \"e\"),\r\n         makeConnector(this, \"collector\", \"pin\", this.states.joints[INDEXCOLLECTOR], \"c\"),\r\n         makeConnector(this, \"base\", \"pin\", this.states.joints[INDEXBASE], \"b\")\r\n      ]];\r\n   }\r\n}\r\n\r\n","import { Large } from \"./~classes\";\r\nimport vector from \"../../../-vector\";\r\nimport { INDEXCENTRE, INDEXROTATION } from \"./constants\";\r\n\r\nimport { makePath as makePath } from \"../../../svg/element/+path\";\r\nimport { makeGroup as makeGroup } from \"../../../svg/element/+group\";\r\nimport { makeRect as makeRect } from \"../../../svg/element/+rect\";\r\nimport { makeTextSeq as makeTextSequence } from \"../../../svg/element/groups/+textSequence\";\r\nimport { gridSpacing } from \"../../../~constants\";\r\n\r\nexport default function drawLarge(instance: Large) {\r\n   const bodyGroup = makeGroup(\"body\");\r\n\r\n   const centre = instance.states.joints[INDEXCENTRE];\r\n   const rotationPoint = instance.states.joints[INDEXROTATION];\r\n\r\n   let rotation = vector(centre).getAngleTo(rotationPoint);\r\n\r\n\r\n   const gS = gridSpacing;\r\n\r\n   // Power Rails strings:\r\n   const railPairPathString = [\r\n      \"M\" + (gS * -29.7) + \" \" + (gS * -10.5),\r\n      \"H\" + (gS * -1),\r\n      \"M\" + (gS * +29.7) + \" \" + (gS * -10.5),\r\n      \"H\" + (gS * 1),\r\n      \"M\" + (gS * -29.7) + \" \" + (gS * 7.5),\r\n      \"H\" + (gS * -1),\r\n      \"M\" + (gS * +29.7) + \" \" + (gS * 7.5),\r\n      \"H\" + (gS * 1)\r\n   ].join();\r\n\r\n   const plus = \"m-5 0 h10 m-5 -5 v10 m0 -5\";\r\n\r\n   const plussesPathString = [\r\n      \"M\" + (gS * -30.5) + \" \" + (gS * -10),\r\n      \"M\" + (gS * 30.5) + \" \" + (gS * -10),\r\n      \"M\" + (gS * -30.5) + \" \" + (gS * 8),\r\n      \"M\" + (gS * 30.5) + \" \" + (gS * 8),\r\n      \"\" // Do not remove.     \r\n   ].join(plus);\r\n\r\n   const minus = \"m0 -5 v10 m0 -5\";\r\n\r\n   const minusesPathString = [\r\n      \"M\" + (gS * -30.5) + \" \" + (gS * -11),\r\n      \"M\" + (gS * 30.5) + \" \" + (gS * -11),\r\n      \"M\" + (gS * -30.5) + \" \" + (gS * 7),\r\n      \"M\" + (gS * 30.5) + \" \" + (gS * 7),\r\n      \"\" // Do not remove.  \r\n   ].join(minus);\r\n\r\n\r\n   const size = {\r\n      width: 67 * gS,\r\n      height: 22 * gS\r\n   };\r\n\r\n   bodyGroup.append([\r\n      //Body\r\n      makeRect({ x: 0, y: 0 }, size, { x: 4, y: 4 }, \"body\"),\r\n      //Centre rut\r\n      makeRect({ x: 0, y: 0 }, { width: size.width, height: gS * 0.75, }, { x: 0, y: 0 }, \"rut\"),\r\n      //Body Highlights\r\n      makeRect({ x: 0, y: 0 }, size, { x: 4, y: 4 }, \"body highlight\"),\r\n      //Power rail positives\r\n      makePath(railPairPathString + plussesPathString, \"rail positive\"),\r\n      //Power rail negatives\r\n      makePath(railPairPathString + minusesPathString, \"rail negative\").translate({ x: 0, y: gS * 3 }),\r\n      //Text Left (portrait)\r\n      makeTextSequence({ x: 31.5 * gS - gS / 6, y: -6.5 * gS }, { x: 0, y: gS }, { start: 1, length: 64 }).rotate(90),\r\n      //Text Right (portrait)\r\n      makeTextSequence({ x: 31.5 * gS - gS / 6, y: 6.5 * gS }, { x: 0, y: gS }, { start: 1, length: 64 }).rotate(90),\r\n      //Text Top Left (portrait)\r\n      makeTextSequence({ x: 32.5 * gS - gS / 4, y: -5.5 * gS }, { x: gS, y: 0 }, \"abcde\").rotate(90),\r\n      //Text Bottom Left (portrait)\r\n      makeTextSequence({ x: -32.5 * gS, y: -5.5 * gS }, { x: gS, y: 0 }, \"abcde\").rotate(90),\r\n      //Text Top Right (portrait)\r\n      makeTextSequence({ x: 32.5 * gS - gS / 4, y: 5.5 * gS }, { x: -gS, y: 0 }, \"jihgf\").rotate(90),\r\n      //Text Bottom Right (portrait)\r\n      makeTextSequence({ x: -32.5 * gS, y: 5.5 * gS }, { x: -gS, y: 0 }, \"jihgf\").rotate(90),\r\n   ])\r\n\r\n   return [\r\n      bodyGroup.translate(centre).rotate(rotation)\r\n   ];\r\n}\r\n","import { Small } from \"./~classes\";\r\nimport vector from \"../../../-vector\";\r\nimport { INDEXCENTRE, INDEXROTATION } from \"./constants\";\r\n\r\nimport { makePath as makePath } from \"../../../svg/element/+path\";\r\nimport { makeGroup as makeGroup } from \"../../../svg/element/+group\";\r\nimport { makeRect as makeRect } from \"../../../svg/element/+rect\";\r\nimport { makeTextSeq as makeTextSequence } from \"../../../svg/element/groups/+textSequence\";\r\n\r\nimport { gridSpacing } from \"../../../~constants\";\r\n\r\nexport default function drawSmall(instance: Small) {\r\n   const bodyGroup = makeGroup(\"body\");\r\n\r\n   const centre = instance.states.joints[INDEXCENTRE];\r\n   const rotationPoint = instance.states.joints[INDEXROTATION];\r\n\r\n   let rotation = vector(centre).getAngleTo(rotationPoint);\r\n\r\n\r\n   const gS = gridSpacing;\r\n\r\n   // Power Rails strings:\r\n   const railPairPathString = [\r\n      \"M\" + (gS * -14.2) + \" \" + (gS * -10.5),\r\n      \"H\" + (gS * 14.2),\r\n      \"M\" + (gS * -14.2) + \" \" + (gS * 7.5),\r\n      \"H\" + (gS * 14.2)\r\n   ].join();\r\n\r\n   const plus = \"m-5 0 h10 m-5 -5 v10 m0 -5\";\r\n\r\n   const plussesPathString = [\r\n      \"M\" + (gS * -15) + \" \" + (gS * -10),\r\n      \"M\" + (gS * 15) + \" \" + (gS * -10),\r\n      \"M\" + (gS * -15) + \" \" + (gS * 8),\r\n      \"M\" + (gS * 15) + \" \" + (gS * 8),\r\n      \"\" // Do not remove.     \r\n   ].join(plus);\r\n\r\n   const minus = \"m0 -5 v10 m0 -5\";\r\n\r\n   const minusesPathString = [\r\n      \"M\" + (gS * -15) + \" \" + (gS * -11),\r\n      \"M\" + (gS * 15) + \" \" + (gS * -11),\r\n      \"M\" + (gS * -15) + \" \" + (gS * 7),\r\n      \"M\" + (gS * 15) + \" \" + (gS * 7),\r\n      \"\" // Do not remove.  \r\n   ].join(minus);\r\n\r\n\r\n   const size = {\r\n      width: 32 * gS,\r\n      height: 22 * gS\r\n   };\r\n\r\n   bodyGroup.append([\r\n      //Body\r\n      makeRect({ x: 0, y: 0 }, size, { x: 4, y: 4 }, \"body\"),\r\n      //Centre rut\r\n      makeRect({ x: 0, y: 0 }, { width: size.width, height: gS * 0.75, }, { x: 0, y: 0 }, \"rut\"),\r\n      //Body Highlights\r\n      makeRect({ x: 0, y: 0 }, size, { x: 4, y: 4 }, \"body highlight\"),\r\n      //Power rail positives\r\n      makePath(railPairPathString + plussesPathString, \"rail positive\"),\r\n      //Power rail negatives\r\n      makePath(railPairPathString + minusesPathString, \"rail negative\").translate({ x: 0, y: gS * 3 }),\r\n      //Text Left (portrait)\r\n      makeTextSequence({ x: 14.5 * gS - gS / 6, y: -6.5 * gS }, { x: 0, y: gS }, { start: 1, length: 30 }).rotate(90),\r\n      //Text Right (portrait)\r\n      makeTextSequence({ x: 14.5 * gS - gS / 6, y: 6.5 * gS }, { x: 0, y: gS }, { start: 1, length: 30 }).rotate(90),\r\n      //Text Top Left (portrait)\r\n      makeTextSequence({ x: 15.5 * gS - gS / 4, y: -5.5 * gS }, { x: gS, y: 0 }, \"abcde\").rotate(90),\r\n      //Text Bottom Left (portrait)\r\n      makeTextSequence({ x: -15.5 * gS, y: -5.5 * gS }, { x: gS, y: 0 }, \"abcde\").rotate(90),\r\n      //Text Top Right (portrait)\r\n      makeTextSequence({ x: 15.5 * gS - gS / 4, y: 5.5 * gS }, { x: -gS, y: 0 }, \"jihgf\").rotate(90),\r\n      //Text Bottom Right (portrait)\r\n      makeTextSequence({ x: -15.5 * gS, y: 5.5 * gS }, { x: -gS, y: 0 }, \"jihgf\").rotate(90),\r\n   ])\r\n\r\n   return [\r\n      bodyGroup.translate(centre).rotate(rotation)\r\n   ];\r\n}\r\n\r\n","import makeLarge from \"./-makeLarge\"\r\n\r\nexport default function loadLarge(raw: any) {\r\n   const joints = (raw.joints);\r\n\r\n   return makeLarge({ joints });\r\n}\r\n","import makeSmall from \"./-makeSmall\"\r\n\r\nexport default function loadSmall(raw: any) {\r\n   const joints = (raw.joints);\r\n\r\n   return makeSmall({ joints });\r\n}","import ValueCheck from \"../~valueCheck\";\r\nimport * as Types from \"./types\";\r\nimport { Large } from \"./~classes\";\r\nimport getMaker from \"../../generics/-getMaker\";\r\nimport { Vector } from \"../../../-vector\";\r\nimport Graphical from \"../addins/graphical\";\r\nimport Draggable from \"../addins/draggable\";\r\nimport Selectable from \"../addins/selectable\";\r\nimport Board from \"../addins/board\";\r\nimport WiresCreatable from \"../addins/wiresCreatable\"\r\nimport { ComponentDefaulter } from \"../@component\";\r\n\r\nconst defaulterLarge: ComponentDefaulter<Types.breadboard<\"layout\">> = {\r\n   properties: {\r\n\r\n   },\r\n   states: {\r\n      joints: ValueCheck.joints<[Vector, Vector]>(\r\n         [{ x: 0, y: 0 }, { x: 20, y: 0 }]\r\n      ),\r\n   }\r\n};\r\n\r\nconst makeLarge = getMaker<Large>(Large, defaulterLarge,\r\n   Graphical,\r\n   Board,\r\n   Selectable,\r\n   WiresCreatable,\r\n   Draggable\r\n);\r\nexport default makeLarge;","import ValueCheck from \"../~valueCheck\";\r\nimport * as Types from \"./types\";\r\nimport { Small } from \"./~classes\";\r\nimport getMaker from \"../../generics/-getMaker\";\r\nimport { Vector } from \"../../../-vector\";\r\nimport Graphical from \"../addins/graphical\";\r\nimport Draggable from \"../addins/draggable\";\r\nimport Selectable from \"../addins/selectable\";\r\nimport Board from \"../addins/board\";\r\nimport WiresCreatable from \"../addins/wiresCreatable\";\r\nimport Rotatable from \"../addins/rotatable\";\r\nimport { ComponentDefaulter } from \"../@component\";\r\n\r\nconst defaulterSmall: ComponentDefaulter<Types.breadboard<\"layout\">> = {\r\n   properties: {\r\n\r\n   },\r\n   states: {\r\n      joints: ValueCheck.joints<[Vector, Vector]>(\r\n         [{ x: 0, y: 0 }, { x: 20, y: 0 }]\r\n      ),\r\n   }\r\n};\r\n\r\n\r\nconst makeSmall = getMaker<Small>(Small, defaulterSmall,\r\n   Graphical,\r\n   Board,\r\n   Selectable,\r\n   WiresCreatable,\r\n   Draggable,\r\n   Rotatable\r\n);\r\nexport default makeSmall;","import { Small, Large } from \"./~classes\";\r\nimport { TrackLayout as Track } from \"../_track/~classes\"\r\nimport trackMap from \"../_track/-maps\";\r\nimport vector from \"../../../-vector\";\r\n\r\n\r\nimport { gridSpacing } from \"../../../~constants\";\r\n\r\nexport default function makeTracks(parent: Small, size: \"small\"): Track[];\r\nexport default function makeTracks(parent: Large, size: \"large\"): Track[];\r\nexport default function makeTracks(parent: Small | Large, size: \"small\" | \"large\") {\r\n   return (size === \"small\") ? makeTracksSmall(parent as Small) : makeTracksLarge(parent as Large);\r\n}\r\n\r\nfunction makeTracksSmall(parent: Small): Track[] {\r\n   let tracks: Track[] = [];\r\n\r\n   const gS = gridSpacing;\r\n\r\n   const rotation = vector(parent.states.joints[0]).getAngleTo(parent.states.joints[1]);\r\n\r\n   const powerTrackYPositions = [-9.5, -8.5, 8.5, 9.5];\r\n   for (let y of powerTrackYPositions) {\r\n\r\n      const start = vector({ x: gS * -14, y: y * gS })\r\n         .rotate(rotation)\r\n         .sumWith(parent.states.joints[0]);\r\n\r\n      const step = vector({ x: gS, y: 0 }).rotate(rotation);\r\n\r\n      const track = trackMap.make({\r\n         holeSpacings: [0, 1, 1, 1, 1, 2, 1, 1, 1, 1, 2, 1, 1, 1, 1, 2, 1, 1, 1, 1, 2, 1, 1, 1, 1],\r\n         joints: [start, step]\r\n      }, false);\r\n      tracks.push(track);\r\n   }\r\n\r\n   let mainGridTrackXPositions = [...Array(30).keys()];\r\n   let mainGridTrackYPositions = [-5.5, +1.5];\r\n\r\n   for (let x of mainGridTrackXPositions) {\r\n      for (let y of mainGridTrackYPositions) {\r\n\r\n         const start = vector({ x: (x - 14.5) * gS, y: y * gS })\r\n            .rotate(rotation)\r\n            .sumWith(parent.states.joints[0]);\r\n\r\n         const step = vector({ x: 0, y: gS }).rotate(rotation);\r\n\r\n         let track = trackMap.make({\r\n            holeSpacings: [0, 1, 1, 1, 1],\r\n            joints: [start, step]\r\n         }, false);\r\n         tracks.push(track);\r\n      }\r\n   }\r\n\r\n   return tracks;\r\n}\r\n\r\nfunction makeTracksLarge(parent: Large): Track[] {\r\n   let tracks: Track[] = [];\r\n\r\n   let gS = gridSpacing;\r\n\r\n   let rotation = vector(parent.states.joints[0]).getAngleTo(parent.states.joints[1]);\r\n\r\n\r\n   let powerTrackYPositions = [-9.5, -8.5, 8.5, 9.5];\r\n   let powerTrackXPositions = [-29.5, 1.5];\r\n   for (let x of powerTrackXPositions) {\r\n      for (let y of powerTrackYPositions) {\r\n\r\n         const start = vector({ x: x * gS, y: y * gS })\r\n            .rotate(rotation)\r\n            .sumWith(parent.states.joints[0]);\r\n\r\n         const step = vector({ x: gS, y: 0 }).rotate(rotation);\r\n\r\n         let track = trackMap.make({\r\n            holeSpacings: [0, 1, 1, 1, 1, 2, 1, 1, 1, 1, 2, 1, 1, 1, 1, 2, 1, 1, 1, 1, 2, 1, 1, 1, 1],\r\n            joints: [start, step]\r\n         }, false);\r\n         tracks.push(track);\r\n      }\r\n   }\r\n\r\n   let mainGridTrackXPositions = [...Array(64).keys()];\r\n   let mainGridTrackYPositions = [-5.5, +1.5];\r\n\r\n   for (let x of mainGridTrackXPositions) {\r\n      for (let y of mainGridTrackYPositions) {\r\n\r\n         const start = vector({ x: (x - 31.5) * gS, y: y * gS })\r\n            .rotate(rotation)\r\n            .sumWith(parent.states.joints[0]);\r\n\r\n         const step = vector({ x: 0, y: gS }).rotate(rotation);\r\n\r\n         let track = trackMap.make({\r\n            holeSpacings: [0, 1, 1, 1, 1],\r\n            joints: [start, step]\r\n         }, false);\r\n         tracks.push(track);\r\n      }\r\n   }\r\n\r\n   return tracks;\r\n}\r\n","import makeMap from \"../../generics/-makeMap\";\r\nimport { Large, Small } from \"./~classes\";\r\nimport makeSmall from \"./-makeSmall\";\r\nimport makeLarge from \"./-makeLarge\";\r\nimport loadSmall from \"./-loadSmall\";\r\nimport loadLarge from \"./-loadLarge\";\r\n\r\nconst smallMap = {\r\n   savename: \"makeLayoutBreadboardSmall\",\r\n   diagramType: \"layout\" as const,\r\n   instance: Small,\r\n   make: makeSmall,\r\n   load: loadSmall,\r\n   isBoard: true\r\n}\r\n\r\nconst largeMap = {\r\n   savename: \"makeLayoutBreadboardLarge\",\r\n   diagramType: \"layout\" as const,\r\n   instance: Large,\r\n   make: makeLarge,\r\n   load: loadLarge,\r\n   isBoard: true\r\n}\r\n\r\n\r\nconst maps = {\r\n   layoutSmall: makeMap(smallMap),\r\n   layoutLarge: makeMap(largeMap)\r\n}\r\nexport default maps;","\r\nexport const INDEXCENTRE = 0;\r\nexport const INDEXROTATION = 1;\r\n\r\n","import Component, { Types as ComponentTypes } from \"../../+component\";\r\nimport * as Types from \"./types\";\r\nimport { TrackLayout as Track } from \"../_track/~classes\";\r\nimport drawLarge from \"./-drawLarge\";\r\nimport drawSmall from \"./-drawSmall\";\r\nimport makeTracks from \"./-makeTracks\";\r\nimport { makeGroup } from \"../../../svg/element/+group\";\r\n\r\nabstract class Base {\r\n   group = makeGroup();\r\n   form = \"layout\" as const\r\n\r\n   tracks: Track[] = [];\r\n\r\n\r\n\r\n   // Handled in the tracks\r\n   getConnectors(): ComponentTypes.hole[][] { \r\n      return this.tracks.map((track) => {\r\n         return track.getConnectors()[0]\r\n      })\r\n   }\r\n\r\n   flags = {\r\n      order: \"back\" as const,\r\n      disabled: false\r\n   }\r\n\r\n   transferFunction() { return [] };\r\n}\r\n\r\nexport class Small extends Base implements Component, Types.breadboard<\"layout\"> {\r\n   type = \"breadboardsmall\" as const;\r\n   properties: Types.properties;\r\n   states: Types.state;\r\n   constructor(properties: Types.properties, states: Types.state) {\r\n      super();\r\n      this.properties = properties;\r\n      this.states = states;\r\n   }\r\n\r\n   draw() {\r\n      this.tracks = makeTracks(this, \"small\");\r\n      //(Prepend so handles appear on top)\r\n      this.group.prepend(drawSmall(this), this.tracks.map(t => t.group));\r\n   }\r\n}\r\n\r\nexport class Large extends Base implements Component, Types.breadboard<\"layout\"> {\r\n   type = \"breadboardlarge\" as const;\r\n   properties: Types.properties;\r\n   states: Types.state;\r\n   constructor(properties: Types.properties, states: Types.state) {\r\n      super();\r\n      this.properties = properties;\r\n      this.states = states;\r\n   }\r\n\r\n   draw() {\r\n      this.tracks = makeTracks(this, \"large\");\r\n      //(Prepend so handles appear on top)\r\n      this.group.prepend(drawLarge(this), this.tracks.map(t => t.group));\r\n   }\r\n}\r\n\r\n","import { Layout } from \"./~classes\";\r\nimport vector from \"../../../-vector\";\r\nimport { INDEXANODE, INDEXCATHODE } from \"./constants\";\r\nimport getStandardForm from \"../../../utility/-getStandardForm\";\r\n\r\nimport { makePath as makePath } from \"../../../svg/element/+path\";\r\nimport { makeText as makeText } from \"../../../svg/element/+text\";\r\nimport { makeGroup as makeGroup } from \"../../../svg/element/+group\";\r\nimport { makeCircle as makeCircle } from \"../../../svg/element/+circle\";\r\nimport { makeEllipse as makeEllipse } from \"../../../svg/element/+ellipse\";\r\n//import * as $ from 'jquery';\r\n\r\nexport default function drawLayout(instance: Layout) {\r\n\r\n   const bodyGroup = makeGroup(\"body\");\r\n\r\n   const cathodeEnd = instance.states.joints[INDEXCATHODE];\r\n   const anodeEnd = instance.states.joints[INDEXANODE];\r\n\r\n   const centre = vector(cathodeEnd, anodeEnd).centre().vector;\r\n   const rotation = vector(cathodeEnd).getAngleTo(anodeEnd);\r\n   const textString = getStandardForm(instance.properties.capacitance, 'F');\r\n\r\n   if (instance.properties.isPolarised) {\r\n      // Electrolytic\r\n      $(bodyGroup.element).addClass(\"electrolytic\");\r\n\r\n\r\n      const getElectrolyticPath = (radii: number, isMinus: boolean, classes:string = \"\") => {\r\n         const [start, end] = [vector(radii / Math.SQRT2), { x: radii, y: 0 }]\r\n         const [arc, sweep] = isMinus ? [0,0]: [1,1]\r\n         return makePath(\"\", classes).m(start).A({ radii, arc, sweep, end });\r\n      }\r\n\r\n      const bodyPath = getElectrolyticPath(14, false, \"body\");\r\n      const minusPath = getElectrolyticPath(14, true, \"minus\");\r\n\r\n      const highlight = makeCircle({ x: 0, y: 0 }, 16, \"highlight nofill\");\r\n      const text = makeText(textString, { x: 1, y: 0 }, \"text\").followPath(\r\n         getElectrolyticPath(12.5, false)\r\n      );\r\n\r\n      bodyGroup.append(highlight, bodyPath, minusPath, text).rotate(157.5);\r\n   } else {\r\n      // Ceramic\r\n      $(bodyGroup.element).addClass(\"ceramic\");\r\n\r\n      bodyGroup.append(\r\n         makeEllipse({ x: 0, y: 0 }, { x: 16, y: 8 }, \"body highlight nofill\"),\r\n         makeText(textString, { x: 0, y: 0 }, \"text\")\r\n      );\r\n   }\r\n\r\n   return [\r\n      makePath([cathodeEnd, anodeEnd], \"lead\"),\r\n      bodyGroup.translate(centre).rotate(rotation)\r\n   ];\r\n}\r\n\r\n","import { Schematic } from \"./~classes\";\r\nimport vector, { Vector } from \"../../../-vector\";\r\nimport { INDEXANODE, INDEXCATHODE } from \"./constants\";\r\nimport getStandardForm from \"../../../utility/-getStandardForm\";\r\n\r\nimport { makePath as makePath } from \"../../../svg/element/+path\";\r\nimport { makeText as makeText } from \"../../../svg/element/+text\";\r\nimport { makeGroup as makeGroup } from \"../../../svg/element/+group\";\r\nimport { makeLine as makeLine } from \"../../../svg/element/+line\";\r\nimport { makeRect as makeRect } from \"../../../svg/element/+rect\";\r\n\r\nexport default function drawSchematic(instance: Schematic) {\r\n   const bodyGroup = makeGroup(\"body\");\r\n\r\n   const cathodeEnd = instance.states.joints[INDEXCATHODE];\r\n   const anodeEnd = instance.states.joints[INDEXANODE];\r\n\r\n   let centre = vector(cathodeEnd, anodeEnd).centre().vector;\r\n   let rotation = vector(cathodeEnd).getAngleTo(anodeEnd);\r\n\r\n   let [cathodeStart, anodeStart]: Vector[] = vector(\r\n      { x: -6, y: 0 }, { x: 6, y: 0 }\r\n   ).rotate(rotation).sumWith(centre).vectors;\r\n\r\n   //Text\r\n   let text = getStandardForm(instance.properties.capacitance, 'F')\r\n\r\n   bodyGroup.append(\r\n      makeRect(vector(0), { width: 15, height: 30 }, vector(2), \"highlight highlightwithfill extrathick\"),\r\n      makeLine({ x: -4, y: -15 }, { x: -4, y: +15 }, \"line thick nocap\"),\r\n      makeLine({ x: +4, y: -15 }, { x: +4, y: +15 }, \"line thick nocap\"),\r\n   );\r\n\r\n   if (instance.properties.isPolarised) {\r\n      bodyGroup.append(makePath(\"\",\"line thin\").segments([\r\n         [{ x: +15, y: -10 }, { x: +7, y: -10 }],\r\n         [{ x: +11, y: -6 }, { x: +11, y: -14 }]\r\n      ]));\r\n   }\r\n\r\n   return [\r\n      makePath(\"\",\"line thin\").segments([[cathodeStart, cathodeEnd], [anodeStart, anodeEnd]]),\r\n      bodyGroup.translate(centre).rotate(rotation),\r\n      makeText(text, { x: 0, y: -20 }, \"text\").translate(centre).rotatePosition(rotation)\r\n   ];\r\n}\r\n\r\n","import makeLayout from \"./-makeLayout\"\r\n\r\nexport default function loadLayout(raw: any) {\r\n   const capacitance = (raw.capacitance);\r\n   const isPolarised = (raw.isPolarised);\r\n   const joints = (raw.joints);\r\n\r\n   return makeLayout({ capacitance, isPolarised, joints });\r\n\r\n}","import makeSchematic from \"./-makeSchematic\";\r\nimport ValueCheck from \"../~valueCheck\";\r\nimport vector, { Vector } from \"../../../-vector\";\r\n\r\nexport default function loadSchematic(raw: any) {\r\n   const capacitance = (raw.capacitance || raw.value);\r\n   //Polarisation Block\r\n   const isPolarised = (raw.isPolarised || derivePolarisation(capacitance, raw.polarised));\r\n   //Joints Block\r\n   type orientation = \"LR\" | \"RL\" | \"UD\" | \"DU\";\r\n   const orientations: orientation[] = [\"LR\", \"RL\", \"UD\", \"DU\"];\r\n   const orientation = ValueCheck.validate<orientation>(orientations, \"LR\")(raw.orientation);\r\n   const where = ValueCheck.where({ x: 0, y: 0 })(raw.where);\r\n   const joints = (raw.joints || deriveJoints(orientation, where));\r\n\r\n   return makeSchematic({ capacitance, isPolarised, joints });\r\n}\r\n\r\nconst derivePolarisation = (capacitance: number, polarisation?: \"polar\" | \"non-polar\") => {\r\n   const isPolarValid = ValueCheck.test<\"polar\" | \"non-polar\">([\"polar\", \"non-polar\"]);\r\n   return isPolarValid(polarisation) ? polarisation === \"polar\" : (capacitance > 1e-6);\r\n}\r\n\r\nconst deriveJoints = (orientation: \"LR\" | \"RL\" | \"UD\" | \"DU\", where: Vector) => {\r\n   const baseJoints = ({\r\n      LR: [{ x: -20, y: 0 }, { x: 20, y: 0 }],\r\n      UD: [{ x: 0, y: -20 }, { x: 0, y: 20 }],\r\n      RL: [{ x: 20, y: 0 }, { x: -20, y: 0 }],\r\n      DU: [{ x: 0, y: 20 }, { x: 0, y: -20 }]\r\n   })[orientation] as [Vector, Vector];\r\n   return vector(baseJoints).sumWith(where).vectors;\r\n}\r\n","import ValueCheck from \"../~valueCheck\";\r\nimport * as Types from \"./types\";\r\nimport { Layout } from \"./~classes\";\r\nimport getMaker from \"../../generics/-getMaker\";\r\nimport { Vector } from \"../../../-vector\";\r\nimport Graphical from \"../addins/graphical\";\r\nimport Draggable from \"../addins/draggable\";\r\nimport Selectable from \"../addins/selectable\";\r\nimport Extendable from \"../addins/extendable\";\r\nimport ConnectionsHighlightable from \"../addins/connectionsHighlightable\"\r\nimport { ComponentDefaulter } from \"../@component\";\r\n\r\nconst defaulterLayout: ComponentDefaulter<Types.capacitor<\"layout\">> = {\r\n   properties: {\r\n      isPolarised: ValueCheck.validate(\"boolean\", false),\r\n      capacitance: ValueCheck.validate(\"number\", 0)\r\n   },\r\n   states: {\r\n      joints: ValueCheck.joints<[Vector, Vector]>(\r\n         [{ x: 0, y: 0 }, { x: 80, y: 0 }]\r\n      )\r\n   }\r\n};\r\n\r\nconst makeLayout = getMaker(Layout, defaulterLayout,\r\n   Graphical,\r\n   Draggable,\r\n   Selectable,\r\n   Extendable,\r\n   ConnectionsHighlightable\r\n);\r\nexport default makeLayout;","import ValueCheck from \"../~valueCheck\";\r\nimport * as Types from \"./types\";\r\nimport { Schematic } from \"./~classes\";\r\nimport getMaker from \"../../generics/-getMaker\";\r\nimport { Vector } from \"../../../-vector\";\r\nimport Graphical from \"../addins/graphical\";\r\nimport Draggable from \"../addins/draggable\";\r\nimport Selectable from \"../addins/selectable\";\r\nimport Extendable from \"../addins/extendable\";\r\nimport ConnectionsHighlightable from \"../addins/connectionsHighlightable\"\r\nimport { ComponentDefaulter } from \"../@component\";\r\n\r\nconst defaulterSchematic: ComponentDefaulter<Types.capacitor<\"schematic\">> = {\r\n   properties: {\r\n      isPolarised: ValueCheck.validate(\"boolean\", false),\r\n      capacitance: ValueCheck.validate(\"number\", 0)\r\n   },\r\n   states: {\r\n      joints: ValueCheck.joints<[Vector, Vector]>(\r\n         [{ x: 0, y: 0 }, { x: 40, y: 40 }]\r\n      )\r\n   }\r\n};\r\n\r\n\r\nconst makeSchematic = getMaker(Schematic, defaulterSchematic,\r\n   Selectable,\r\n   ConnectionsHighlightable,\r\n   Graphical,\r\n      Draggable,\r\n      Extendable\r\n);\r\nexport default makeSchematic;","import makeMap from \"../../generics/-makeMap\";\r\nimport { Schematic, Layout } from \"./~classes\";\r\nimport makeSchematic from \"./-makeSchematic\";\r\nimport makeLayout from \"./-makeLayout\";\r\nimport loadSchematic from \"./-loadSchematic\";\r\nimport loadLayout from \"./-loadLayout\";\r\n\r\n\r\nconst schematicMap = {\r\n   savename: \"makeCapacitor\",\r\n   diagramType: \"schematic\" as const,\r\n   instance: Schematic,\r\n   make: makeSchematic,\r\n   load: loadSchematic,\r\n}\r\n\r\nconst layoutMap = {\r\n   savename: \"makeLayoutCapacitor\",\r\n   diagramType: \"layout\" as const,\r\n   instance: Layout,\r\n   make: makeLayout,\r\n   load: loadLayout,\r\n}\r\n\r\nconst maps = {\r\n   schematic: makeMap(schematicMap, layoutMap),\r\n   layout: makeMap(layoutMap, schematicMap)\r\n}\r\nexport default maps;","\r\nexport const INDEXCATHODE = 0;\r\nexport const INDEXANODE = 1;\r\n\r\n\r\n","import Component, { Types as ComponentTypes } from \"../../+component\";\r\nimport * as Types from \"./types\";\r\nimport makeConnector from \"../../generics/-makeConnector\";\r\nimport { INDEXANODE, INDEXCATHODE } from \"./constants\";\r\nimport drawLayout from \"./-drawLayout\";\r\nimport drawSchematic from \"./-drawSchematic\";\r\nimport { makeGroup } from \"../../../svg/element/+group\";\r\nabstract class Base {\r\n   type = \"capacitor\" as const;\r\n   group = makeGroup();\r\n   properties: Types.properties;\r\n   states: Types.state;\r\n   constructor(properties: Types.properties, states: Types.state) {\r\n      this.properties = properties;\r\n      this.states = states;\r\n   }\r\n\r\n   flags = {\r\n      order: \"fore\" as const,\r\n      disabled: false\r\n   }\r\n\r\n   transferFunction() { return [] };\r\n}\r\n\r\nexport class Schematic extends Base implements Component, Types.capacitor<\"schematic\"> {\r\n   form = \"schematic\" as const\r\n   draw() {\r\n      //(Prepend so handles appear on top)\r\n      this.group.prepend(drawSchematic(this));\r\n   }\r\n\r\n\r\n   getConnectors(): ComponentTypes.connector[][] {\r\n      if (this.properties.isPolarised) {\r\n         return [[\r\n            makeConnector(this, \"cathode\", \"node\", this.states.joints[INDEXCATHODE], \"-\"),\r\n            makeConnector(this, \"anode\", \"node\", this.states.joints[INDEXANODE], \"+\"),\r\n         ]]\r\n      } else {\r\n         return [[\r\n            makeConnector(this, \"\", \"node\", this.states.joints[INDEXCATHODE]),\r\n            makeConnector(this, \"\", \"node\", this.states.joints[INDEXANODE]),\r\n         ]]\r\n      }\r\n   }\r\n}\r\n\r\nexport class Layout extends Base implements Component, Types.capacitor<\"layout\"> {\r\n   form = \"layout\" as const\r\n   draw() {\r\n      //(Prepend so handles appear on top)\r\n      this.group.prepend(drawLayout(this));\r\n   }\r\n\r\n\r\n   getConnectors(): ComponentTypes.connector[][] {\r\n      if (this.properties.isPolarised) {\r\n         return [[\r\n            makeConnector(this, \"cathode\", \"pin\", this.states.joints[INDEXCATHODE], \"-\"),\r\n            makeConnector(this, \"anode\", \"pin\", this.states.joints[INDEXANODE], \"+\"),\r\n         ]]\r\n      } else {\r\n         return [[\r\n            makeConnector(this, \"\", \"pin\", this.states.joints[INDEXCATHODE]),\r\n            makeConnector(this, \"\", \"pin\", this.states.joints[INDEXANODE]),\r\n         ]]\r\n      }\r\n   }\r\n}\r\n\r\n","import { Layout } from \"./~classes\";\r\nimport vector from \"../../../-vector\";\r\nimport { INDEXANODE, INDEXCATHODE } from \"./constants\";\r\n\r\nimport { makePath as makePath } from \"../../../svg/element/+path\";\r\nimport { makeGroup as makeGroup } from \"../../../svg/element/+group\";\r\nimport { makeCircle as makeCircle } from \"../../../svg/element/+circle\";\r\nimport { makeRect as makeRect } from \"../../../svg/element/+rect\";\r\n//import * as $ from 'jquery';\r\n\r\nexport default function drawLayout(instance: Layout) {\r\n   const bodyGroup = makeGroup(\"body\");\r\n\r\n   const cathodeEnd = instance.states.joints[INDEXCATHODE];\r\n   const anodeEnd = instance.states.joints[INDEXANODE];\r\n\r\n   const centre = vector(cathodeEnd, anodeEnd).centre().vector;\r\n   const rotation = vector(anodeEnd).getAngleTo(cathodeEnd);\r\n\r\n   if (instance.properties.color === \"N/A\") {\r\n      bodyGroup.append(\r\n         makeRect({ x: -5.5, y: 0 }, { width: 29, height: 15 }, { x: 0, y: 0 }, \"body\"),\r\n         makeRect({ x: 17.5, y: 0 }, { width: 5, height: 15 }, { x: 0, y: 0 }, \"body\"),\r\n         makeRect({ x: 12, y: 0 }, { width: 6, height: 15 }, { x: 0, y: 0 }, \"cathode\"),\r\n         makeRect({ x: 0, y: 0 }, { width: 40, height: 15 }, { x: 1, y: 1 }, \"highlight nofill\")\r\n      );\r\n   } else {\r\n      $(bodyGroup.element).addClass(\"led\");\r\n\r\n      const bodyString =\r\n         \"M \" + (10) + \" \" + (15) +\r\n         \"a \" + (18) + \" \" + (18) + \" \" + (0) + \" \" + (1) + \" \" + (0) + \" \" + (-20) + \" \" + (0) +\r\n         \"Z\";\r\n\r\n      const highlightString =\r\n         \"M \" + (10) + \" \" + (16) +\r\n         \"a \" + (18.8) + \" \" + (18.8) + \" \" + (0) + \" \" + (1) + \" \" + (0) + \" \" + (-20) + \" \" + (0) +\r\n         \"Z\";\r\n\r\n      const edge = makePath(bodyString, \"edge\");\r\n      const middle = makeCircle({ x: 0, y: 0 }, 14, \"centre\");\r\n\r\n      $([edge.element, middle.element]).css(\"fill\", instance.properties.color);\r\n\r\n\r\n      bodyGroup.append(\r\n         edge,\r\n         makePath(bodyString, \"darkener\"),\r\n         middle,\r\n         makeCircle({ x: 0, y: 0 }, 8, \"lightener\"),\r\n         makePath(highlightString, \"nofill highlight\"),\r\n      ).rotate(-90);\r\n   }\r\n\r\n   return [\r\n      makePath([cathodeEnd, anodeEnd], \"lead\"),\r\n      bodyGroup.translate(centre).rotate(rotation)\r\n   ];\r\n}\r\n","import { Schematic } from \"./~classes\";\r\nimport vector, { Vector } from \"../../../-vector\";\r\nimport { INDEXANODE, INDEXCATHODE } from \"./constants\";\r\nimport getStandardForm from \"../../../utility/-getStandardForm\";\r\n\r\nimport { makePath as makePath } from \"../../../svg/element/+path\";\r\nimport { makeText as makeText } from \"../../../svg/element/+text\";\r\nimport { makeGroup as makeGroup } from \"../../../svg/element/+group\";\r\nimport { makeCircle as makeCircle } from \"../../../svg/element/+circle\";\r\n//import * as $ from 'jquery';\r\n\r\nexport default function drawSchematic(instance: Schematic) {\r\n   const bodyGroup = makeGroup(\"body\");\r\n\r\n   const cathodeEnd = instance.states.joints[INDEXCATHODE];\r\n   const anodeEnd = instance.states.joints[INDEXANODE];\r\n\r\n   const centre = vector(cathodeEnd, anodeEnd).centre().vector;\r\n   const rotation = vector(anodeEnd).getAngleTo(cathodeEnd);\r\n\r\n   let [cathodeStart, anodeStart]: Vector[] = vector(\r\n      { x: -12, y: 0 }, { x: 12, y: 0 }\r\n   ).rotate(rotation).sumWith(centre).vectors;\r\n\r\n   //Text\r\n   let text = (instance.properties.breakdownVoltage < 51)\r\n      ? getStandardForm(instance.properties.breakdownVoltage, 'V')\r\n      : getStandardForm(instance.properties.saturationCurrent, 'A');\r\n\r\n   const bodyPath = 'M 12 0 L -12 12 L -12 -12 L 12 0 Z';\r\n   bodyGroup.append(\r\n      makePath(bodyPath, \"body highlight highlightwithfill extrathick\"),\r\n      makePath(bodyPath, \"body black\"),\r\n      // Polarisation Line\r\n      makePath('M 12 -12 L 12 12', \"line medium\")\r\n   );\r\n\r\n\r\n   if (instance.properties.color === \"N/A\" || instance.properties.color === undefined) {\r\n      if (instance.properties.breakdownVoltage < 51) {\r\n         // Add the \"wings\" for xener\r\n         bodyGroup.append(makePath([[{ x: 12, y: -12 }, { x: 18, y: -12 },], [{ x: 12, y: 12 }, { x: 6, y: 12 }]], \"line medium\"));\r\n      }\r\n   } else {\r\n      // LED\r\n      const arrowJointsBase = vector([{ x: 0, y: 3 }, { x: -4, y: 0 }, { x: 0, y: -3 }, { x: -4, y: 0 }, { x: 8, y: 0 }]);\r\n      const arrowJoints1 = arrowJointsBase.sumWith({ x: -16, y: -10 }).rotate(-116.43).vectors;\r\n      const arrowJoints2 = arrowJointsBase.sumWith({ x: -16, y: 0 }).rotate(-116.43).vectors;\r\n      const colorCircle = makeCircle({ x: -4, y: 0 }, 4, \"line thin\");\r\n\r\n      $(colorCircle.element).css(\"fill\", instance.properties.color);\r\n      $(colorCircle.element).css(\"stroke\", instance.properties.color);\r\n\r\n      bodyGroup.append(\r\n         makePath(arrowJoints1, \"line black thin\"), //Arrow1\r\n         makePath(arrowJoints2, \"line black thin\"), //Arrow2\r\n         colorCircle //Color Indicator\r\n      );\r\n   }\r\n\r\n   const textEl = makeText(text, { x: 0, y: -15 }, \"text\");\r\n\r\n   return [\r\n      makePath([[cathodeStart, cathodeEnd], [anodeStart, anodeEnd]], \"line thin\"),\r\n      bodyGroup.translate(centre).rotate(rotation),\r\n      textEl.translate(centre).rotatePosition(rotation),\r\n   ];\r\n}\r\n\r\n","import makeLayout from \"./-makeLayout\"\r\n\r\nexport default function loadLayout(raw: any) {\r\n   const breakdownVoltage = (raw.breakdownVoltage);\r\n   const saturationCurrent = (raw.saturationCurrent);\r\n   const color = (raw.color);\r\n   const joints = (raw.joints);\r\n\r\n   return makeLayout({ breakdownVoltage, saturationCurrent, color, joints });\r\n}\r\n","import makeSchematic from \"./-makeSchematic\";\r\nimport ValueCheck from \"../~valueCheck\";\r\nimport vector, { Vector } from \"../../../-vector\"\r\n\r\nexport default function loadSchematic(raw: any) {\r\n   const breakdownVoltage = (raw.breakdownVoltage);\r\n   const saturationCurrent = (raw.saturationCurrent);\r\n   const color = (raw.color || raw.colour);\r\n   //Joints Block\r\n   const orientations: [\"LR\", \"RL\", \"UD\", \"DU\"] = [\"LR\", \"RL\", \"UD\", \"DU\"];\r\n   const orientation = ValueCheck.validate(orientations, \"LR\")(raw.orientation);\r\n   const where = ValueCheck.where({ x: 0, y: 0 })(raw.where);\r\n   const joints = (raw.joints || deriveJoints(orientation, where));\r\n\r\n   return makeSchematic({ breakdownVoltage, saturationCurrent, color, joints });\r\n}\r\n\r\nconst deriveJoints = (orientation: \"LR\" | \"RL\" | \"UD\" | \"DU\", where: Vector) => {\r\n   const baseJoints = ({\r\n      LR: [{ x: -20, y: 0 }, { x: 20, y: 0 }],\r\n      UD: [{ x: 0, y: -20 }, { x: 0, y: 20 }],\r\n      RL: [{ x: 20, y: 0 }, { x: -20, y: 0 }],\r\n      DU: [{ x: 0, y: 20 }, { x: 0, y: -20 }]\r\n   })[orientation] as [Vector, Vector];\r\n   return vector(baseJoints).sumWith(where).vectors;\r\n}\r\n","import ValueCheck from \"../~valueCheck\";\r\nimport * as Types from \"./types\";\r\nimport { Layout } from \"./~classes\";\r\nimport getMaker from \"../../generics/-getMaker\";\r\nimport { Vector } from \"../../../-vector\";\r\nimport Graphical from \"../addins/graphical\";\r\nimport Draggable from \"../addins/draggable\";\r\nimport Selectable from \"../addins/selectable\";\r\nimport Extendable from \"../addins/extendable\";\r\nimport ConnectionsHighlightable from \"../addins/connectionsHighlightable\"\r\nimport { ComponentDefaulter } from \"../@component\";\r\n\r\nconst defaulterLayout: ComponentDefaulter<Types.diode<\"layout\">> = {\r\n   properties: {\r\n      breakdownVoltage: ValueCheck.validate(\"number\", 0),\r\n      saturationCurrent: ValueCheck.validate(\"number\", 0),\r\n      color: ValueCheck.color(\"N/A\")\r\n   },\r\n   states: {\r\n      joints: ValueCheck.joints<[Vector, Vector]>(\r\n         [{ x: 0, y: 0 }, { x: 80, y: 0 }]\r\n      )\r\n   }\r\n};\r\n\r\nconst makeLayout = getMaker(Layout, defaulterLayout,\r\n   Graphical,\r\n   Selectable,\r\n   Draggable,\r\n   Extendable,\r\n   ConnectionsHighlightable\r\n);\r\nexport default makeLayout;","import ValueCheck from \"../~valueCheck\";\r\nimport * as Types from \"./types\";\r\nimport { Schematic } from \"./~classes\";\r\nimport getMaker from \"../../generics/-getMaker\";\r\nimport { Vector } from \"../../../-vector\";\r\nimport Graphical from \"../addins/graphical\";\r\nimport Draggable from \"../addins/draggable\";\r\nimport Selectable from \"../addins/selectable\";\r\nimport Extendable from \"../addins/extendable\";\r\nimport ConnectionsHighlightable from \"../addins/connectionsHighlightable\"\r\nimport { ComponentDefaulter } from \"../@component\";\r\n\r\nconst defaulterSchematic: ComponentDefaulter<Types.diode<\"schematic\">> = {\r\n   properties: {\r\n      breakdownVoltage: ValueCheck.validate(\"number\", 0),\r\n      saturationCurrent: ValueCheck.validate(\"number\", 0),\r\n      color: ValueCheck.color(\"N/A\")\r\n   },\r\n   states: {\r\n      joints: ValueCheck.joints<[Vector, Vector]>(\r\n         [{ x: 0, y: 0 }, { x: 40, y: 40 }]\r\n      )\r\n   }\r\n};\r\n\r\n\r\nconst makeSchematic = getMaker(Schematic, defaulterSchematic,\r\n   Graphical,\r\n   Selectable,\r\n   ConnectionsHighlightable,\r\n   Draggable,\r\n   Extendable\r\n);\r\nexport default makeSchematic;","import makeMap from \"../../generics/-makeMap\";\r\nimport { Schematic, Layout } from \"./~classes\";\r\nimport makeSchematic from \"./-makeSchematic\";\r\nimport makeLayout from \"./-makeLayout\";\r\nimport loadSchematic from \"./-loadSchematic\";\r\nimport loadLayout from \"./-loadLayout\";\r\n\r\n\r\nconst schematicMap = {\r\n   savename: \"makeDiode\",\r\n   diagramType: \"schematic\" as const,\r\n   instance: Schematic,\r\n   make: makeSchematic,\r\n   load: loadSchematic,\r\n}\r\n\r\nconst layoutMap = {\r\n   savename: \"makeLayoutDiode\",\r\n   diagramType: \"layout\" as const,\r\n   instance: Layout,\r\n   make: makeLayout,\r\n   load: loadLayout,\r\n}\r\n\r\nconst maps = {\r\n   schematic: makeMap(schematicMap, layoutMap),\r\n   layout: makeMap(layoutMap, schematicMap)\r\n}\r\nexport default maps;","export const INDEXANODE = 0;\r\nexport const INDEXCATHODE = 1;\r\n\r\n\r\n","import Component, { Types as ComponentTypes } from \"../../+component\";\r\nimport * as Types from \"./types\";\r\nimport makeConnector from \"../../generics/-makeConnector\";\r\nimport drawLayout from \"./-drawLayout\";\r\nimport drawSchematic from \"./-drawSchematic\";\r\nimport { INDEXANODE, INDEXCATHODE } from \"./constants\";\r\nimport { makeGroup } from \"../../../svg/element/+group\";\r\nabstract class Base {\r\n   type = \"diode\" as const;\r\n   group = makeGroup();\r\n   properties: Types.properties;\r\n   states: Types.state;\r\n   constructor(properties: Types.properties, states: Types.state) {\r\n      this.properties = properties;\r\n      this.states = states;\r\n   }\r\n   flags = {\r\n      order: \"fore\" as const,\r\n      disabled: false\r\n   }\r\n\r\n   transferFunction() { return [] };\r\n}\r\n\r\nexport class Schematic extends Base implements Component, Types.diode<\"schematic\"> {\r\n   form = \"schematic\" as const\r\n   draw() {\r\n      //(Prepend so handles appear on top)\r\n      this.group.prepend(drawSchematic(this));\r\n   }\r\n   getConnectors(): ComponentTypes.connector[][] {\r\n      return [[\r\n         makeConnector(this, \"anode\", \"node\", this.states.joints[INDEXANODE], \"+\"),\r\n         makeConnector(this, \"cathode\", \"node\", this.states.joints[INDEXCATHODE], \"-\"),\r\n      ]];\r\n   }\r\n}\r\n\r\nexport class Layout extends Base implements Component, Types.diode<\"layout\"> {\r\n   form = \"layout\" as const\r\n   draw() {\r\n      //(Prepend so handles appear on top)\r\n      this.group.prepend(drawLayout(this));\r\n   }\r\n   getConnectors(): ComponentTypes.connector[][] {\r\n      return [[\r\n         makeConnector(this, \"anode\", \"pin\", this.states.joints[INDEXANODE], \"+\"),\r\n         makeConnector(this, \"cathode\", \"pin\", this.states.joints[INDEXCATHODE], \"-\"),\r\n      ]];\r\n   }\r\n}\r\n\r\n","import { Layout } from \"./~classes\";\r\nimport vector from \"../../../-vector\";\r\nimport { INDEXEND1, INDEXEND2 } from \"./constants\";\r\n\r\nimport { makePath as makePath } from \"../../../svg/element/+path\";\r\nimport { makeGroup as makeGroup } from \"../../../svg/element/+group\";\r\n\r\nexport default function drawLayout(instance: Layout) {\r\n   const bodyGroup = makeGroup(\"body\");\r\n\r\n   const end1 = instance.states.joints[INDEXEND1];\r\n   const end2 = instance.states.joints[INDEXEND2];\r\n\r\n   let centre = vector(end1, end2).centre().vector;\r\n   let rotation = vector(end1).getAngleTo(end2);\r\n\r\n   const nCoils = 4;\r\n   const wireWidth = 8;\r\n   const coilTop = -15;\r\n   const coilBottom = 15;\r\n   const coilStart = (-(nCoils * wireWidth) / 2 + wireWidth / 4);\r\n\r\n   let bodyPath = \"M\" + (coilStart) + \" \" + (coilBottom);\r\n   let bodyEdgePath = \"\";\r\n   for (let i = 1; i < nCoils; i++) {\r\n      let x0 = coilStart + wireWidth * (i - 0.5);\r\n      let x1 = coilStart + wireWidth * (i);\r\n      bodyPath += \"L\" + (x0) + \" \" + (coilTop) + \"L\" + (x1) + \" \" + (coilBottom);\r\n      bodyEdgePath += \"M\" + (x0) + \" \" + (coilBottom) + \"L\" + (x1) + \" \" + (coilTop);\r\n   }\r\n   bodyPath += \"L\" + (-coilStart) + \" \" + (coilTop);\r\n\r\n   bodyGroup.append(\r\n      makePath(bodyPath, \"highlight highlightwithfill\"),\r\n      makePath(bodyPath, \"body\"),\r\n      makePath(bodyEdgePath, \"bodyEdge\")\r\n   );\r\n\r\n   return [\r\n      makePath([end1, end2], \"lead\"),\r\n      bodyGroup.translate(centre).rotate(rotation)\r\n   ];\r\n}\r\n","import { Schematic } from \"./~classes\";\r\nimport vector, { Vector } from \"../../../-vector\";\r\nimport { INDEXEND1, INDEXEND2 } from \"./constants\";\r\nimport getStandardForm from \"../../../utility/-getStandardForm\";\r\n\r\nimport { makePath as makePath } from \"../../../svg/element/+path\";\r\nimport { makeText as makeText } from \"../../../svg/element/+text\";\r\nimport { makeGroup as makeGroup } from \"../../../svg/element/+group\";\r\nimport { makeRect as makeRect } from \"../../../svg/element/+rect\";\r\n\r\nexport default function drawSchematic(instance: Schematic) {\r\n   const bodyGroup = makeGroup(\"body\");\r\n\r\n   const end1 = instance.states.joints[INDEXEND1];\r\n   const end2 = instance.states.joints[INDEXEND2];\r\n\r\n   let centre = vector(end1, end2).centre().vector;\r\n   let rotation = vector(end1).getAngleTo(end2);\r\n\r\n   let [start1, start2]: Vector[] = vector(\r\n      { x: -20, y: 0 }, { x: 20, y: 0 }\r\n   ).rotate(rotation).sumWith(centre).vectors;\r\n\r\n   //Text\r\n   let text = getStandardForm(instance.properties.inductance, 'H');\r\n\r\n   bodyGroup.append(\r\n      makeRect({ x: 0, y: -2 }, { width: 40, height: 12 }, vector(2), \"highlight highlightwithfill extrathick\"),\r\n      makePath('M-20 0 q5 -12, 10 0 q5 -12, 10 0 q5 -12, 10 0 q5 -12, 10 0', \"line medium\")\r\n   );\r\n\r\n   let textEl = makeText(text, { x: 0, y: -13 }, \"text\");\r\n\r\n   return [\r\n      makePath([[start1, end1], [start2, end2]], \"line thin\"),\r\n      bodyGroup.translate(centre).rotate(rotation),\r\n      textEl.translate(centre).rotatePosition(rotation),\r\n   ];\r\n}\r\n\r\n","import makeLayout from \"./-makeLayout\"\r\n\r\nexport default function loadLayout(raw: any) {\r\n   const inductance = (raw.inductance);\r\n   const joints = (raw.joints);\r\n\r\n   return makeLayout({ inductance, joints });\r\n}\r\n","import makeSchematic from \"./-makeSchematic\";\r\nimport ValueCheck from \"../~valueCheck\";\r\nimport vector, { Vector } from \"../../../-vector\"\r\n\r\nexport default function loadSchematic(raw: any) {\r\n   const inductance = (raw.inductance || raw.value);\r\n   //Joints Block\r\n   const orientations: [\"LR\", \"RL\", \"UD\", \"DU\"] = [\"LR\", \"RL\", \"UD\", \"DU\"];\r\n   const orientation = ValueCheck.validate(orientations, \"LR\")(raw.orientation);\r\n   const where = ValueCheck.where({ x: 0, y: 0 })(raw.where);\r\n   const joints = (raw.joints || deriveJoints(orientation, where));\r\n\r\n   return makeSchematic({ inductance, joints, });\r\n}\r\n\r\nconst deriveJoints = (orientation: \"LR\" | \"RL\" | \"UD\" | \"DU\", where: Vector) => {\r\n   const baseJoints = ({\r\n      LR: [{ x: -30, y: 0 }, { x: 30, y: 0 }],\r\n      UD: [{ x: 0, y: -30 }, { x: 0, y: 30 }],\r\n      RL: [{ x: 30, y: 0 }, { x: -30, y: 0 }],\r\n      DU: [{ x: 0, y: 30 }, { x: 0, y: -30 }]\r\n   })[orientation] as [Vector, Vector];\r\n   return vector(baseJoints).sumWith(where).vectors;\r\n}\r\n","import ValueCheck from \"../~valueCheck\";\r\nimport * as Types from \"./types\";\r\nimport { Layout } from \"./~classes\";\r\nimport getMaker from \"../../generics/-getMaker\";\r\nimport { Vector } from \"../../../-vector\";\r\nimport Graphical from \"../addins/graphical\";\r\nimport Draggable from \"../addins/draggable\";\r\nimport Selectable from \"../addins/selectable\";\r\nimport Extendable from \"../addins/extendable\";\r\nimport ConnectionsHighlightable from \"../addins/connectionsHighlightable\"\r\nimport { ComponentDefaulter } from \"../@component\";\r\n\r\nconst defaulterLayout: ComponentDefaulter<Types.inductor<\"layout\">> = {\r\n   properties: {\r\n      inductance: ValueCheck.validate(\"number\", 0)\r\n   },\r\n   states: {\r\n      joints: ValueCheck.joints<[Vector, Vector]>(\r\n         [{ x: 0, y: 0 }, { x: 80, y: 0 }]\r\n      )\r\n   }\r\n};\r\n\r\nconst makeLayout = getMaker(Layout, defaulterLayout,\r\n   Graphical,\r\n   Draggable,\r\n   Selectable,\r\n   Extendable,\r\n   ConnectionsHighlightable\r\n);\r\nexport default makeLayout;","import ValueCheck from \"../~valueCheck\";\r\nimport * as Types from \"./types\";\r\nimport { Schematic } from \"./~classes\";\r\nimport getMaker from \"../../generics/-getMaker\";\r\nimport { Vector } from \"../../../-vector\";\r\nimport Graphical from \"../addins/graphical\";\r\nimport Draggable from \"../addins/draggable\";\r\nimport Selectable from \"../addins/selectable\";\r\nimport Extendable from \"../addins/extendable\";\r\nimport ConnectionsHighlightable from \"../addins/connectionsHighlightable\";\r\nimport { ComponentDefaulter } from \"../@component\";\r\n\r\nconst defaulterSchematic: ComponentDefaulter<Types.inductor<\"schematic\">> = {\r\n   properties: {\r\n      inductance: ValueCheck.validate(\"number\", 0)\r\n   },\r\n   states: {\r\n      joints: ValueCheck.joints<[Vector, Vector]>(\r\n         [{ x: 0, y: 0 }, { x: 40, y: 40 }]\r\n      )   \r\n   }\r\n};\r\n\r\n\r\nconst makeSchematic = getMaker(Schematic, defaulterSchematic,\r\n   Selectable,\r\n   ConnectionsHighlightable,\r\n   Graphical,\r\n   Draggable,\r\n   Extendable\r\n);\r\n\r\nexport default makeSchematic;","import makeMap from \"../../generics/-makeMap\";\r\nimport { Schematic, Layout } from \"./~classes\";\r\nimport makeSchematic from \"./-makeSchematic\";\r\nimport makeLayout from \"./-makeLayout\";\r\nimport loadSchematic from \"./-loadSchematic\";\r\nimport loadLayout from \"./-loadLayout\";\r\n\r\n\r\nconst schematicMap = {\r\n   savename: \"makeInductor\",\r\n   diagramType: \"schematic\" as const,\r\n   instance: Schematic,\r\n   make: makeSchematic,\r\n   load: loadSchematic,\r\n}\r\n\r\nconst layoutMap = {\r\n   savename: \"makeLayoutInductor\",\r\n   diagramType: \"layout\" as const,\r\n   instance: Layout,\r\n   make: makeLayout,\r\n   load: loadLayout,\r\n}\r\n\r\nconst maps = {\r\n   schematic: makeMap(schematicMap, layoutMap),\r\n   layout: makeMap(layoutMap, schematicMap)\r\n}\r\nexport default maps;","\r\nexport const INDEXEND1 = 0;\r\nexport const INDEXEND2 = 1;\r\n\r\n\r\n","import Component, { Types as ComponentTypes } from \"../../+component\";\r\nimport * as Types from \"./types\";\r\nimport makeConnector from \"../../generics/-makeConnector\";\r\nimport drawLayout from \"./-drawLayout\";\r\nimport drawSchematic from \"./-drawSchematic\";\r\nimport { INDEXEND1, INDEXEND2 } from \"./constants\";\r\nimport { makeGroup } from \"../../../svg/element/+group\";\r\nabstract class Base {\r\n   type = \"inductor\" as const;\r\n   group = makeGroup();\r\n   properties: Types.properties;\r\n   states: Types.state;\r\n   constructor(properties: Types.properties, states: Types.state) {\r\n      this.properties = properties;\r\n      this.states = states;\r\n   }\r\n\r\n   flags = {\r\n      order: \"fore\" as const,\r\n      disabled: false\r\n   }\r\n\r\n   transferFunction() { return [] };\r\n}\r\n\r\nexport class Schematic extends Base implements Component, Types.inductor<\"schematic\"> {\r\n   form = \"schematic\" as const\r\n   draw() {\r\n      //(Prepend so handles appear on top)\r\n      this.group.prepend(drawSchematic(this));\r\n   }\r\n   getConnectors(): ComponentTypes.connector[][] {\r\n      return [[\r\n         makeConnector(this, \"\", \"node\", this.states.joints[INDEXEND1]),\r\n         makeConnector(this, \"\", \"node\", this.states.joints[INDEXEND2]),\r\n      ]]\r\n   }\r\n}\r\n\r\nexport class Layout extends Base implements Component, Types.inductor<\"layout\"> {\r\n   form = \"layout\" as const\r\n   draw() {\r\n      //(Prepend so handles appear on top)\r\n      this.group.prepend(drawLayout(this));\r\n   }\r\n   getConnectors(): ComponentTypes.connector[][] {\r\n      return [[\r\n         makeConnector(this, \"\", \"pin\", this.states.joints[INDEXEND1]),\r\n         makeConnector(this, \"\", \"pin\", this.states.joints[INDEXEND2]),\r\n      ]]\r\n   }\r\n\r\n}\r\n\r\n","import { Layout } from \"./~classes\";\r\nimport vector from \"../../../-vector\";\r\nimport { INDEXCENTRE, INDEXROTATION } from \"./constants\";\r\n\r\nimport { makeDip as makeDip } from \"../../../svg/element/groups/+dip\";\r\n\r\nexport default function drawLayout(instance: Layout) {\r\n\r\n   const centre = instance.states.joints[INDEXCENTRE];\r\n   const rotationPoint = instance.states.joints[INDEXROTATION];\r\n\r\n   const rotation = vector(centre).getAngleTo(rotationPoint);\r\n\r\n   //TODO Make DIP draw in centre? So this can be tidied.\r\n   if (instance.states.isDual) {\r\n      return makeDip(4, \"\", \"TL072\", \"\").translate(vector(-30)).rotate(rotation, vector(30)).translate(centre);\r\n   } else {\r\n      return makeDip(4, \"\", \"TL071\", \"\").translate(vector(-30)).rotate(rotation, vector(30)).translate(centre);\r\n   }\r\n}\r\n","import { Schematic } from \"./~classes\";\r\nimport vector, { Vector } from \"../../../-vector\";\r\nimport { INDEXINPOS, INDEXINNEG, INDEXOUT, INDEXPOW1, INDEXPOW2 } from \"./constants\";\r\n\r\nimport { makePath as makePath } from \"../../../svg/element/+path\";\r\nimport { makeGroup as makeGroup } from \"../../../svg/element/+group\";\r\nimport { makeLine as makeLine } from \"../../../svg/element/+line\";\r\n\r\nexport default function drawSchematic(instance: Schematic) {\r\n   const bodyGroup = makeGroup(\"body\");\r\n\r\n   const inPEnd = instance.states.joints[INDEXINPOS];\r\n   const inNEnd = instance.states.joints[INDEXINNEG];\r\n   const outEnd = instance.states.joints[INDEXOUT];\r\n   const pow1End = instance.states.joints[INDEXPOW1];\r\n   const pow2End = instance.states.joints[INDEXPOW2];\r\n\r\n   // Corners of the body triangle\r\n   const bodyJoints = [{ x: -25, y: -25 }, { x: 25, y: 0 }, { x: -25, y: 25 }, { x: -25, y: -25 }];\r\n\r\n   // The drawings orientation (before transforms) is: \r\n   //   emitter at the top\r\n   //   collector at the bottom\r\n   //   base to the right\r\n   bodyGroup.append(\r\n\r\n      //Highlight\r\n      makePath(bodyJoints, \"highlight highlightwithfill extrathick\"),\r\n      //Main body triangle\r\n      makePath(bodyJoints, \"body white\"),\r\n\r\n      //Plus\r\n      makeLine({ x: -22, y: -10 }, { x: -14, y: -10 }, \"line thin\"),\r\n      makeLine({ x: -18, y: -6 }, { x: -18, y: -14 }, \"line thin\"),\r\n\r\n      //Minus\r\n      makeLine({ x: -22, y: +10 }, { x: -14, y: +10 }, \"line thin\"),\r\n   );\r\n\r\n\r\n   // Image centre does not take base into account\r\n   // Is always directly between the emitter and collector\r\n   let centre = vector(pow1End, pow2End).centre().vector;\r\n\r\n   // all angles are relative to the x-axis, hence in default orientation:\r\n   //   when no rotation is required, angleEmitterCentre = 90, \r\n   let angleCentreBase = vector(centre).getAngleTo(outEnd);\r\n   let angleInPInN = vector(pow1End).getAngleTo(pow2End);\r\n\r\n   let rotation = angleInPInN - 90;\r\n\r\n   // Don't ask.\r\n   let scale = (((angleInPInN - angleCentreBase + 360) % 360) > 180)\r\n      ? { x: -1 }\r\n      : { x: 1 };\r\n\r\n   // Only the start of the connections should be transformed, \r\n   // the ends should be absolute.\r\n   // (Hence using vector transforms, not svg transforms)\r\n   let [inPStart, inNStart, outStart, powPStart, powNStart]: Vector[] = vector(\r\n      { x: -25, y: -10 }, { x: -25, y: 10 }, { x: 25, y: 0 }, { x: 0, y: -13 }, { x: 0, y: 13 }\r\n   ).scaleWith(scale).rotate(rotation).sumWith(centre).vectors;\r\n\r\n\r\n   let joints = [\r\n      [inPStart, inPEnd],\r\n      [inNStart, inNEnd],\r\n      [outStart, outEnd],\r\n      [powPStart, pow1End],\r\n      [powNStart, pow2End],\r\n   ]\r\n\r\n   return [\r\n      bodyGroup.translate(centre).rotate(rotation).scale(scale, false),\r\n      makePath(joints, \"line thin\"),\r\n   ];\r\n}\r\n\r\n","import makeLayout from \"./-makeLayout\"\r\n\r\nexport default function loadLayout(raw: any) {\r\n   const offsetVoltage = (raw.offsetVoltage);\r\n   const isDual = (raw.isDual);\r\n   const joints = (raw.joints);\r\n\r\n   return makeLayout({ offsetVoltage, isDual, joints });\r\n}\r\n","import makeSchematic from \"./-makeSchematic\";\r\nimport ValueCheck from \"../~valueCheck\";\r\nimport vector, { Vector } from \"../../../-vector\";\r\nimport PowerMaps from \"../_power/-maps\"\r\n\r\nexport default function loadSchematic(raw: any) {\r\n   const offsetVoltage = (raw.offsetVoltage);\r\n\r\n   //Joints Block\r\n   const orientations: [\"LR\", \"RL\"] = [\"LR\", \"RL\"];\r\n   const orientation = ValueCheck.validate(orientations, \"LR\")(raw.orientation);\r\n   const inputsAtTop: [\"inverting\", \"non-inverting\"] = [\"inverting\", \"non-inverting\"]\r\n   const inputAtTop = ValueCheck.validate(inputsAtTop, \"non-inverting\")(raw.whichInputAtTop);\r\n   const where = ValueCheck.where({ x: 0, y: 0 })(raw.where);\r\n   const joints = (raw.joints || deriveJoints(orientation, inputAtTop, where));\r\n\r\n   const opAmp = makeSchematic({ offsetVoltage, joints });\r\n\r\n   // Also make the power connections\r\n   const isNumber = ValueCheck.test(\"number\");\r\n   const [minOutput, maxOutput] = [raw.minOutput, raw.maxOutput];\r\n   if (isNumber(minOutput) && isNumber(maxOutput)) {\r\n\r\n      const topPower = PowerMaps.schematic.make({\r\n         voltage: maxOutput,\r\n         joints: vector([{ x: 0, y: -20 }]).sumWith(where).vectors\r\n      });\r\n\r\n      const bottomPower = PowerMaps.schematic.make({\r\n         voltage: minOutput,\r\n         joints: vector([{ x: 0, y: 20 }]).sumWith(where).vectors\r\n      });\r\n\r\n      return [topPower, bottomPower, opAmp];\r\n   } else {\r\n      return opAmp;\r\n   }\r\n}\r\n\r\nconst deriveJoints = (orientation: \"LR\" | \"RL\", inputAtTop: \"inverting\" | \"non-inverting\", where: Vector) => {\r\n   const [inHigh, inLow] = orientation === \"LR\"\r\n      ? [{ x: -30, y: -10 }, { x: -30, y: +10 }]\r\n      : [{ x: +30, y: -10 }, { x: +30, y: +10 }];\r\n\r\n   const [inInverting, inNonInverting] = inputAtTop === \"inverting\"\r\n      ? [inHigh, inLow] : [inLow, inHigh]\r\n\r\n   const [out] = orientation === \"LR\"\r\n      ? [{ x: +40, y: 0 }]\r\n      : [{ x: -40, y: 0 }];\r\n\r\n   const [powPositive, powNegative] = inputAtTop === \"inverting\"\r\n      ? [{ x: 0, y: -20 }, { x: 0, y: +20 }]\r\n      : [{ x: 0, y: +20 }, { x: 0, y: -20 }];\r\n\r\n   return vector([inInverting, inNonInverting, out, powPositive, powNegative]).sumWith(where).vectors;\r\n}\r\n","import ValueCheck from \"../~valueCheck\";\r\nimport * as Types from \"./types\";\r\nimport { Layout } from \"./~classes\";\r\nimport getMaker from \"../../generics/-getMaker\";\r\nimport { Vector } from \"../../../-vector\";\r\nimport Graphical from \"../addins/graphical\";\r\nimport Draggable from \"../addins/draggable\";\r\nimport Selectable from \"../addins/selectable\";\r\nimport Rotatable from \"../addins/rotatable\";\r\nimport ConnectionsHighlightable from \"../addins/connectionsHighlightable\"\r\nimport { ComponentDefaulter } from \"../@component\";\r\n\r\nconst defaulterLayout: ComponentDefaulter<Types.opamp<\"layout\">> = {\r\n   properties: {\r\n      offsetVoltage: ValueCheck.validate(\"number\", 0)\r\n   },\r\n   states: {\r\n      isDual: ValueCheck.validate(\"boolean\", false),\r\n      joints: ValueCheck.joints<[Vector, Vector]>(\r\n         [{ x: 30, y: 30 }, { x: 40, y: 30 }]\r\n      )\r\n   }\r\n};\r\n\r\nconst makeLayout = getMaker<Layout>(Layout, defaulterLayout,\r\n   Graphical,\r\n   Draggable,\r\n   Rotatable,\r\n   Selectable,\r\n   ConnectionsHighlightable\r\n);\r\nexport default makeLayout;\r\n","import ValueCheck from \"../~valueCheck\";\r\nimport * as Types from \"./types\";\r\nimport { Schematic } from \"./~classes\";\r\nimport getMaker from \"../../generics/-getMaker\";\r\nimport { Vector } from \"../../../-vector\";\r\nimport Graphical from \"../addins/graphical\";\r\nimport Draggable from \"../addins/draggable\";\r\nimport Selectable from \"../addins/selectable\";\r\nimport Extendable from \"../addins/extendable\";\r\nimport ConnectionsHighlightable from \"../addins/connectionsHighlightable\";\r\nimport { ComponentDefaulter } from \"../@component\";\r\n\r\nconst defaulterSchematic: ComponentDefaulter<Types.opamp<\"schematic\">> = {\r\n   properties: {\r\n      offsetVoltage: ValueCheck.validate(\"number\", 0)\r\n   },\r\n   states: {\r\n      joints: ValueCheck.joints<[Vector, Vector, Vector, Vector, Vector]>(\r\n         [{ x: -30, y: -10 }, { x: -30, y: +10 }, { x: 40, y: 0 }, { x: 0, y: -20 }, { x: 0, y: 20 }]\r\n      ),\r\n   }\r\n};\r\n\r\n\r\nconst makeSchematic = getMaker<Schematic>(Schematic, defaulterSchematic,\r\n   Selectable,\r\n   ConnectionsHighlightable,\r\n   Graphical,\r\n   Draggable,\r\n   Extendable\r\n);\r\n\r\nexport default makeSchematic;","import makeMap from \"../../generics/-makeMap\";\r\nimport { Schematic, Layout } from \"./~classes\";\r\nimport makeSchematic from \"./-makeSchematic\";\r\nimport makeLayout from \"./-makeLayout\";\r\nimport loadSchematic from \"./-loadSchematic\";\r\nimport loadLayout from \"./-loadLayout\";\r\n\r\n\r\nconst schematicMap = {\r\n   savename: \"makeOpAmp\",\r\n   diagramType: \"schematic\" as const,\r\n   instance: Schematic,\r\n   make: makeSchematic,\r\n   load: loadSchematic,\r\n}\r\n\r\nconst layoutMap = {\r\n   savename: \"makeLayoutOpAmp\",\r\n   diagramType: \"layout\" as const,\r\n   instance: Layout,\r\n   make: makeLayout,\r\n   load: loadLayout,\r\n}\r\n\r\nconst maps = {\r\n   schematic: makeMap(schematicMap, layoutMap),\r\n   layout: makeMap(layoutMap, schematicMap)\r\n}\r\nexport default maps;","// Schematic\r\nexport const INDEXINPOS = 0;\r\nexport const INDEXINNEG = 1;\r\nexport const INDEXOUT = 2;\r\nexport const INDEXPOW1 = 3;\r\nexport const INDEXPOW2 = 4;\r\n\r\n// Layout\r\nexport const INDEXCENTRE = 0;\r\nexport const INDEXROTATION = 1;\r\n\r\n\r\n","import Component, { Types as ComponentTypes } from \"../../+component\";\r\nimport * as Types from \"./types\";\r\nimport vector from \"../../../-vector\";\r\nimport makeConnector from \"../../generics/-makeConnector\";\r\nimport drawLayout from \"./-drawLayout\";\r\nimport drawSchematic from \"./-drawSchematic\";\r\nimport { INDEXINPOS, INDEXINNEG, INDEXOUT, INDEXPOW1, INDEXPOW2, INDEXCENTRE, INDEXROTATION } from \"./constants\";\r\n\r\nimport { gridSpacing } from \"../../../~constants\";\r\nimport { makeGroup } from \"../../../svg/element/+group\";\r\n\r\nabstract class Base {\r\n   type = \"opamp\" as const;\r\n   group = makeGroup();\r\n   \r\n\r\n   flags = {\r\n      order: \"fore\" as const,\r\n      disabled: false\r\n   }\r\n\r\n   transferFunction() { return [] };\r\n}\r\n\r\nexport class Schematic extends Base implements Component, Types.opamp<\"schematic\"> {\r\n   form = \"schematic\" as const\r\n   properties: Types.properties;\r\n   states: Types.stateSchematic;\r\n   constructor(properties: Types.properties, states: Types.stateSchematic) {\r\n      super();\r\n      this.properties = properties;\r\n      this.states = states;\r\n   }\r\n   draw() {\r\n      //(Prepend so handles appear on top)\r\n      this.group.prepend(drawSchematic(this));\r\n   }\r\n   getConnectors(): ComponentTypes.connector[][] {\r\n\r\n      let [posPower, negPower] = (this.states.joints[INDEXPOW1].y < this.states.joints[INDEXPOW2].y)\r\n         ? [this.states.joints[INDEXPOW1], this.states.joints[INDEXPOW2]]\r\n         : [this.states.joints[INDEXPOW2], this.states.joints[INDEXPOW1]];\r\n\r\n      return [[\r\n         // The ordering here is important so the colors line up between layout and schematic\r\n         makeConnector(this, \"vcc+\", \"node\", posPower, \"v+\"),              //7\r\n         makeConnector(this, \"out\", \"node\", this.states.joints[INDEXOUT], \"o\"),   //6\r\n         makeConnector(this, \"in-\", \"node\", this.states.joints[INDEXINNEG], \"i-\"),//2\r\n         makeConnector(this, \"in+\", \"node\", this.states.joints[INDEXINPOS], \"i+\"),//3\r\n         makeConnector(this, \"vcc-\", \"node\", negPower, \"v-\"),              //4\r\n         //makeConnector(this, \"nc\", \"node\", {???}),                       //8\r\n         //makeConnector(this, \"offset n1\", \"node\", {???}),                //5\r\n         //makeConnector(this, \"offset n2\", \"node\", {???}),                //1\r\n      ]];\r\n   }\r\n}\r\n\r\nexport class Layout extends Base implements Component, Types.opamp<\"layout\"> {\r\n   form = \"layout\" as const\r\n   properties: Types.properties;\r\n   states: Types.stateLayout;\r\n   constructor(properties: Types.properties, states: Types.stateLayout) {\r\n      super();\r\n      this.properties = properties;\r\n      this.states = states;\r\n   }\r\n   draw() {\r\n      //(Prepend so handles appear on top)\r\n      this.group.prepend(drawLayout(this));\r\n   }\r\n   getConnectors(): ComponentTypes.connector[][] {\r\n      const gs = gridSpacing;\r\n\r\n      const c = this.states.joints[INDEXCENTRE];\r\n      const r = vector(this.states.joints[INDEXCENTRE]).getAngleTo(this.states.joints[INDEXROTATION]);\r\n\r\n      const connectorPoints = vector([\r\n         { x: 0 * gs, y: 3 * gs },//1\r\n         { x: 1 * gs, y: 3 * gs },//2\r\n         { x: 2 * gs, y: 3 * gs },//3\r\n         { x: 3 * gs, y: 3 * gs },//4\r\n         { x: 3 * gs, y: 0 * gs },//5\r\n         { x: 2 * gs, y: 0 * gs },//6\r\n         { x: 1 * gs, y: 0 * gs },//7\r\n         { x: 0 * gs, y: 0 * gs } //8\r\n      ]).sumWith(vector(-30)).rotate(r).sumWith(c).vectors;\r\n\r\n\r\n      if (this.states.isDual) {\r\n         // Note that the power selectors physically occupy the same space.\r\n         return [[\r\n            makeConnector(this, \"vcc+\", \"pin\", connectorPoints[7], \"v+\"),  //8\r\n            makeConnector(this, \"out\", \"pin\", connectorPoints[6], \"1o\"),   //7\r\n            makeConnector(this, \"in-\", \"pin\", connectorPoints[5], \"1i-\"),  //6\r\n            makeConnector(this, \"in+\", \"pin\", connectorPoints[4], \"1i+\"),  //5\r\n            makeConnector(this, \"vcc-\", \"pin\", connectorPoints[3], \"v-\"),  //4\r\n         ], [\r\n            makeConnector(this, \"vcc+\", \"pin\", connectorPoints[7], \"v+\"),  //8\r\n            makeConnector(this, \"out\", \"pin\", connectorPoints[0], \"2o\"),   //1\r\n            makeConnector(this, \"in-\", \"pin\", connectorPoints[1], \"2i-\"),  //2\r\n            makeConnector(this, \"in+\", \"pin\", connectorPoints[2], \"2i+\"),  //3\r\n            makeConnector(this, \"vcc-\", \"pin\", connectorPoints[3], \"v-\"),  //4\r\n         ]];\r\n      } else {\r\n         return [[\r\n            // The ordering here is important so the colors line up between layout and schematic\r\n            makeConnector(this, \"vcc+\", \"pin\", connectorPoints[6], \"v+\"),  //7\r\n            makeConnector(this, \"out\", \"pin\", connectorPoints[5], \"o\"),    //6\r\n            makeConnector(this, \"in-\", \"pin\", connectorPoints[1], \"i-\"),   //2\r\n            makeConnector(this, \"in+\", \"pin\", connectorPoints[2], \"i+\"),   //3\r\n            makeConnector(this, \"vcc-\", \"pin\", connectorPoints[3], \"v-\"),  //4\r\n            makeConnector(this, \"nc\", \"pin\", connectorPoints[7], \"nc\"),    //8\r\n            makeConnector(this, \"offset n1\", \"pin\", connectorPoints[4], \"nc\"), //5\r\n            makeConnector(this, \"offset n2\", \"pin\", connectorPoints[0], \"nc\"), //1\r\n         ]];\r\n      }\r\n\r\n   }\r\n   replaceWithDual() {\r\n      this.states.isDual = true;\r\n      this.group.clearChildren();\r\n      this.draw();\r\n   }\r\n\r\n}\r\n\r\n","import { PowerLayout } from \"./~classes\";\r\nimport { INDEXCONNECTION } from \"./constants\";\r\n\r\nimport { makeText as makeText } from \"../../../svg/element/+text\";\r\nimport { makeGroup as makeGroup } from \"../../../svg/element/+group\";\r\nimport { makeCircle as makeCircle } from \"../../../svg/element/+circle\";\r\nimport { makeRect as makeRect } from \"../../../svg/element/+rect\";\r\n\r\nexport default function drawLayout(instance: PowerLayout) {\r\n   const bodyGroup = makeGroup(\"body\");\r\n\r\n   const text = instance.properties.voltage.toFixed(1);\r\n\r\n   bodyGroup.append(\r\n      makeRect({ x: 0, y: -35 }, { width: 180, height: 95 }, { x: 10, y: 10 }, \"body highlight\"),\r\n      makeRect({ x: 0, y: -45 }, { width: 160, height: 65 }, { x: 10, y: 10 }, \"screen\"),\r\n      makeText(\"8\".repeat(text.length - 1), { x: 0, y: -20 }, \"screentext off\"),\r\n      makeText(text, { x: 0, y: -20 }, \"screentext on\"),\r\n   );\r\n\r\n   return [\r\n      bodyGroup.translate(instance.states.joints[INDEXCONNECTION]),\r\n      makeCircle(instance.states.joints[INDEXCONNECTION], 5, \"hole\")\r\n   ];\r\n}\r\n","import { PowerSchematic } from \"./~classes\";\r\nimport { INDEXCONNECTION } from \"./constants\";\r\nimport getStandardForm from \"../../../utility/-getStandardForm\";\r\n\r\nimport { makeText as makeText } from \"../../../svg/element/+text\";\r\nimport { makeGroup as makeGroup } from \"../../../svg/element/+group\";\r\nimport { makeLine as makeLine } from \"../../../svg/element/+line\";\r\nimport { makeRect as makeRect } from \"../../../svg/element/+rect\";\r\n\r\nexport default function drawSchematic(instance: PowerSchematic) {\r\n   const bodyGroup = makeGroup(\"body\");\r\n\r\n   if (instance.properties.voltage < 0) {\r\n      bodyGroup.append(powerNegativeGraphics(instance.properties.voltage));\r\n   } else if (instance.properties.voltage > 0) {\r\n      bodyGroup.append(powerPositiveGraphics(instance.properties.voltage));\r\n   } else {\r\n      bodyGroup.append(powerGroundGraphics());\r\n   }\r\n\r\n   return [\r\n      bodyGroup.translate(instance.states.joints[INDEXCONNECTION])\r\n   ];\r\n}\r\n\r\nfunction powerNegativeGraphics(voltage: number) {\r\n   const text = getStandardForm(voltage, \"V\")\r\n   return [\r\n      makeRect({ x: 0, y: 18 }, { width: 40, height: 20 }, { x: 2, y: 2 }, \"highlight highlightwithfill extrathick\"),\r\n      makeLine({ x: -12, y: 15 }, { x: 12, y: 15 }, \"line medium\"),\r\n      makeText(text, { x: 0, y: 27 }, \"text bold\"),\r\n      makeLine({ x: 0, y: 15 }, { x: 0, y: 0 }, \"line thin\")\r\n   ]\r\n}\r\n\r\nfunction powerPositiveGraphics(voltage: number) {\r\n   const text = getStandardForm(voltage, \"V\")\r\n   return [\r\n      makeRect({ x: 0, y: -18 }, { width: 40, height: 20 }, { x: 2, y: 2 }, \"highlight highlightwithfill extrathick\"),\r\n      makeLine({ x: -12, y: -15 }, { x: 12, y: -15 }, \"line medium\"),\r\n      makeText(text, { x: 0, y: -17 }, \"text bold\"),\r\n      makeLine({ x: 0, y: -15 }, { x: 0, y: 0 }, \"line thin\")\r\n   ];\r\n}\r\n\r\nfunction powerGroundGraphics() {\r\n   return [\r\n      makeRect({ x: 0, y: 15 }, { width: 40, height: 20 }, { x: 2, y: 2 }, \"highlight highlightwithfill extrathick\"),\r\n      makeLine({ x: -18, y: 10 }, { x: 18, y: 10 }, \"line medium\"),\r\n      makeLine({ x: -12, y: 15 }, { x: 12, y: 15 }, \"line medium\"),\r\n      makeLine({ x: -6, y: 20 }, { x: 6, y: 20 }, \"line medium\"),\r\n      makeLine({ x: 0, y: 10 }, { x: 0, y: 0 }, \"line thin\")\r\n   ]\r\n}\r\n\r\n","import makeLayout from \"./-makeLayout\"\r\n\r\nexport default function loadLayout(raw: any) {\r\n   const voltage = (raw.voltage);\r\n   const joints = (raw.joints);\r\n\r\n   return makeLayout({ voltage, joints });\r\n}\r\n","import makeSchematic from \"./-makeSchematic\";\r\nimport vector, { Vector } from \"../../../-vector\";\r\nimport ValueCheck from \"../~valueCheck\";\r\n\r\nexport default function loadSchematic(raw: any) {\r\n   const voltage = (raw.voltage || raw.value);\r\n   //Joints Block\r\n   const where = ValueCheck.where({ x: 0, y: 0 })(raw.where);\r\n   const joints = (raw.joints || deriveJoints(voltage, where));\r\n\r\n   return makeSchematic({ voltage, joints, });\r\n}\r\n\r\nconst deriveJoints = (voltage: number, where: Vector) => {\r\n   const baseJoints = (voltage < 0)\r\n      ? [{ x: 0, y: -10 }] // negative\r\n      : (voltage > 0)\r\n         ? [{ x: 0, y: 10 }] // positive\r\n         : [{ x: 0, y: -10 }]; // zero (ground)\r\n   return vector(baseJoints).sumWith(where).vectors;\r\n}\r\n","import ValueCheck from \"../~valueCheck\";\r\nimport * as Types from \"./types\";\r\nimport { PowerLayout } from \"./~classes\";\r\nimport getMaker from \"../../generics/-getMaker\";\r\nimport { Vector } from \"../../../-vector\";\r\nimport Graphical from \"../addins/graphical\";\r\nimport Draggable from \"../addins/draggable\";\r\nimport Selectable from \"../addins/selectable\";\r\nimport ConnectionsHighlightable from \"../addins/connectionsHighlightable\";\r\nimport WiresCreatable from \"../addins/wiresCreatable\";\r\nimport { ComponentDefaulter } from \"../@component\";\r\n\r\nconst defaulterLayout: ComponentDefaulter<Types.power<\"layout\">> = {\r\n   properties: {\r\n      voltage: ValueCheck.validate(\"number\", 0)\r\n   },\r\n   states: {\r\n      joints: ValueCheck.joints<[Vector]>(\r\n         [{ x: 0, y: 40 }]\r\n      )\r\n   }\r\n};\r\n\r\nconst makeLayout = getMaker<PowerLayout>(PowerLayout, defaulterLayout,\r\n   Graphical,\r\n   Draggable,\r\n   Selectable,\r\n   ConnectionsHighlightable,\r\n   WiresCreatable\r\n);\r\n\r\n// TODO: Pass into connection highlight\r\n// function getHighlightColor(component: PowerLayout): string[] {\r\n//    return [(component.voltage < 0)\r\n//       ? \"blue\" // negative\r\n//       : (component.voltage > 0)\r\n//          ? \"red\" // positive\r\n//          : \"black\" // zero (ground);\r\n//    ]\r\n// }\r\nexport default makeLayout;\r\n","import ValueCheck from \"../~valueCheck\";\r\nimport * as Types from \"./types\";\r\nimport { PowerSchematic } from \"./~classes\";\r\nimport getMaker from \"../../generics/-getMaker\";\r\nimport { Vector } from \"../../../-vector\";\r\nimport Graphical from \"../addins/graphical\";\r\nimport Draggable from \"../addins/draggable\";\r\nimport Selectable from \"../addins/selectable\";\r\nimport ConnectionsHighlightable from \"../addins/connectionsHighlightable\";\r\nimport { ComponentDefaulter } from \"../@component\";\r\n\r\nconst defaulterSchematic: ComponentDefaulter<Types.power<\"schematic\">> = {\r\n   properties: {\r\n      voltage: ValueCheck.validate(\"number\", 0)\r\n   },\r\n   states: {\r\n      joints: ValueCheck.joints<[Vector]>(\r\n         [{ x: 0, y: 0 }]\r\n      )\r\n   }\r\n};\r\n\r\n\r\nconst makeSchematic = getMaker(PowerSchematic, defaulterSchematic,\r\n   Selectable,\r\n   ConnectionsHighlightable,\r\n   Graphical,\r\n   Draggable\r\n);\r\n\r\nexport default makeSchematic;","import makeMap from \"../../generics/-makeMap\";\r\nimport { PowerSchematic, PowerLayout } from \"./~classes\";\r\nimport makeSchematic from \"./-makeSchematic\";\r\nimport makeLayout from \"./-makeLayout\";\r\nimport loadSchematic from \"./-loadSchematic\";\r\nimport loadLayout from \"./-loadLayout\";\r\n\r\n\r\nconst schematicMap = {\r\n   savename: \"makePower\",\r\n   diagramType: \"schematic\" as const,\r\n   instance: PowerSchematic,\r\n   make: makeSchematic,\r\n   load: loadSchematic,\r\n}\r\n\r\nconst layoutMap = {\r\n   savename: \"makeLayoutPower\",\r\n   diagramType: \"layout\" as const,\r\n   instance: PowerLayout,\r\n   make: makeLayout,\r\n   load: loadLayout,\r\n   isUnique: true\r\n}\r\n\r\nconst maps = {\r\n   schematic: makeMap(schematicMap, layoutMap),\r\n   layout: makeMap(layoutMap, schematicMap)\r\n}\r\nexport default maps;\r\n","\r\nexport const INDEXCONNECTION = 0;\r\n\r\n\r\n","import Component, { Types as ComponentTypes } from \"../../+component\";\r\nimport * as Types from \"./types\";\r\nimport makeConnector from \"../../generics/-makeConnector\";\r\nimport drawLayout from \"./-drawLayout\";\r\nimport drawSchematic from \"./-drawSchematic\";\r\nimport { makeGroup } from \"../../../svg/element/+group\";\r\nabstract class PowerBase {\r\n   type = \"power\" as const;\r\n   group = makeGroup();\r\n   properties: Types.properties;\r\n   states: Types.state;\r\n   constructor(properties: Types.properties, states: Types.state) {\r\n      this.properties = properties;\r\n      this.states = states;\r\n   }\r\n\r\n   transferFunction() { return [] };\r\n}\r\n\r\nexport class PowerSchematic extends PowerBase implements Component, Types.power<\"schematic\"> {\r\n   form = \"schematic\" as const\r\n   flags = {\r\n      order: \"fore\" as const,\r\n      disabled: false\r\n   }\r\n\r\n   /** Builds and draws the components connectors */\r\n   getConnectors(): ComponentTypes.connector[][] {\r\n      return [\r\n         [makeConnector(this, \"\", \"node\", this.states.joints[0])]\r\n      ]\r\n   }\r\n\r\n   draw() {\r\n      //(Prepend so handles appear on top)\r\n      this.group.prepend(drawSchematic(this));\r\n   }\r\n}\r\n\r\nexport class PowerLayout extends PowerBase implements Component, Types.power<\"layout\"> {\r\n   form = \"layout\" as const\r\n   flags = {\r\n      order: \"mid\" as const,\r\n      disabled: false\r\n   }\r\n\r\n   /** Builds and draws the components connectors */\r\n   getConnectors(): ComponentTypes.hole[][] {\r\n      return [[\r\n         makeConnector(this, \"\", \"hole\", this.states.joints[0])\r\n      ]]\r\n   }\r\n\r\n   draw() {\r\n      //(Prepend so handles appear on top)\r\n      this.group.prepend(drawLayout(this));\r\n   }\r\n}\r\n\r\n","import { StripboardLayout } from \"./~classes\";\r\nimport vector from \"../../../-vector\";\r\nimport { INDEXCENTRE, INDEXROTATION } from \"./constants\";\r\n\r\nimport { makeGroup as makeGroup } from \"../../../svg/element/+group\";\r\nimport { makeRect as makeRect } from \"../../../svg/element/+rect\";\r\nimport { gridSpacing } from \"../../../~constants\";\r\nimport makeTracks from \"./-makeTracks\";\r\n\r\n\r\nexport default function drawLayout(instance: StripboardLayout) {\r\n   const bodyGroup = makeGroup(\"body\");\r\n\r\n   const rotation = vector(instance.states.joints[INDEXCENTRE]).getAngleTo(instance.states.joints[INDEXROTATION]);\r\n   instance.tracks = makeTracks(instance)\r\n\r\n   const size = {\r\n      width: (instance.properties.columns + 0.5) * gridSpacing,\r\n      height: (instance.properties.rows + 0.5) * gridSpacing\r\n   };\r\n   const cornerRounding = { x: 3, y: 3 };\r\n\r\n   bodyGroup.append(\r\n      makeRect(vector(0), size, cornerRounding, \"body highlight\").translate(instance.states.joints[INDEXCENTRE]).rotate(rotation),\r\n      instance.tracks.map(t => t.group)\r\n   );\r\n\r\n   return bodyGroup;\r\n}","import makeLayout from \"./-makeLayout\";\r\n\r\nexport default function loadLayout(raw: any) {\r\n   const rows = (raw.rows);\r\n   const columns = (raw.columns);\r\n   const trackBreaks = (raw.trackBreaks);\r\n   const joints = (raw.joints);\r\n\r\n   return makeLayout({ rows, columns, trackBreaks, joints });\r\n}\r\n","import ValueCheck from \"../~valueCheck\";\r\nimport * as Types from \"./types\";\r\nimport { StripboardLayout } from \"./~classes\";\r\nimport getMaker from \"../../generics/-getMaker\";\r\nimport { Vector } from \"../../../-vector\";\r\nimport Graphical from \"../addins/graphical\";\r\nimport Draggable from \"../addins/draggable\";\r\nimport Selectable from \"../addins/selectable\";\r\nimport Board from \"../addins/board\";\r\nimport WiresCreatable from \"../addins/wiresCreatable\"\r\nimport Rotatable from \"../addins/rotatable\";\r\nimport ReversableBoard from \"../addins/reversableBoard\";\r\nimport { ComponentDefaulter } from \"../@component\";\r\n\r\n\r\nconst defaulterLayout: ComponentDefaulter<Types.stripboard<\"layout\">> = {\r\n   properties: {\r\n      rows: ValueCheck.integer(1),\r\n      columns: ValueCheck.integer(1),\r\n      \r\n   },\r\n   states: {\r\n      trackBreaks: validateTrackBreaks([]),\r\n      joints: ValueCheck.joints<[Vector, Vector]>(\r\n         [{ x: 0, y: 0 }, { x: 20, y: 0 }]\r\n      ),\r\n   }\r\n};\r\n\r\nfunction validateTrackBreaks<T extends Types.trackBreak[]>(fallback: T): ValueCheck.validater<T> {\r\n   const result = (value: unknown, log: boolean = true) => {\r\n      const predicate = (v: unknown) => ((value && Array.isArray(value) && value.every((tB: Types.trackBreak) => {\r\n         return (('track' in tB) && ('hole' in tB) && (typeof tB.track === 'number') && (typeof tB.hole === 'number'));\r\n      })));\r\n\r\n      return ValueCheck.validate<T>(predicate, fallback)(value);\r\n   }\r\n\r\n   return result;\r\n}\r\n\r\nconst makeLayout = getMaker<StripboardLayout>(StripboardLayout, defaulterLayout,\r\n   Graphical,\r\n   Board,\r\n   ReversableBoard,\r\n   Selectable,\r\n   WiresCreatable,\r\n   Draggable,\r\n   Rotatable\r\n);\r\nexport default makeLayout;\r\n","import { StripboardLayout as Stripboard } from \"./~classes\";\r\nimport { TrackLayout as Track, TrackLayout } from \"../_track/~classes\";\r\nimport TrackMap from \"../_track/-maps\";\r\nimport vector from \"../../../-vector\";\r\n\r\nimport { gridSpacing } from \"../../../~constants\";\r\n\r\nexport default function makeTracks(parent: Stripboard): Track[] {\r\n   const rotation = vector(parent.states.joints[0]).getAngleTo(parent.states.joints[1]);\r\n\r\n   const start = vector({ x: parent.properties.columns -1, y: parent.properties.rows -1 })\r\n      .scaleWith(-gridSpacing / 2)\r\n      .rotate(rotation)\r\n      .sumWith(parent.states.joints[0])\r\n\r\n   const step = vector({ x: gridSpacing, y: 0 }).rotate(rotation);\r\n\r\n   const tracks = [...Array(parent.properties.rows).keys()].map((row) => {\r\n      // The position of the start of the row (the first hole)\r\n      const rowStart = vector({ x: 0, y: row * gridSpacing })\r\n         .rotate(rotation)\r\n         .sumWith(start).vector;\r\n\r\n      // The offset between each hole and the next in gridSpacings\r\n      const holeSpacings: number[] = [0, ...Array(parent.properties.columns - 1).fill(1)];\r\n\r\n      const breaks = parent.states.trackBreaks.filter(b => b.track === row).map(b => b.hole);\r\n\r\n      return TrackMap.make({\r\n         holeSpacings: holeSpacings,\r\n         style: \"stripboard\",\r\n         joints: [rowStart, step],\r\n         breaks: breaks\r\n      }, false) as TrackLayout;\r\n   })\r\n\r\n   return tracks;\r\n}\r\n","import makeMap from \"../../generics/-makeMap\";\r\nimport { StripboardLayout } from \"./~classes\";\r\nimport makeLayout from \"./-makeLayout\";\r\nimport loadLayout from \"./-loadLayout\";\r\n\r\nconst layoutMap = {\r\n   savename: \"makeLayoutStripboard\",\r\n   diagramType: \"layout\" as const,\r\n   instance: StripboardLayout,\r\n   make: makeLayout,\r\n   load: loadLayout,\r\n   isBoard: true\r\n}\r\n\r\nconst maps = {\r\n   layout: makeMap(layoutMap),\r\n}\r\nexport default maps;","\r\nexport const INDEXCENTRE = 0;\r\nexport const INDEXROTATION = 1;\r\n\r\n\r\n","import Component, { Types as ComponentTypes } from \"../../+component\";\r\nimport * as Types from \"./types\";\r\nimport { TrackLayout as Track } from \"../_track/~classes\";\r\nimport drawLayout from \"./-drawLayout\";\r\nimport { makeGroup } from \"../../../svg/element/+group\";\r\n\r\nexport class StripboardLayout implements Component, Types.stripboard<\"layout\"> {\r\n   type = \"stripboard\" as const;\r\n   group = makeGroup();\r\n   form = \"layout\" as const\r\n   tracks: Track[] = [];\r\n   properties: Types.properties;\r\n   states: Types.state;\r\n   constructor(properties: Types.properties, states: Types.state) {\r\n      this.properties = properties\r\n      this.states = states\r\n   }\r\n   getConnectors(): ComponentTypes.hole[][] {\r\n      return this.tracks.map((track) => {\r\n         return track.getConnectors()[0]\r\n      })\r\n   }\r\n\r\n   draw() {\r\n      this.group.prepend(drawLayout(this))\r\n   }\r\n   flags = {\r\n      order: \"back\" as const,\r\n      disabled: false\r\n   }\r\n\r\n   transferFunction() { return [] };\r\n}\r\n\r\n","import { TrackLayout } from \"./~classes\";\r\nimport vector, { Vector } from \"../../../-vector\";\r\nimport { INDEXSTART, INDEXSTEP } from \"./constants\";\r\nimport cumulativeSum from \"../../../utility/-cumulativeSum\";\r\n\r\nimport { makeCircle as makeCircle } from \"../../../svg/element/+circle\";\r\nimport { makeRect as makeRect } from \"../../../svg/element/+rect\";\r\n\r\nimport { gridSpacing } from \"../../../~constants\";\r\n\r\nconst drawStripboardHole = (position: Vector) => makeCircle(position, 4, \"hole\");\r\nconst drawBreadboardHole = (position: Vector) => makeRect(position, { width: 8, height: 8 }, vector(0.5), \"hole\");\r\n\r\nexport default function drawLayout(instance: TrackLayout) {\r\n   const holeFunc = (instance.properties.style === \"breadboard\") ? drawBreadboardHole : drawStripboardHole;\r\n\r\n   const start = instance.states.joints[INDEXSTART];\r\n   const step = instance.states.joints[INDEXSTEP];\r\n\r\n   // Create the holes\r\n   const holePositions = vector(step).scaleMap(cumulativeSum(...instance.properties.holeSpacings)).sumWith(start).vectors;\r\n\r\n   const holes = holePositions.map(hp => holeFunc(hp))\r\n\r\n   const track = drawTrack(holePositions);\r\n\r\n   return [track, ...holes]\r\n}\r\n\r\nconst drawTrack = (holePositions: Vector[]) => {\r\n   let start = holePositions[0];\r\n   let end = holePositions[holePositions.length - 1];\r\n   //: Vector, step: Vector, stepCount: number\r\n   // Create the track\r\n   let relativeEnd = vector(end, vector(start).scaleWith(-1)).sum();\r\n\r\n   let { radius, angle } = relativeEnd.asPolar();\r\n\r\n   let centre = vector(start, start, relativeEnd).sum().scaleWith(0.5).vector;\r\n\r\n   let size = {\r\n      width: radius + gridSpacing * 0.8,\r\n      height: gridSpacing * 14 / 16\r\n   }\r\n\r\n   return makeRect(centre, size, vector(0), 'body').rotate(angle, centre);\r\n}\r\n\r\n","import makeLayout from \"./-makeLayout\"\r\n\r\nexport default function loadLayout(raw: any) {\r\n   return makeLayout({});\r\n}\r\n","import ValueCheck from \"../~valueCheck\";\r\nimport * as Types from \"./types\";\r\nimport { TrackLayout } from \"./~classes\";\r\nimport getMaker from \"../../generics/-getMaker\";\r\nimport { Vector } from \"../../../-vector\";\r\nimport Graphical from \"../addins/graphical\";\r\nimport { ComponentDefaulter } from \"../@component\";\r\n\r\n\r\nconst defaulter: ComponentDefaulter<Types.track<\"layout\">> = {\r\n   properties: {\r\n      style: ValueCheck.validate<\"breadboard\" | \"stripboard\">([\"breadboard\", \"stripboard\"], \"breadboard\"),\r\n      holeSpacings: ValueCheck.validate(\r\n         v => Array.isArray(v) && v.every(ValueCheck.test(\"number\")), [0]\r\n      ),\r\n      rows: ValueCheck.integer(1),\r\n      columns: ValueCheck.integer(1)\r\n   },\r\n   states: {\r\n      joints: ValueCheck.joints<[Vector, Vector]>(\r\n         [{ x: 0, y: 0 }, { x: 20, y: 0 }]\r\n      ),\r\n      breaks: ValueCheck.validate(\r\n         v => Array.isArray(v) && v.every(ValueCheck.test(\"number\")), []\r\n      )   \r\n   }\r\n};\r\n\r\nconst makeLayout = getMaker<TrackLayout>(TrackLayout, defaulter,\r\n   Graphical\r\n);\r\nexport default makeLayout;\r\n\r\n\r\n","import makeMap from \"../../generics/-makeMap\";\r\nimport { TrackLayout } from \"./~classes\";\r\nimport makeLayout from \"./-makeLayout\";\r\nimport loadLayout from \"./-loadLayout\";\r\n\r\n\r\nconst maps = makeMap({\r\n   savename: \"makeLayoutTrack\",\r\n   diagramType: \"layout\" as const,\r\n   instance: TrackLayout,\r\n   make: makeLayout,\r\n   load: loadLayout\r\n});\r\nexport default maps;","\r\nexport const INDEXSTART = 0;\r\nexport const INDEXSTEP = 1;\r\n\r\n\r\n","import Component, { Types as ComponentTypes } from \"../../+component\";\r\nimport * as Types from \"./types\";\r\nimport vector from \"../../../-vector\";\r\nimport makeConnector from \"../../generics/-makeConnector\";\r\nimport drawLayout from \"./-drawLayout\";\r\nimport { makeGroup } from \"../../../svg/element/+group\";\r\n\r\nexport class TrackLayout implements Component, Types.track<\"layout\"> {\r\n   type = \"track\" as const;\r\n   group = makeGroup();\r\n   form = \"layout\" as const\r\n   properties: Types.properties;\r\n   states: Types.state;\r\n   constructor(properties: Types.properties, states: Types.state) {\r\n      this.properties = properties;\r\n      this.states = states;\r\n   }\r\n   draw() {\r\n      //(Prepend so handles appear on top)\r\n      this.group.prepend(drawLayout(this));\r\n   }\r\n\r\n   /** Builds and draws the components connectors */\r\n   getConnectors(): ComponentTypes.hole[][] {\r\n\r\n      const start = this.states.joints[0];\r\n      const step = this.states.joints[1];\r\n\r\n\r\n      let connectorSets: ComponentTypes.hole[][] = [[]];\r\n      // Create the holes\r\n      let accHs = 0;\r\n      this.properties.holeSpacings.forEach((hS, idx) => {\r\n         accHs += hS;\r\n\r\n         let holePos = vector(step)\r\n            .scaleWith(accHs)\r\n            .sumWith(start)\r\n            .vector;\r\n\r\n         const connectorType = this.states.breaks.includes(idx) ? \"brokenhole\" : \"hole\";\r\n         connectorSets[0].push(\r\n            makeConnector(this, \"\", connectorType, holePos)\r\n         );\r\n      })\r\n\r\n      return connectorSets\r\n   }\r\n   flags = {\r\n      order: \"fore\" as const,\r\n      disabled: false\r\n   }\r\n\r\n   /** ...\r\n   */\r\n   transferFunction(from: ComponentTypes.hole): ComponentTypes.connector[] {\r\n      let connectors = this.getConnectors();\r\n      let fromIdx = connectors[0].findIndex((c)=>vector(c.point).isCloseTo(from.point))\r\n      let connected: ComponentTypes.connector[] = [];\r\n      for (let i = fromIdx + 1; i < connectors[0].length; i++) {\r\n         if (connectors[0][i].type === \"brokenhole\") break;\r\n         connected.push(connectors[0][i]);\r\n      }\r\n      for (let i = fromIdx - 1; i >= 0; i--) {\r\n         if (connectors[0][i].type === \"brokenhole\") break;\r\n         connected.push(connectors[0][i]);\r\n      }\r\n\r\n      return connected;\r\n   }\r\n\r\n}\r\n\r\n","import { Layout } from \"./~classes\";\r\nimport { Vector } from \"../../../-vector\";\r\n\r\nimport { makePath as makePath } from \"../../../svg/element/+path\";\r\nimport { makeGroup as makeGroup } from \"../../../svg/element/+group\";\r\n//import * as $ from 'jquery';\r\n\r\nexport default function drawLayout(instance: Layout) {\r\n   const bodyGroup = makeGroup(\"body\");\r\n\r\n   const joints = instance.states.joints;\r\n\r\n   let coverPath, leadPath: string = \"\";\r\n\r\n   //The proportion of half the end joints that is cover not lead\r\n   let coverRatio = 0.6; //BETWEEN 0 and 1\r\n\r\n   //Start at the beginning\r\n   coverPath = leadPath = \"M \" + joints[0].x + \" \" + joints[0].y;\r\n\r\n   // Draw cover towards the midpoint of first two joints (starting from coverRatio)\r\n   coverPath += getSegmentTowardsJointMid(joints[0], joints[1], -coverRatio);\r\n   // Draw lead path from start to midpoint of the first two joints\r\n   leadPath += getSegmentTowardsJointMid(joints[0], joints[1], 1);\r\n\r\n   // Draw curve between all mid joints\r\n   let pathMid = getBezierBetweenJoints(joints);\r\n   coverPath += pathMid;\r\n   leadPath += pathMid;\r\n\r\n   // Draw cover away from the midpoint of the last two joints (starting from 1-coverRatio)\r\n   coverPath += getSegmentTowardsJointMid(joints[joints.length - 2], joints[joints.length - 1], coverRatio)\r\n   // Draw lead path to end\r\n   leadPath += getSegmentTowardsJointMid(joints[joints.length - 2], joints[joints.length - 1], 1)\r\n\r\n   let cover = makePath(coverPath, \"cover\");\r\n\r\n   $(cover.element).css(\"stroke\", instance.states.color);\r\n   //Style and add lead, cover\r\n   //(Prepend so handles appear on top)\r\n\r\n   bodyGroup.append(\r\n      makePath(leadPath, \"lead\"),\r\n      makePath(coverPath, \"leadhighlight highlight\"),\r\n      cover,\r\n   );\r\n\r\n   return bodyGroup;\r\n}\r\n\r\nfunction getBezierBetweenJoints(joints: Vector[]): string {\r\n   //Assume we are starting at the midpoint between first two joints\r\n   let path: string = \"\";\r\n\r\n   for (let j = 1; j < joints.length - 1; j++) {\r\n\r\n      // End each curve at the mid point between the last two joints\r\n      let p3 = {\r\n         x: (joints[j + 1].x + joints[j].x) / 2,\r\n         y: (joints[j + 1].y + joints[j].y) / 2\r\n      }\r\n\r\n      path += \"Q \" + joints[j].x + \" \" + joints[j].y +\r\n         \" \" + p3.x + \" \" + p3.y;\r\n   }\r\n\r\n   return path;\r\n}\r\n\r\n// Starting or ending at a midpoint\r\nfunction getSegmentTowardsJointMid(j0: Vector, j1: Vector, ratio: number): string {\r\n   let changeMid = {\r\n      x: (j1.x - j0.x) / 2,\r\n      y: (j1.y - j0.y) / 2\r\n   }\r\n\r\n   if (Math.sign(ratio) >= 0) {\r\n      return 'l' + (changeMid.x * ratio) + \" \" + (changeMid.y * ratio) +\r\n         'm' + (changeMid.x * (1 - ratio)) + \" \" + (changeMid.y * (1 - ratio));\r\n   } else {\r\n      ratio = Math.abs(ratio);\r\n      return 'm' + (changeMid.x * (1 - ratio)) + \" \" + (changeMid.y * (1 - ratio)) +\r\n         'l' + (changeMid.x * ratio) + \" \" + (changeMid.y * ratio);\r\n   }\r\n}\r\n","import { Schematic } from \"./~classes\";\r\n\r\nimport { makePath as makePath } from \"../../../svg/element/+path\";\r\n\r\nexport default function drawSchematic(instance: Schematic) {\r\n   return [\r\n      makePath(instance.states.joints, \"line thin\")\r\n   ];\r\n}\r\n\r\n","import makeLayout from \"./-makeLayout\"\r\n\r\nexport default function loadLayout(raw: any) {\r\n   const color = (raw.color || raw.colour);\r\n   //Joints Block\r\n   const joints = (raw.joints);\r\n\r\n   return makeLayout({ color, joints });\r\n}\r\n","import makeSchematic from \"./-makeSchematic\";\r\n\r\nexport default function loadSchematic(raw: any) {\r\n   //Joints Block\r\n   const joints = (raw.joints);\r\n\r\n   return makeSchematic({ joints });\r\n}\r\n","import ValueCheck from \"../~valueCheck\";\r\nimport * as Types from \"./types\";\r\nimport { Layout } from \"./~classes\";\r\nimport getMaker from \"../../generics/-getMaker\";\r\nimport Graphical from \"../addins/graphical\";\r\nimport Draggable from \"../addins/draggable\";\r\nimport Selectable from \"../addins/selectable\";\r\nimport Extendable from \"../addins/extendable\";\r\n// import Extendable_ from \"../addins/extendable_\";\r\nimport ConnectionsHighlightable from \"../addins/connectionsHighlightable\";\r\nimport Recolorable from \"../addins/recolorable\";\r\nimport { ComponentDefaulter } from \"../@component\";\r\n\r\nconst defaulterLayout: ComponentDefaulter<Types.wire<\"layout\">> = {\r\n   properties: {\r\n\r\n   },\r\n   states: {\r\n      joints: ValueCheck.joints(\r\n         [{ x: 0, y: 0 }, { x: 80, y: 0 }], l => l >= 2\r\n      ),\r\n      color: ValueCheck.color(\"#545454\")\r\n   }\r\n};\r\n\r\nexport const makeLayout = getMaker(Layout, defaulterLayout,\r\n   Graphical,\r\n   Draggable,\r\n   Selectable,\r\n   [Extendable, { reticulatable: true, removable: true }],\r\n   // [Extendable_, { reticulatable: true, removable: true }],\r\n   [ConnectionsHighlightable, {}],\r\n   Recolorable\r\n);\r\n\r\n//{ canAddJoints: true, canRemoveJoints: true, canRemoveComponent: true }\r\nexport default makeLayout;","import ValueCheck from \"../~valueCheck\";\r\nimport * as Types from \"./types\";\r\nimport { Schematic } from \"./~classes\";\r\nimport getMaker from \"../../generics/-getMaker\";\r\nimport Graphical from \"../addins/graphical\";\r\nimport Draggable from \"../addins/draggable\";\r\nimport Selectable from \"../addins/selectable\";\r\nimport Extendable from \"../addins/extendable\";\r\nimport Junctions from \"../addins/junctions\"\r\nimport { ComponentDefaulter } from \"../@component\";\r\n\r\nconst defaulterSchematic: ComponentDefaulter<Types.wire<\"schematic\">> = {\r\n   properties: {\r\n\r\n   },\r\n   states: {\r\n      joints: ValueCheck.joints([{ x: 0, y: 0 }, { x: 10, y: 10 }], l => l >= 2)\r\n   }\r\n};\r\n\r\n// TODO: Pass in options for extendable and others (options={?}) (true,true)\r\nexport const makeSchematic = getMaker<Schematic>(Schematic, defaulterSchematic,\r\n   Junctions,\r\n   Selectable,\r\n   Graphical,\r\n   Draggable,\r\n   [Extendable, { reticulatable: true, removable: true}]\r\n);\r\nexport default makeSchematic;\r\n","import makeMap from \"../../generics/-makeMap\";\r\nimport { Schematic, Layout } from \"./~classes\";\r\nimport makeSchematic from \"./-makeSchematic\";\r\nimport makeLayout from \"./-makeLayout\";\r\nimport loadSchematic from \"./-loadSchematic\";\r\nimport loadLayout from \"./-loadLayout\";\r\n\r\n\r\nconst schematicMap = {\r\n   savename: \"makeWire\",\r\n   diagramType: \"schematic\" as const,\r\n   instance: Schematic,\r\n   make: makeSchematic,\r\n   load: loadSchematic\r\n}\r\n\r\nconst layoutMap = {\r\n   savename: \"makeLayoutWire\",\r\n   diagramType: \"layout\" as const,\r\n   instance: Layout,\r\n   make: makeLayout,\r\n   load: loadLayout\r\n}\r\n\r\nconst maps = {\r\n   schematic: makeMap(schematicMap),\r\n   layout: makeMap(layoutMap)\r\n}\r\nexport default maps;\r\n","import Component, { Types as ComponentTypes } from \"../../+component\";;\r\nimport * as Types from \"./types\";\r\nimport makeConnector from \"../../generics/-makeConnector\";\r\nimport Flatten from \"../../../utility/~flatten\";\r\nimport drawLayout from \"./-drawLayout\";\r\nimport drawSchematic from \"./-drawSchematic\";\r\nimport { makeGroup } from \"../../../svg/element/+group\";\r\n\r\nabstract class Base implements Types.properties {\r\n   type = \"wire\" as const;\r\n   group = makeGroup();\r\n}\r\n\r\nexport class Schematic extends Base implements Component, Types.wire<\"schematic\"> {\r\n   form = \"schematic\" as const\r\n   properties: Types.properties\r\n   states: Types.stateSchematic\r\n   constructor(properties: Types.properties, states: Types.stateSchematic) {\r\n      super();\r\n      this.properties = properties;\r\n      this.states = states;\r\n   }\r\n   draw() {\r\n      //(Prepend so handles appear on top)\r\n      this.group.prepend(drawSchematic(this));\r\n   }\r\n\r\n   flags = {\r\n      order: \"back\" as const,\r\n      disabled: false\r\n   }\r\n\r\n   getConnectors(): ComponentTypes.node[][] {\r\n      const end1 = this.states.joints[0];\r\n      const end2 = this.states.joints[this.states.joints.length - 1];\r\n\r\n      return [[\r\n         makeConnector(this, \"end1\", \"node\", end1),\r\n         makeConnector(this, \"end2\", \"node\", end2)]\r\n      ]\r\n   }\r\n   transferFunction(from: ComponentTypes.connector): ComponentTypes.connector[] {\r\n      return Flatten.flatten2d(this.getConnectors().map(connectorSet => connectorSet.filter(\r\n         c => !(c.name === from.name && c.component == from.component) \r\n      )));\r\n   }\r\n\r\n}\r\n\r\nexport class Layout extends Base implements Component, Types.wire<\"layout\"> {\r\n   form = \"layout\" as const\r\n   properties: Types.properties;\r\n   states: Types.stateLayout;\r\n   constructor(properties: Types.properties, states: Types.stateLayout) {\r\n      super();\r\n      this.properties = properties;\r\n      this.states = states;\r\n   }\r\n\r\n   draw() {\r\n      //(Prepend so handles appear on top)\r\n      this.group.prepend(drawLayout(this));\r\n   }\r\n\r\n   flags = {\r\n      order: \"fore\" as const,\r\n      disabled: false\r\n   }\r\n\r\n   getConnectors(): ComponentTypes.connector[][] {\r\n      return [[\r\n         makeConnector(this, \"end1\", \"pin\", this.states.joints[0]),\r\n         makeConnector(this, \"end2\", \"pin\", this.states.joints[this.states.joints.length - 1]),]\r\n      ]\r\n   }\r\n   \r\n   transferFunction(from: ComponentTypes.connector): ComponentTypes.connector[] {\r\n      return Flatten.flatten2d(this.getConnectors().map(connectorSet => connectorSet.filter(\r\n         c => !(c.name === from.name && c.component == from.component) \r\n      )));\r\n   }\r\n}\r\n\r\n","import Component from \"../../+component\";\r\nimport { TrackLayout as Track } from \"../_track/~classes\";\r\n// import Flatten from \"../../../utility/~flatten\";\r\n//import * as $ from 'jquery';\r\n\r\ntype board = Component & {\r\n   tracks: Track[]\r\n}\r\n\r\nconst Board = (() => {\r\n   const init = (component: board) => {\r\n      $(component.group.element).addClass(\"board\");\r\n\r\n      // Object.defineProperty(component, 'connectorSets', {\r\n      //    get: () => Flatten.flatten2d(component.tracks.map(track => track.getConnectors()))\r\n      // });\r\n   }\r\n\r\n   return { init }\r\n})()\r\nexport default Board;\r\n","import Component, { Types as ComponentTypes } from \"../../+component\";\r\nimport Events from \"../../events\";\r\nimport { makeCircle as makeCircle } from \"../../../svg/element/+circle\";\r\nimport { makeText as makeText } from \"../../../svg/element/+text\";\r\nimport getComponentConnections from \"../../generics/-getComponentConnections\";\r\n//import * as $ from 'jquery';\r\n\r\ntype colorPalette = string[];\r\n\r\nconst ConnectionsHighlightable = (() => {\r\n   const init = (\r\n      component: Component,\r\n      options: {\r\n         propogate?: boolean,\r\n         colorPalette?: colorPalette\r\n      } = {}) => {\r\n\r\n      let {\r\n         propogate = true,\r\n         colorPalette = defaultColorPalette,\r\n      } = { ...options }\r\n\r\n      let element = component.group.element;\r\n\r\n      $(element).on(Events.select, () => {\r\n         createConnectionsHighlights(component, propogate, colorPalette);\r\n      });\r\n      $(element).on(Events.draw, () => {\r\n         clearConnectionsHighlights(component);\r\n         if ($(component.group.element).hasClass(\"selected\")) {\r\n            createConnectionsHighlights(component, propogate, colorPalette);\r\n         }\r\n      });\r\n      $(element).on(Events.deselect, () => {\r\n         clearConnectionsHighlights(component);\r\n      });\r\n\r\n   }\r\n\r\n   const createConnectorHighlights = (component: Component, connection: ComponentTypes.connector, color: string) => {\r\n      let highlight = makeCircle(connection.point, 4, \"highlight highlightwithfill connectivityhighlight\");\r\n\r\n      $(highlight.element).css({ \"fill\": color, \"stroke\": color })\r\n      component.group.append(highlight);\r\n\r\n      if (connection.symbol !== undefined) {\r\n         let symbol = makeText(connection.symbol, connection.point, \"text connectivityhighlight\");\r\n         component.group.append(symbol);\r\n      }\r\n   }\r\n\r\n   const createConnectionsHighlights = (component: Component, propogate: boolean, colorPalette: colorPalette) => {\r\n      // Make sure the connectors are up to date\r\n\r\n      const connectionSets = getComponentConnections(component);\r\n      connectionSets.forEach(connectionSet => {\r\n         connectionSet.forEach((connectorConnections, i) => {\r\n            let color = colorPalette[i % colorPalette.length];\r\n            if (connectorConnections.length > 1 && propogate) {\r\n               connectorConnections.slice(1).forEach(connector => {\r\n                  createConnectorHighlights(component, connector, color)\r\n               })\r\n            }\r\n            createConnectorHighlights(component, connectorConnections[0], color);\r\n         })\r\n      })\r\n\r\n   }\r\n\r\n\r\n   const clearConnectionsHighlights = (component: Component) => {\r\n      $(component.group.element).find(\".connectivityhighlight\").remove();\r\n   }\r\n\r\n   const defaultColorPalette: colorPalette = [\r\n      \"red\",\r\n      \"#8bc34a\",\r\n      \"pink\",\r\n      \"yellow\",\r\n      \"cyan\",\r\n      \"orange\",\r\n      \"purple\",\r\n      \"magenta\"\r\n   ]\r\n\r\n   return { init }\r\n})()\r\nexport default ConnectionsHighlightable","import Component, { insert } from \"../../+component\";\r\nimport vector, { Vector } from \"../../../-vector\";\r\n// import mappings from \"../../mappings\";\r\nimport Events from \"../../events\";\r\nimport history from \"../../history\";\r\n// import ControlValues from \"../../../~controlValues\";\r\n//import * as $ from 'jquery';\r\n\r\ntype draggableComponent = Component & { states: { joints: Vector[] } };\r\n\r\nconst Draggable = (() => {\r\n   const init = (component: draggableComponent, enablePredicate: ()=>boolean) => {\r\n      const element = component.group.element;\r\n\r\n      $(element).addClass(\"draggable\")\r\n\r\n      $(element).on(Events.dragStart, (e) => {\r\n         if (e.target === element) {\r\n            history.add(component);\r\n            insert(component);\r\n         }\r\n      });\r\n\r\n      $(element).on(Events.drag, (e, drag: Vector) => {\r\n         if (e.target === element) {\r\n            component.states.joints = vector(component.states.joints).sumWith(drag).vectors\r\n            $(element).trigger(Events.draw);\r\n         }\r\n      });\r\n\r\n      $(element).on(Events.dragStop, (e) => {\r\n         if (e.target === element) {\r\n            component.states.joints = component.states.joints.map(j => vector(j).round().vector)\r\n         }\r\n      });\r\n\r\n      // // TODO, I don't quite like how this is coupled together\r\n      // if (mappings.getComponentMapSafe(component).isBoard\r\n      //    && !ControlValues.boardDraggingEnabled\r\n      // ) {\r\n      //    disable(component);\r\n      // }\r\n   }\r\n\r\n   const disable = (component: Component) => {\r\n      if ($(component.group.element).draggable(\"instance\") !== undefined) {\r\n         $(component.group.element).draggable(\"disable\");\r\n      }\r\n   }\r\n\r\n   const enable = (component: Component) => {\r\n      if ($(component.group.element).draggable(\"instance\") !== undefined) {\r\n         $(component.group.element).draggable(\"enable\");\r\n      }\r\n   }\r\n\r\n   return { init, disable, enable }\r\n})()\r\nexport default Draggable;","import Events from \"../../events\";\r\nimport Component from \"../../+component\";\r\nimport manifest from \"../../manifest\";\r\nimport history from \"../../history\";\r\nimport vector, { Vector } from \"../../../-vector\";\r\nimport { makeCircle as makeCircle } from \"../../../svg/element/+circle\";\r\nimport isNot from \"../../../utility/-isNot\";\r\nimport { Strict } from \"../../../++types\";\r\nimport { gridSpacing } from \"../../../~constants\";\r\n//import * as $ from 'jquery';\r\n\r\ntype extendableComponent = Component & { states: { joints: Vector[] } };\r\n\r\nconst Extendable = (() => {\r\n   type Options = {\r\n      reticulatable?: boolean,\r\n      removable?: boolean\r\n   }\r\n   const init = <T extends Strict<Options, T>>(\r\n      component: extendableComponent, options?: T) => {\r\n\r\n      let {\r\n         reticulatable = false,\r\n         removable = false\r\n      } = { ...(options ? options : {}) }\r\n\r\n      const element = component.group.element;\r\n\r\n\r\n      $(element).on(Events.select, () => {\r\n         createHandles(component);\r\n      });\r\n      $(element).on(Events.draw, () => {\r\n         clearHandles(component);\r\n         createHandles(component);\r\n      });\r\n      $(element).on(Events.dragStop, () => {\r\n         clearHandles(component);\r\n         createHandles(component);\r\n      });\r\n      $(element).on(Events.deselect, () => {\r\n         clearHandles(component);\r\n      });\r\n\r\n      Stretchable.init(component);\r\n      if (reticulatable) Reticulatable.init(component);\r\n      if (removable) Removable.init(component);\r\n   }\r\n\r\n   const clearHandles = (component: extendableComponent) => {\r\n      $(component.group.element)\r\n         .children(\".dragHandle\")\r\n         .remove(\":not(.dragging)\")\r\n         .hide(0); // I.e. hide the dragging one...\r\n   }\r\n\r\n   const createHandles = (component: extendableComponent) => {\r\n      component.states.joints.forEach(joint => {\r\n         addHandle(component, joint)\r\n      })\r\n   };\r\n\r\n\r\n\r\n\r\n   return { init }\r\n})()\r\n\r\nconst Stretchable = (() => {\r\n   const init = (component: extendableComponent) => {\r\n      \r\n   }\r\n   return { init }\r\n})()\r\n\r\nconst Reticulatable = (() => {\r\n   const init = (component: extendableComponent) => {\r\n      const element = component.group.element;\r\n\r\n      // Add joint through dblclick\r\n      $(element).dblclick(e => {\r\n         if ($(e.target).closest(\".handle\").length < 1) {\r\n            // Get position in svg coordinates, rounded to grid\r\n            const position = vector(\r\n               component.group.convertVector({ x: e.clientX || 0, y: e.clientY || 0 }, \"DomToSvg\", \"relToGroup\")\r\n            ).round(gridSpacing/2).vector;\r\n\r\n            // Get index for insertion into joint array\r\n            const jointIdx = getJointInsertionIdx(component, position);\r\n\r\n            //insert joint at position\r\n            component.states.joints.splice(jointIdx, 0, position);\r\n            addHandle(component, position);\r\n            $(element).trigger(Events.draw, [e]);\r\n         }\r\n      });\r\n   \r\n      // Remove joint through drag\r\n      $(element).on(Events.drag, \".dragHandle\", (e) => {\r\n         removeExcessJoints(component, $(e.target).data(\"point\"));\r\n         $(element).trigger(Events.draw, [e]);\r\n      });\r\n\r\n      // Remove joint through dblclick\r\n      $(element).on(\"dblclick\", \".dragHandle\", (e) => {\r\n         // If only two joints remain then they can't be removed by dblclick\r\n         if (component.states.joints.length <= 2) return;\r\n         \r\n         const point = $(e.target).data(\"point\");\r\n         component.states.joints = component.states.joints.filter(isNot(point));\r\n         e.target.remove();\r\n         $(element).trigger(Events.draw, [e]);\r\n      });\r\n   }\r\n\r\n   const removeExcessJoints = (component: extendableComponent, point: Vector) => {\r\n      // If only two joints remain then they can't be removed during a drag\r\n      if (component.states.joints.length <= 2) return;\r\n\r\n      component.states.joints = component.states.joints.filter((joint) => {\r\n         return (joint === point) || !vector(point).isCloseTo(joint)\r\n      });\r\n\r\n      $(component.group.element).children(\".dragHandle\").not(\".dragging\").filter((i, handle) => {\r\n         return vector(point).isCloseTo($(handle).data('point'))\r\n      }).remove();\r\n   }\r\n\r\n   const getJointInsertionIdx = (component: extendableComponent, point: Vector) => {\r\n      let jointAngles = component.states.joints.map((j) =>\r\n         Math.atan2(point.y - j.y, point.x - j.x) * 180 / Math.PI\r\n      );\r\n\r\n      let bestAnglePair = 180;\r\n      let bestJointIdx = 0;\r\n\r\n      for (let i = 1; i < jointAngles.length; i++) {\r\n         let anglePair = Math.abs(Math.abs((jointAngles[i - 1] - jointAngles[i])) - 180)\r\n         if (anglePair < bestAnglePair) {\r\n            bestAnglePair = anglePair;\r\n            bestJointIdx = i;\r\n         }\r\n      }\r\n\r\n      return bestJointIdx;\r\n   }\r\n   return { init }\r\n})()\r\n\r\nconst Removable = (() => {\r\n   const init = (component: extendableComponent) => {\r\n      const element = component.group.element;\r\n      $(element).on(Events.dragStop, \".dragHandle\", (e) => {\r\n         if (component.states.joints.length === 2 && vector(component.states.joints[0]).isCloseTo(component.states.joints[1])) {\r\n            manifest.removeComponent(component);\r\n            history.mergeLast();\r\n         }\r\n      });\r\n   }\r\n   return { init }\r\n})()\r\n\r\nconst addHandle = (component: extendableComponent, point: Vector) => {\r\n   const handle = makeCircle(point, 5, \"handle dragHandle draggable highlight\").element;\r\n   $(handle).data('point', point);\r\n   component.group.append(handle);\r\n   $(handle).on(Events.dragStart, () => {\r\n      history.add(component);\r\n   })\r\n\r\n   $(handle).on(Events.drag, (e, drag: Vector) => {\r\n      point.x += drag.x;\r\n      point.y += drag.y;\r\n      $(component.group.element).trigger(Events.draw);\r\n   });\r\n\r\n   $(handle).on(Events.dragStop, () => {\r\n      point.x = Math.round(point.x);\r\n      point.y = Math.round(point.y);\r\n   });\r\n};\r\n\r\nexport default Extendable;","import Component from \"../../+component\";;\r\nimport Events from \"../../events\";\r\n//import * as $ from 'jquery';\r\n\r\nconst Graphical = (() => {\r\n   const init = (component: Component) => {\r\n      let element = component.group.element;\r\n      $(element).on(Events.anyDraw, () => {\r\n         if (component.flags.disabled === false) {\r\n            $(component.group.element).show();\r\n            component.group.clearChildren(\":not(.handle,.connectivityhighlight)\");\r\n            component.draw();\r\n         } else {\r\n            $(component.group.element).hide();\r\n         }\r\n      });\r\n   }\r\n\r\n   return { init }\r\n})()\r\nexport default Graphical;","import Component, { Types as ComponentTypes } from \"../../+component\";\r\nimport vector from \"../../../-vector\";\r\nimport Events from \"../../events\";\r\nimport manifest from \"../../manifest\";\r\nimport Flatten from \"../../../utility/~flatten\";\r\nimport { makeCircle as makeCircle } from \"../../../svg/element/+circle\";\r\n//import * as $ from 'jquery';\r\n\r\ntype nodeComponent = Component & {\r\n   getConnectors: () => ComponentTypes.node[][]\r\n}\r\n\r\nconst Junctions = (() => {\r\n   const init = (component: nodeComponent) => {\r\n      let element = component.group;\r\n      $(element.element).on(Events.anyDraw, () => {\r\n         clearJunctions(component);\r\n         createJunctions(component);\r\n      });\r\n   }\r\n\r\n   const createJunctions = (component: nodeComponent) => {\r\n      let otherConnectors = Flatten.flatten2d(manifest.states.schematic.map(component =>\r\n         Flatten.flatten2d(component.getConnectors()).filter(connector =>\r\n            (connector.type === \"node\")\r\n         )\r\n      ));\r\n\r\n      component.getConnectors().forEach(connectorSet => connectorSet.forEach(connector => {\r\n         let point = connector.point;\r\n         let attachedConnectors = otherConnectors.filter(other => {\r\n            return vector(point).isCloseTo(other.point)\r\n         });\r\n         if (attachedConnectors.length === 3) {\r\n            //let ctm = Active.schematic.root.group.element.getCTM();\r\n            //point = (ctm) ? point.matrixTransform(ctm.inverse()) : point;\r\n            component.group.prepend(\r\n               makeCircle(point, 5, \"junction black\")\r\n            );\r\n         }\r\n      }));\r\n   }\r\n\r\n   const clearJunctions = (component: Component) => {\r\n      $(component.group.element).find(\".junction\").remove();\r\n   }\r\n\r\n   return { init }\r\n})()\r\nexport default Junctions;","import Component from \"../../+component\";;\r\nimport Events from \"../../events\";\r\nimport toVector from \"../../../utility/polar/-toVector\"\r\nimport vector, { Vector } from \"../../../-vector\";\r\nimport { makeCircle as makeCircle } from \"../../../svg/element/+circle\";\r\nimport { makeRect as makeRect } from \"../../../svg/element/+rect\";\r\nimport { makeGroup as makeGroup } from \"../../../svg/element/+group\";\r\n//import * as $ from 'jquery';\r\n\r\ntype colorPalette = string[];\r\ntype recolorableComponent = Component & { states: { color: string, joints: Vector[] }};\r\n\r\nconst Recolorable = (() => {\r\n   const init = (\r\n      component: recolorableComponent, options: {\r\n         colorPalette?: colorPalette\r\n      } = {}) => {\r\n      let {\r\n         colorPalette = defaultColorPalette,\r\n      } = { ...options }\r\n\r\n\r\n      const element = component.group.element;\r\n\r\n      $(element).on(Events.select, () => {\r\n         createRecolorHandle(component, colorPalette);\r\n      });\r\n      $(element).on(Events.draw, () => {\r\n         clearRecolorHandle(component);\r\n         createRecolorHandle(component, colorPalette);\r\n      });\r\n      $(element).on(Events.deselect, () => {\r\n         clearRecolorHandle(component);\r\n      });\r\n   }\r\n\r\n   const createRecolorHandle = (component: recolorableComponent, colorPalette: colorPalette) => {\r\n\r\n      const position = getRecolorPosition(component);\r\n\r\n      const recolorSegmentGroup = makeGroup(\"recolorSegmentGroup\");\r\n      const recolorHandle = makeCircle(position, 7, \"handle recolorHandle\");\r\n\r\n      //Segments\r\n      const segment1 = makeRect(\r\n         position, { width: 10, height: 20 }, undefined, \"recolorHandleSegment\"\r\n      ).rotate(45, position).translate({ x: -4, y: -4 });\r\n      const segment2 = makeRect(\r\n         position, { width: 10, height: 20 }, undefined, \"recolorHandleSegment\"\r\n      ).rotate(45, position).translate({ x: 4, y: 4 });\r\n\r\n      $(segment1.element).css(\"fill\", \"#4fd56b\");\r\n      $(segment2.element).css(\"fill\", \"#d54f6b\");\r\n\r\n      recolorSegmentGroup.append(segment1, segment2)\r\n      component.group.append(recolorHandle, recolorSegmentGroup);\r\n\r\n      $(recolorHandle.element).on(\"click\", () => {\r\n         let colorIndex = colorPalette.indexOf(component.states.color);\r\n         let color: string;\r\n         if (colorIndex >= 0) {\r\n            color = colorPalette[(colorIndex + 1) % colorPalette.length];\r\n         } else {\r\n            color = colorPalette[0];\r\n         };\r\n         component.states.color = color;\r\n         $(component.group.element).trigger(Events.draw);\r\n      })\r\n   }\r\n\r\n   const clearRecolorHandle = (component: recolorableComponent) => {\r\n      $(component.group.element).find(\".recolorHandle\").remove();\r\n      $(component.group.element).find(\".recolorSegmentGroup\").remove();\r\n   }\r\n\r\n   const getRecolorPosition = (component: recolorableComponent): Vector => {\r\n      const angle = vector(component.states.joints[0]).getAngleTo(component.states.joints[1]);\r\n      const offset = toVector(12, angle + 45);\r\n      return vector(component.states.joints[0]).sumWith(offset).vector;\r\n   }\r\n\r\n   const defaultColorPalette: colorPalette = [\r\n      \"#545454\", //\"Black\"\r\n      \"red\",\r\n      \"#7575FF\", // Blue\r\n      \"#946857\", // Brown\r\n      \"#55DD55\", // Green\r\n      \"#FFEF00\", // Yellow\r\n      \"pink\"\r\n   ]\r\n\r\n   return { init }\r\n})()\r\nexport default Recolorable;","import Component, { Types as ComponentTypes } from \"../../+component\";\r\nimport vector from \"../../../-vector\";\r\nimport Events from \"../../events\";\r\nimport manifest from \"../../manifest\";\r\nimport history from \"../../history\";\r\nimport { TrackLayout as Track } from \"../_track/~classes\";\r\nimport Flatten from \"../../../utility/~flatten\";\r\nimport addTransform from \"../../../svg/-addTransform\";\r\nimport { makeCircle as makeCircle } from \"../../../svg/element/+circle\"\r\n//import * as $ from 'jquery';\r\n\r\ntype reversibleBoard = Component & {\r\n   states: {\r\n      trackBreaks: { track: number, hole: number }[];\r\n   }  \r\n   tracks: Track[],\r\n}\r\n\r\nconst ReversableBoard = (() => {\r\n   const init = (component: reversibleBoard) => {\r\n      let element = component.group;\r\n\r\n      $(element.element).on(Events.select, () => {\r\n         createGhost(component);\r\n      });\r\n\r\n      $(element.element).on(Events.dragStart, () => {\r\n         clearGhost(component);\r\n      });\r\n\r\n      $(element.element).on(Events.rotate, () => {\r\n         clearGhost(component);\r\n         createGhost(component);\r\n      });\r\n\r\n      $(element.element).on(Events.dragStop, () => {\r\n         createGhost(component);\r\n      });\r\n\r\n      $(element.element).on(Events.deselect, () => {\r\n         clearGhost(component);\r\n      });\r\n\r\n      $(element.element).on(Events.draw, () => {\r\n         if ($(element.element).hasClass(\"selected\")) {\r\n            clearGhost(component);\r\n            createGhost(component);\r\n         }\r\n      });\r\n   }\r\n\r\n   const createGhost = (component: reversibleBoard) => {\r\n      // Create the group\r\n      let ghostGroup = component.group.element.cloneNode() as SVGGraphicsElement;\r\n\r\n      let bbox = component.group.element.getBBox();\r\n\r\n      //Scale\r\n      addTransform(ghostGroup, t => t.setScale(-1, 1), false);\r\n\r\n      //Translate\r\n      addTransform(ghostGroup, t => t.setTranslate(-(bbox.width + bbox.x) * 2 - 1, 0), false);\r\n\r\n      ghostGroup.appendChild($(component.group.element).children(\".body\").clone()[0]);\r\n\r\n      $(ghostGroup).addClass(\"reverseghost\");\r\n      $(ghostGroup).data(\"selects\", component);\r\n\r\n      let parent = (component.group.element.parentElement);\r\n      if (parent) parent.appendChild(ghostGroup);\r\n\r\n      let allValidConnectors = Flatten.flatten2d(manifest.states.layout.map(el =>\r\n         Flatten.flatten2d(el.getConnectors().map(connectorSet =>\r\n            connectorSet.filter(connector => connector.type === \"pin\")\r\n         ))\r\n      ));\r\n\r\n      // ...\r\n      component.tracks.forEach((track, trackIdx) => {\r\n         let trackGhostGroup = $(track.group.element).clone()[0] as any as SVGGraphicsElement;\r\n         ghostGroup.appendChild(trackGhostGroup);\r\n\r\n         // Add the holes\r\n         //let ctm = (track.group.element.getCTM() || Svg.makeMatrix()).inverse()\r\n         track.getConnectors()[0].forEach((hole, holeIdx) => {\r\n\r\n            let point = hole.point;//(ctm) ? hole.point.matrixTransform(ctm) : hole.point;\r\n\r\n            let breaker = makeCircle(point, 6, \"breaker\");\r\n\r\n            if (hole.type === \"brokenhole\") {\r\n               $(breaker.element).addClass(\"broken\");\r\n            }\r\n\r\n\r\n            if (getPinsAtHole(hole, allValidConnectors).length) {\r\n               $(breaker.element).addClass(\"withPin\");\r\n            };\r\n\r\n            trackGhostGroup.appendChild(breaker.element);\r\n\r\n            let holePosition = { track: trackIdx, hole: holeIdx };\r\n\r\n            $(breaker.element).click(() => {\r\n               history.add(component);\r\n\r\n               if (hole.type === \"hole\") {\r\n                  $(breaker.element).addClass(\"broken\");\r\n                  hole.type = \"brokenhole\";\r\n                  component.states.trackBreaks.push(holePosition);\r\n                  track.states.breaks.push(holePosition.hole);\r\n               } else if (hole.type === \"brokenhole\") {\r\n                  $(breaker.element).removeClass(\"broken\");\r\n                  hole.type = \"hole\";\r\n                  component.states.trackBreaks = component.states.trackBreaks.filter(trackBreak =>\r\n                     (trackBreak.hole !== holePosition.hole || trackBreak.track !== holePosition.track)\r\n                  );\r\n                  track.states.breaks = track.states.breaks.filter(b=>b !== holePosition.hole);\r\n               }\r\n            });\r\n         });\r\n      });\r\n   }\r\n\r\n   const clearGhost = (component: reversibleBoard) => {\r\n\r\n      let parent = (component.group.element.parentElement);\r\n      if (parent) $(parent).children(\".reverseghost\").remove();\r\n   }\r\n\r\n   const getPinsAtHole = (connector: ComponentTypes.hole, allConnectors: ComponentTypes.connector[]) => {\r\n      let acceptedTypes = [\"pin\"];\r\n\r\n      let point = connector.point;\r\n      let attachedConnectors: ComponentTypes.connector[] = allConnectors.filter(other => {\r\n         return (\r\n            acceptedTypes.includes(other.type)\r\n            && vector(point).isCloseTo(other.point)\r\n         )\r\n      });\r\n\r\n      return attachedConnectors;\r\n   }\r\n\r\n   return { init }\r\n})()\r\nexport default ReversableBoard;\r\n","import Component from \"../../+component\";;\r\nimport Events from \"../../events\";\r\nimport vector, { Vector } from \"../../../-vector\";\r\nimport history from \"../../history\";\r\n//import * as $ from 'jquery';\r\n\r\ntype rotatableComponent = Component & {\r\n   states: { joints: [Vector, Vector, ...Vector[]] }\r\n};\r\n\r\nconst Rotatable = (() => {\r\n   /** Initialise rotation using joint[0] as the rotation points\r\n    *  Rotation triggered by double click in 90deg incriments\r\n    */\r\n   const init = (component: rotatableComponent) => {\r\n      $(component.group.element).dblclick(() => {\r\n         history.add(component);\r\n         let centre = component.states.joints[0];\r\n\r\n         component.states.joints = vector(component.states.joints)\r\n            .sumWith(vector(centre).scaleWith(-1))\r\n            .rotate(90)\r\n            .sumWith(centre)\r\n            .vectors as [Vector, Vector, ...Vector[]]\r\n\r\n         $(component.group.element).trigger(Events.draw);\r\n         $(component.group.element).trigger(Events.rotate);\r\n      })\r\n   }\r\n\r\n   return { init }\r\n})()\r\nexport default Rotatable;","import Component, { insert } from \"../../+component\";\r\nimport Events from \"../../events\";\r\nimport manifest from \"../../manifest\";\r\n//import * as $ from 'jquery';\r\nconst Selectable = (() => {\r\n   const init = (component: Component) => {\r\n      setSelectTrigger(component);\r\n      setDisplayHandlers(component);\r\n   }\r\n\r\n\r\n\r\n   const getSelectsCheck = (component: Component) =>\r\n      (i: any, element: Node) => ($(element).data(\"selects\") === component);\r\n\r\n   const elementDirectlySelectsComponent = (element: Node, component: Component) => {\r\n      const parents = $(element).parents(); //Ancestors\r\n\r\n      const selectionElement = component.group.element;\r\n      const elementCorrespondsToComponent = parents.is(selectionElement);\r\n\r\n      const secondarySelectionCheck = getSelectsCheck(component);\r\n      const elementIsComponentSelector = parents.is(secondarySelectionCheck);\r\n\r\n      return (elementCorrespondsToComponent || elementIsComponentSelector);\r\n   }\r\n\r\n   const elementIndirectlySelectsComponent = (element: Node, component: Component) => {\r\n      const selectionElements = manifest.findCorresponding(component).map(el => el.group.element);\r\n      return $(element).parents().is(selectionElements);\r\n   }\r\n\r\n   const elementSelectsComponent = (element: Node, component: Component) => (\r\n      elementDirectlySelectsComponent(element, component) ||\r\n      elementIndirectlySelectsComponent(element, component)\r\n   )\r\n\r\n   const setSelectTrigger = (component: Component) => {\r\n      // Selecting component triggers select\r\n      $(component.group.element).one(\"mousedown\", () => {\r\n         /*LOGSTART*/console.groupCollapsed(\"Selected\", component.group.element);/*LOGEND*/\r\n         /*LOGSTART*/console.log(\"Primary: %o\", component);/*LOGEND*/\r\n\r\n         const otherComponents = manifest.findCorresponding(component);\r\n         /*LOGSTART*/console.log(\"Secondaries: %o\", otherComponents);/*LOGEND*/\r\n\r\n         const selectComponents = otherComponents.concat(component);\r\n         selectComponents.forEach(selectComponent => {\r\n            $(selectComponent.group.element).trigger(Events.select);\r\n         });\r\n         setDeselectTrigger(component);\r\n\r\n         /*LOGSTART*/console.groupEnd();/*LOGEND*/\r\n      })\r\n\r\n\r\n   }\r\n\r\n   const setDeselectTrigger = (component: Component) => {\r\n      // Selecting anywhere else triggers deselect\r\n      $(document).one(\"mousedown\", e => {\r\n         // Checks if target is child of component, ignore if so\r\n         if (elementDirectlySelectsComponent(e.target, component)) {\r\n            setDeselectTrigger(component);\r\n            return;\r\n         }\r\n\r\n         const otherComponents = manifest.findCorresponding(component);\r\n         const selectComponents = otherComponents.concat(component);\r\n         selectComponents.forEach(selectComponent => {\r\n            // Only deselect if not selected by new selection\r\n            if (!elementSelectsComponent(e.target, selectComponent)) {\r\n               $(selectComponent.group.element).trigger(Events.deselect);\r\n            }\r\n         });\r\n         setSelectTrigger(component);\r\n      })\r\n   }\r\n\r\n   const setDisplayHandlers = (component: Component) => {\r\n      $(component.group.element).on(Events.select, () => {\r\n         $(component.group.element).addClass(\"selected\");\r\n         insert(component);\r\n      });\r\n      $(component.group.element).on(Events.deselect, () => {\r\n         $(component.group.element).removeClass(\"selected\");\r\n      });\r\n   }\r\n\r\n   return { init }\r\n})()\r\nexport default Selectable;","import Component, { Types as ComponentTypes } from \"../../+component\";\r\nimport vector, { Vector } from \"../../../-vector\";\r\nimport Events from \"../../events\";\r\nimport manifest from \"../../manifest\";\r\nimport wireMaps from \"../_wire/-maps\";\r\nimport { gridSpacing } from \"../../../~constants\";\r\nimport { Layout as WireLayout } from \"../_wire/~classes\";\r\n//import * as $ from 'jquery';\r\n\r\ntype holeyComponent = Component & { getConnectors(): ComponentTypes.hole[][] };\r\n\r\nconst WiresCreatable = (() => {\r\n   const init = (component: holeyComponent) => {\r\n      const element = component.group.element;\r\n      // Hole elements will not exist at initialisation,\r\n      // need to use component filtered by .hole selector\r\n\r\n      let wire: WireLayout; \r\n\r\n      const subtreeObserver = new MutationObserver((mutations) => {\r\n         mutations.forEach(mutation => {\r\n               $(mutation.addedNodes).filter(\".hole\").addClass(\"draggable\")\r\n         })\r\n      })\r\n\r\n      subtreeObserver.observe(element, { childList: true})\r\n      \r\n      $(element).on(\"DOMSubtreeModified\", () => {\r\n         $(element).find(\".hole\").addClass(\"draggable\");\r\n      })\r\n\r\n      // TODO: Currently at the end of the drag the board ends up selected,\r\n      // ideally the wire would end selected.\r\n      $(element).on(Events.dragStart, \".hole\", (e, start) => {\r\n         wire = createWireAtPoint(vector(start).round(gridSpacing / 2).vector);\r\n         const wireElement = wire.group.element;\r\n\r\n         $(wireElement).trigger(Events.select);\r\n\r\n         const dragHandle = $(wireElement).find(\".dragHandle\")[0] as SVGGraphicsElement;\r\n\r\n         $(dragHandle).addClass(\"dragging\");\r\n         $(dragHandle).trigger(Events.dragStart, start);\r\n         \r\n         $(e.target).on(Events.drag, (e, drag) => {\r\n            $(dragHandle).trigger(Events.drag, drag);\r\n         })\r\n   \r\n         $(e.target).on(Events.dragStop, (e, stop) => {\r\n            $(dragHandle).removeClass(\"dragging\");\r\n            $(dragHandle).trigger(Events.dragStop, stop);\r\n            $(wireElement).trigger(Events.deselect);\r\n         })\r\n\r\n      })\r\n   }\r\n\r\n   const createWireAtPoint = (vector: Vector): WireLayout => {\r\n      const wire = wireMaps.layout.make({\r\n         joints: [vector, vector],\r\n      });\r\n      manifest.addComponent(manifest.states.layout, wire);\r\n      return wire as WireLayout;\r\n   }\r\n\r\n   return { init }\r\n})()\r\nexport default WiresCreatable;","import { Layout } from \"./~classes\";\r\nimport vector from \"../../../-vector\";\r\nimport { INDEXEND1, INDEXEND2 } from \"./constants\";\r\n\r\nimport { makePath as makePath } from \"../../../svg/element/+path\";\r\nimport { makeGroup as makeGroup } from \"../../../svg/element/+group\";\r\nimport { makeRect as makeRect } from \"../../../svg/element/+rect\";\r\n//import * as $ from 'jquery';\r\n\r\nexport default function drawLayout(instance: Layout) {\r\n   const bodyGroup = makeGroup(\"body\");\r\n\r\n\r\n   const end1 = instance.states.joints[INDEXEND1];\r\n   const end2 = instance.states.joints[INDEXEND2];\r\n\r\n   let centre = vector(end1, end2).centre().vector;\r\n\r\n   let rotation = vector(end1).getAngleTo(end2);\r\n\r\n   let bodyPath = \"m-12.5 -6\" + \"h25\" + \"c15 -8 15 20 0 12\" + \"h-25\" + \"c-15 +8 -15 -20 0 -12\" + \"Z\";\r\n\r\n   const body = makePath(bodyPath, \"body\")\r\n\r\n   const bands = getBands(instance.properties.resistance).map(b => b.clipTo(body.element));\r\n\r\n   bodyGroup.append(\r\n      body,\r\n      bands,\r\n      makePath(bodyPath, \"highlight nofill\")\r\n   );\r\n\r\n   return [\r\n      makePath([end1, end2], \"lead\"),\r\n      bodyGroup.translate(centre).rotate(rotation)\r\n   ];\r\n}\r\n\r\nfunction getBands(num: number) {\r\n   // We don't need a value field\r\n   let exp = num.toExponential(1);\r\n\r\n   let sigFig1 = exp.slice(exp.indexOf(\".\") - 1)[0];\r\n   let sigFig2 = exp.slice(exp.indexOf(\".\") + 1)[0];\r\n   let multiplier = (\r\n      parseInt(exp.slice(exp.indexOf(\"e\") + 1), 10) - 1\r\n   ).toString();\r\n\r\n   let colours: {\r\n      [number: string]: string\r\n   } = {\r\n      \"-3\": \"pink\",\r\n      \"-2\": \"silver\",\r\n      \"-1\": \"gold\",\r\n      \"0\": \"black\",\r\n      \"1\": \"brown\",\r\n      \"2\": \"red\",\r\n      \"3\": \"#FF7F26\", //Orange\r\n      \"4\": \"yellow\",\r\n      \"5\": \"green\",\r\n      \"6\": \"blue\",\r\n      \"7\": \"violet\",\r\n      \"8\": \"grey\",\r\n      \"9\": \"white\"\r\n   };\r\n\r\n   let b1 = makeRect({ x: -17.5, y: 0 }, { width: 3, height: 18 }, undefined, \"band1\");\r\n   let b2 = makeRect({ x: -11, y: 0 }, { width: 3, height: 12 }, undefined, \"band2\");\r\n   let b3 = makeRect({ x: -4, y: 0 }, { width: 3, height: 12 }, undefined, \"band3\");\r\n   let b4 = makeRect({ x: 3.5, y: 0 }, { width: 4, height: 12 }, undefined, \"band4\");\r\n\r\n   $(b1.element).css(\"fill\", colours[sigFig1]);\r\n   $(b2.element).css(\"fill\", colours[sigFig2]);\r\n   $(b3.element).css(\"fill\", colours[multiplier]);\r\n   $(b4.element).css(\"fill\", \"transparent\");\r\n\r\n   return [b1, b2, b3, b4];\r\n}\r\n\r\n","import { Schematic } from \"./~classes\";\r\nimport vector, { Vector } from \"../../../-vector\";\r\nimport { INDEXEND1, INDEXEND2 } from \"./constants\";\r\nimport getStandardForm from \"../../../utility/-getStandardForm\";\r\n\r\nimport { makePath as makePath } from \"../../../svg/element/+path\";\r\nimport { makeText as makeText } from \"../../../svg/element/+text\";\r\nimport { makeGroup as makeGroup } from \"../../../svg/element/+group\";\r\nimport { makeRect as makeRect } from \"../../../svg/element/+rect\";\r\n\r\nexport default function drawSchematic(instance: Schematic) {\r\n   const bodyGroup = makeGroup(\"body\");\r\n\r\n\r\n   const end1 = instance.states.joints[INDEXEND1];\r\n   const end2 = instance.states.joints[INDEXEND2];\r\n\r\n   let centre = vector(end1, end2).centre().vector;\r\n   let rotation = vector(end1).getAngleTo(end2);\r\n\r\n   let [start1, start2]: Vector[] = vector(\r\n      { x: -24, y: 0 }, { x: 24, y: 0 }\r\n   ).rotate(rotation).sumWith(centre).vectors;\r\n\r\n   //Text\r\n   let text = getStandardForm(instance.properties.resistance, 'Ω')\r\n\r\n   bodyGroup.append(\r\n      makeRect(vector(0), { width: 46, height: 18 }, vector(2), \"highlight highlightwithfill extrathick\"),\r\n      makeRect(vector(0), { width: 46, height: 18 }, vector(2), \"body white\")\r\n   );\r\n\r\n   let textEl = makeText(text, { x: 0, y: -15 }, \"text\");\r\n\r\n   return [\r\n      makePath([[start1, end1], [start2, end2]], \"line thin\"),\r\n      bodyGroup.translate(centre).rotate(rotation),\r\n      textEl.translate(centre).rotatePosition(rotation),\r\n   ];\r\n}\r\n\r\n","import makeLayout from \"./-makeLayout\"\r\n\r\nexport default function loadLayout(raw: any) {\r\n   const resistance = (raw.resistance);\r\n   const joints = (raw.joints);\r\n\r\n   return makeLayout({ resistance, joints });\r\n}\r\n","import makeSchematic from \"./-makeSchematic\";\r\nimport ValueCheck from \"../~valueCheck\";\r\nimport vector, { Vector } from \"../../../-vector\";\r\n\r\nexport default function loadSchematic(raw: any) {\r\n   const resistance = (raw.resistance || raw.value);\r\n   //Joints Block\r\n   const orientations: [\"LR\", \"RL\", \"UD\", \"DU\"] = [\"LR\", \"RL\", \"UD\", \"DU\"];\r\n   const orientation = ValueCheck.validate(orientations, \"LR\")(raw.orientation);\r\n   const where = ValueCheck.where({ x: 0, y: 0 })(raw.where);\r\n   const joints = (raw.joints || deriveJoints(orientation, where));\r\n\r\n   return makeSchematic({ resistance, joints, });\r\n}\r\n\r\nconst deriveJoints = (orientation: \"LR\" | \"RL\" | \"UD\" | \"DU\", where: Vector) => {\r\n   const baseJoints = ({\r\n      LR: [{ x: -30, y: 0 }, { x: 30, y: 0 }],\r\n      UD: [{ x: 0, y: -30 }, { x: 0, y: 30 }],\r\n      RL: [{ x: 30, y: 0 }, { x: -30, y: 0 }],\r\n      DU: [{ x: 0, y: 30 }, { x: 0, y: -30 }]\r\n   })[orientation] as [Vector, Vector];\r\n   return vector(baseJoints).sumWith(where).vectors;\r\n}\r\n","import ValueCheck from \"../~valueCheck\";\r\nimport * as Types from \"./types\";\r\nimport { Layout } from \"./~classes\";\r\nimport getMaker from \"../../generics/-getMaker\";\r\nimport { Vector } from \"../../../-vector\";\r\nimport Graphical from \"../addins/graphical\";\r\nimport Draggable from \"../addins/draggable\";\r\nimport Selectable from \"../addins/selectable\";\r\nimport Extendable from \"../addins/extendable\";\r\nimport ConnectionsHighlightable from \"../addins/connectionsHighlightable\"\r\nimport { ComponentDefaulter } from \"../@component\";\r\n\r\nconst defaulterLayout: ComponentDefaulter<Types.resistor<\"layout\">> = {\r\n   properties: {\r\n      resistance: ValueCheck.validate(\"number\", 0)\r\n   },\r\n   states: {\r\n      joints: ValueCheck.joints<[Vector, Vector]>(\r\n         [{ x: 0, y: 0 }, { x: 40, y: 40 }]\r\n      ),\r\n   }\r\n};\r\n\r\nconst makeLayout = getMaker(Layout, defaulterLayout,\r\n   Graphical,\r\n   Draggable,\r\n   Selectable,\r\n   Extendable,\r\n   ConnectionsHighlightable\r\n);\r\nexport default makeLayout;\r\n","import ValueCheck from \"../~valueCheck\";\r\nimport * as Types from \"./types\";\r\nimport { Schematic } from \"./~classes\";\r\nimport getMaker from \"../../generics/-getMaker\";\r\nimport { Vector } from \"../../../-vector\";\r\nimport Graphical from \"../addins/graphical\";\r\nimport Draggable from \"../addins/draggable\";\r\nimport Selectable from \"../addins/selectable\";\r\nimport Extendable from \"../addins/extendable\";\r\nimport ConnectionsHighlightable from \"../addins/connectionsHighlightable\";\r\nimport { ComponentDefaulter } from \"../@component\";\r\n\r\nconst defaulterSchematic: ComponentDefaulter<Types.resistor<\"schematic\">> = {\r\n   properties: {\r\n      resistance: ValueCheck.validate(\"number\", 0)\r\n   },\r\n   states: {\r\n      joints: ValueCheck.joints<[Vector, Vector]>(\r\n         [{ x: 0, y: 0 }, { x: 40, y: 40 }]\r\n      ),\r\n   }\r\n};\r\n\r\n\r\nconst makeSchematic = getMaker(Schematic, defaulterSchematic,\r\n   Selectable,\r\n   ConnectionsHighlightable,\r\n   Graphical,\r\n   Draggable,\r\n   Extendable\r\n);\r\nexport default makeSchematic;","import makeMap from \"../../generics/-makeMap\";\r\nimport { Schematic, Layout } from \"./~classes\";\r\nimport makeSchematic from \"./-makeSchematic\";\r\nimport makeLayout from \"./-makeLayout\";\r\nimport loadSchematic from \"./-loadSchematic\";\r\nimport loadLayout from \"./-loadLayout\";\r\n\r\n\r\nconst schematicMap = {\r\n   savename: \"makeResistor\",\r\n   diagramType: \"schematic\" as \"schematic\",\r\n   instance: Schematic,\r\n   make: makeSchematic,\r\n   load: loadSchematic,\r\n}\r\n\r\nconst layoutMap = {\r\n   savename: \"makeLayoutResistor\",\r\n   diagramType: \"layout\" as \"layout\",\r\n   instance: Layout,\r\n   make: makeLayout,\r\n   load: loadLayout,\r\n}\r\n\r\nconst maps = {\r\n   schematic: makeMap(schematicMap, layoutMap),\r\n   layout: makeMap(layoutMap, schematicMap)\r\n}\r\nexport default maps;","\r\nexport const INDEXEND1 = 0;\r\nexport const INDEXEND2 = 1;\r\n\r\n\r\n","import Component, { Types as ComponentTypes } from \"../../+component\";\r\nimport * as Types from \"./types\";\r\nimport makeConnector from \"../../generics/-makeConnector\";\r\nimport drawLayout from \"./-drawLayout\";\r\nimport drawSchematic from \"./-drawSchematic\";\r\nimport { INDEXEND1, INDEXEND2 } from \"./constants\";\r\nimport { makeGroup } from \"../../../svg/element/+group\";\r\n\r\nabstract class Base {\r\n   type = \"resistor\" as const;\r\n   group = makeGroup();\r\n   properties: Types.properties;\r\n   states: Types.state;\r\n   constructor(properties: Types.properties, states: Types.state) {\r\n      this.properties = properties;\r\n      this.states = states;\r\n   }\r\n\r\n   flags = {\r\n      order: \"fore\" as const,\r\n      disabled: false\r\n   }\r\n\r\n   transferFunction() { return [] };\r\n}\r\n\r\nexport class Schematic extends Base implements Component, Types.resistor<\"schematic\"> {\r\n   form = \"schematic\" as const\r\n   draw() {\r\n      //(Prepend so handles appear on top)\r\n      this.group.prepend(drawSchematic(this));\r\n   }\r\n   getConnectors(): ComponentTypes.connector[][] {\r\n      return [\r\n         [makeConnector(this, \"\", \"node\", this.states.joints[INDEXEND1]),\r\n         makeConnector(this, \"\", \"node\", this.states.joints[INDEXEND2]),]\r\n      ]\r\n   }\r\n}\r\n\r\nexport class Layout extends Base implements Component, Types.resistor<\"layout\"> {\r\n   form = \"layout\" as const\r\n   draw() {\r\n      //(Prepend so handles appear on top)\r\n      this.group.prepend(drawLayout(this));\r\n   }\r\n   getConnectors(): ComponentTypes.connector[][] {\r\n      return [\r\n         [makeConnector(this, \"\", \"pin\", this.states.joints[INDEXEND1]),\r\n         makeConnector(this, \"\", \"pin\", this.states.joints[INDEXEND2]),]\r\n      ]\r\n   }\r\n   get [Symbol.toStringTag]() {\r\n      return `${this.form}-${this.type}`;\r\n   }\r\n}\r\n\r\n","import vector, { Vector } from \"../../-vector\";\r\nimport testType from \"../../utility/-testType\";\r\nimport validateType from \"../../utility/-validateType\";\r\nimport { checkfunction } from \"../../utility/-validateType\";\r\n\r\nnamespace ValueCheck {\r\n\r\n   export const test = testType;\r\n   export const validate = validateType;\r\n   export type validater<T> = checkfunction<T>\r\n\r\n   export type Defaulter<T extends {}> = {\r\n      [K in keyof T]: checkfunction<T[K]>\r\n   }\r\n\r\n   const integerTest = (n: unknown) => test(\"number\")(n) && Number.isInteger(n);\r\n   export function integer(fallback: number): validater<number> {\r\n      const result = (value: unknown, log: boolean = false) => {\r\n         return validate(integerTest, fallback)(value, log);\r\n      }\r\n\r\n      return result;\r\n   }\r\n\r\n   export function where(fallback: Vector): validater<Vector> {\r\n      const result = (value: unknown, log: boolean = false) => {\r\n         const anyVector = validate(vector.isVector, fallback)(value, log);\r\n         return vector.standardise(anyVector);\r\n      }\r\n\r\n      return result;\r\n   }\r\n\r\n   export function joints<T extends Vector[]>(fallback: T, lengthTest: (l: number) => boolean = l => l === fallback.length): validater<T> {\r\n      const jointTest = (value: unknown) => vector.isVectorArray(value) && lengthTest(value.length);\r\n      const result = (value: unknown, log: boolean = false) => {\r\n         const anyVectors = validate(jointTest, fallback)(value, log);\r\n         return vector.standardise(anyVectors) as T;\r\n      }\r\n\r\n      return result;\r\n   }\r\n\r\n   /* Can't guarantee validity, but can guarantee it isn't definitely invalid*/\r\n   const maxValidCSSColorLength = 25;\r\n   const colorTest = (s: unknown) => test(\"string\")(s) && s.length <= maxValidCSSColorLength;\r\n\r\n   export function color(fallback: string): validater<string> {\r\n      const result = (value: unknown, log: boolean = false) => {\r\n         return validate(colorTest, fallback)(value, log);\r\n      }\r\n\r\n      return result;\r\n   }\r\n}\r\n\r\nexport default ValueCheck;\r\n","namespace Events {\r\n   export const rotate: string = \"rotate\";\r\n   export const drag: string = \"drag\";\r\n   export const dragStart: string = \"dragstart\";\r\n   export const dragStop: string = \"dragstop\";\r\n   export const anyMove: string = [rotate, drag].join(\" \");\r\n\r\n   export const place: string = \"place\";\r\n\r\n   export const select: string = \"svgSelect\";\r\n   export const deselect: string = \"svgDeselect\";\r\n\r\n   export const draw: string = \"draw\"\r\n   export const anyDraw: string = [draw, place].join(\" \");\r\n}\r\nexport default Events;","\r\nimport Component, { Types } from \"../+component\";\r\nimport flatten from \"../../utility/~flatten\";\r\nimport mappings from \"../mappings\";\r\nimport vector from \"../../-vector\"\r\nimport isNot from \"../../utility/-isNot\";\r\nimport manifest from \"../manifest\";\r\n\r\n/** Returns an array of connected connectors for each connector in each connector set \r\n * of the component\r\n */\r\nexport default function getComponentConnections(component: Component): Types.connector[][][] {\r\n   // Get all of the other components\r\n   const otherComponents = manifest.states[component.form].filter(isNot(component));\r\n   // Get all of the other connectors\r\n   const allConnectors = flatten.flatten3d(otherComponents.map(el => el.getConnectors()));\r\n   // For each connector set ([])\r\n   return component.getConnectors().map(connectorSet => {\r\n      // Find the unique nets\r\n      const uniqueNetConnectors = getUniqueNetConnectors(connectorSet);\r\n      // For each unique net ([][])\r\n      return uniqueNetConnectors.map(connector => {\r\n         // Find all connectors on that net ([][][])\r\n         return getConnectorConnections(connector, allConnectors)\r\n      });\r\n   });\r\n}\r\n\r\n/** Gets a single connector for each connector net */\r\nfunction getUniqueNetConnectors(connectors: Types.connector[]): Types.connector[] {\r\n   let nonCheckedConnectors = connectors;\r\n   let uniqueNetConnectors: Types.connector[] = [];\r\n\r\n   // While any connector is not checked\r\n   while (nonCheckedConnectors.length) {\r\n      // It must be on a new unique net, so add it\r\n      uniqueNetConnectors.push(nonCheckedConnectors[0]);\r\n\r\n      // Find all the others on that net\r\n      let nettedConnectors = nonCheckedConnectors[0]\r\n         .component.transferFunction(nonCheckedConnectors[0])\r\n         .concat(nonCheckedConnectors[0]);\r\n\r\n      // Remove them from the list to check\r\n      nonCheckedConnectors = nonCheckedConnectors.filter(connector => !nettedConnectors.includes(connector));\r\n   }\r\n\r\n   return uniqueNetConnectors;\r\n}\r\n\r\n/** Returns an array of the connectors connected to a connector */\r\nfunction getConnectorConnections(connector: Types.connector, allConnectors: Types.connector[]): Types.connector[] {\r\n\r\n   let connectedConnectors: Types.connector[] = [];\r\n   let nonCheckedConnections = connector.component.transferFunction(connector).concat(connector);\r\n\r\n   // If any connection is unchecked\r\n   while (nonCheckedConnections.length) {\r\n\r\n      // Add it as a connector\r\n      connectedConnectors.push(...nonCheckedConnections);\r\n\r\n      // Find new connections from nonchecked\r\n      let newConnections: Types.connector[] = [];\r\n      nonCheckedConnections.forEach(connection => {\r\n         // Find the direct connections, and add to connections\r\n         getConnectorDirectConnections(connection, allConnectors).forEach(connected => {\r\n            // Don't add if they already have been (prevents infinite loops!)\r\n            if (!(connectedConnectors.includes(connected))) {\r\n               connectedConnectors.push(connected);\r\n               newConnections.push(...connected.component.transferFunction(connected));\r\n            }\r\n         })\r\n      });\r\n\r\n      // Start again with new set (each iteration we move one connector further down any nets)\r\n      nonCheckedConnections = newConnections;\r\n   }\r\n\r\n   return connectedConnectors\r\n}\r\n\r\n/** Returns an array of the connectors which directly connect to a connector */\r\nfunction getConnectorDirectConnections(connector: Types.connector, allConnectors: Types.connector[]): Types.connector[] {\r\n   // Get the connectorTypes which it is ok to connect to\r\n   const acceptedTypes = mappings.connectorAcceptedTypes[connector.type];\r\n   // Get the location of the connector\r\n   const point = connector.point;\r\n   // Return other connectors that can be connected to\r\n   return allConnectors.filter(other => {\r\n      return (\r\n         acceptedTypes.includes(other.type)\r\n         && vector(point).isCloseTo(other.point)\r\n      )\r\n   });\r\n}\r\n","import Component from \"../+component\";\r\nimport ValueCheck from \"../component/~valueCheck\";\r\nimport loadObjectWithDefaults from \"./-loadObjectWithDefaults\";\r\nimport { DeepPartial } from \"../../++types\";\r\nimport { isArray } from \"util\";\r\nimport { Addin } from \"../component/addins/++types\";\r\n//import * as $ from 'jquery';\r\n\r\ntype Initialiser<C extends Component, T extends {}> = [Addin<C, T>, T] | Addin<C>\r\n\r\ntype Initialisers<C extends Component, T extends {}[]> = {\r\n   [P in keyof T]: T[P] extends T[number] ? Initialiser<C, T[P]> : never;\r\n}\r\n\r\n// export default interface getMaker<\r\n//    C extends Component> {\r\n//    (\r\n//       instanceClass: { new(properties: C[\"properties\"], states: C[\"states\"]): C },\r\n//       defaulter: ValueCheck.Defaulter<C>,\r\n//       initialiser: (component: C) => void\r\n//    ): (\r\n//          partialValues: DeepPartial<C[\"properties\"] & C[\"states\"]>,\r\n//          log: boolean\r\n//       ) => C\r\n// }\r\nexport default function getMaker<\r\n   C extends {properties: C[\"properties\"], states: C[\"states\"]} & Component,\r\n   // A extends Addin<C, O>,\r\n   OS extends {}[] = {}[]\r\n>(\r\n   instanceClass: { new(properties: C[\"properties\"], states: C[\"states\"]): C },\r\n   defaulter: {\r\n      properties: ValueCheck.Defaulter<C[\"properties\"]>,\r\n      states: ValueCheck.Defaulter<C[\"states\"]>\r\n   },\r\n   ...addins: Initialisers<C, OS>\r\n) {\r\n   return (\r\n      partialValues: DeepPartial<C[\"properties\"] & C[\"states\"]>,\r\n      log = true\r\n   ): C => {\r\n      /*LOGSTART*/\r\n      if (log) {\r\n         console.groupCollapsed(\"Loading...\");\r\n      }\r\n      /*LOGEND*/\r\n      const properties = loadObjectWithDefaults<C[\"properties\"]>(defaulter.properties, partialValues, log);\r\n      const states = loadObjectWithDefaults<C[\"states\"]>(defaulter.states, partialValues, log);\r\n      /*LOGSTART*/\r\n      if (log) {\r\n         console.groupEnd();\r\n      }\r\n      /*LOGEND*/\r\n\r\n      const component = new instanceClass(properties, states) as C;\r\n\r\n      addins.forEach(addin => {\r\n         if (isArray(addin)) {\r\n            addin[0].init(component, addin[1])\r\n         } else {\r\n            addin.init(component)\r\n         }\r\n      })\r\n\r\n      component.draw();\r\n\r\n      /*LOGSTART*/\r\n      if (log) {\r\n         console.groupCollapsed(\"%s: %o\", component.type, component.group.element);\r\n         console.log(component);\r\n         console.groupEnd();\r\n      }\r\n      /*LOGEND*/\r\n\r\n      $(component.group.element).addClass(component.type)\r\n\r\n      return component;\r\n   }\r\n}\r\n","import ValueCheck from \"../component/~valueCheck\";\r\n\r\nexport default function loadObjectWithDefaults<T extends {}>(defaulter: ValueCheck.Defaulter<T>, partial: any, log = true): T {\r\n   //TS just needs to trust me here...\r\n   return Object.keys(defaulter).reduce((acc, key) => {\r\n\r\n      /*LOGSTART*/ if (log) {\r\n         console.group(key);\r\n      }/*LOGEND*/\r\n      console.log(defaulter, key)\r\n\r\n      const defaultFn: ValueCheck.validater<any> = (defaulter as any)[key];\r\n      const partialValue = (partial) ? partial[key] : undefined;\r\n      (acc as any)[key] = defaultFn(partialValue, log)\r\n\r\n      /*LOGSTART*/ if (log) {\r\n         console.groupEnd();\r\n      }/*LOGEND*/\r\n\r\n      return acc;\r\n   }, {}) as T;\r\n}","import Component, { Types } from \"../+component\";\r\nimport { Vector } from \"../../-vector\";\r\n\r\nexport default function makeConnector<T extends Types.connectorTypes>(\r\n   component: Component,\r\n   name: string,\r\n   type: T,\r\n   position: Vector,\r\n   symbol?: string\r\n): Types.connector<T> {\r\n\r\n   return {\r\n      name: name,\r\n      symbol: symbol,\r\n      type: type,\r\n      component: component,\r\n      point: position,\r\n   }\r\n}\r\n\r\n","import { Types } from \"../+component\"\r\n\r\nexport default function makeMap<T extends Types.map, CT extends Types.map>\r\n   (map: T, correspondsTo?: CT): T & { correspondsTo?: CT, isUnique?: boolean, isBoard?: boolean } {\r\n   return Object.assign(map, { correspondsTo });\r\n}","import historyFactory from \"./_history/-factory\"\r\n\r\nconst history = historyFactory();\r\nexport default history;\r\n\r\n","import Active from \"../~active\";\r\nimport Component, { Types as ComponentTypes, insert, getProperties } from \"./+component\";\r\nimport { Layout as OpAmp } from \"./component/_opAmp/~classes\"\r\nimport Curry from \"../utility/~curry\";\r\nimport split from \"../utility/-split\";\r\nimport is from \"../utility/-is\";\r\nimport isUnaryMap from \"../utility/-isUnaryMap\";\r\nimport mappings from \"./mappings\";\r\nimport history from \"./history\";\r\nimport Events from \"./events\";\r\nimport Diagram from \"./+diagram\";\r\nimport getComponentConnections from \"./generics/-getComponentConnections\";\r\n//import * as $ from 'jquery';\r\n\r\nconst manifest = (() => {\r\n\r\n   const clear = () => {\r\n      manifest.states.layout = manifest.states.layout.filter(component => {\r\n         component.group.element.remove();\r\n         return false;\r\n      });\r\n      manifest.states.schematic = manifest.states.schematic.filter(component => {\r\n         component.group.element.remove();\r\n         return false;\r\n      });\r\n      $(Active.layout.root.element).children().remove();\r\n      $(Active.schematic.root.element).children().remove();\r\n   }\r\n\r\n   const constructFrom = (savedManifest: { schematic: any, layout: any }) => {\r\n      manifest.clear();\r\n      manifest.states.schematic = savedManifest.schematic;\r\n      manifest.states.layout = savedManifest.layout;\r\n      if (!savedManifest.layout || savedManifest.layout.length === 0) completeManifestLayout();\r\n\r\n      manifest.states.activeBoard = manifest.states.layout.find(component => mappings.getComponentMapSafe(component).isBoard === true);\r\n      draw();\r\n   }\r\n\r\n   const addComponent = (manifestSection: Component[], ...components: Component[]) => {\r\n      let diagram: Diagram;\r\n\r\n      if (manifestSection === manifest.states.schematic) {\r\n         diagram = Active.schematic;\r\n      } else {\r\n         diagram = Active.layout;\r\n      }\r\n\r\n      components.forEach(component => component.flags.disabled = true);\r\n\r\n      history.add(manifest, ...components);\r\n\r\n      components.forEach(component => {\r\n         component.flags.disabled = false;\r\n         manifestSection.push(component);\r\n         placeComponent(component, diagram);\r\n      });\r\n   }\r\n\r\n   const placeComponent = (component: Component, diagram: Diagram) => {\r\n      insert(component, diagram.root.group.element);\r\n      $(component.group.element).trigger(Events.place);\r\n   }\r\n\r\n   const draw = () => {\r\n      manifest.states.schematic.forEach(component => placeComponent(component, Active.schematic));\r\n      manifest.states.layout.forEach(component => placeComponent(component, Active.layout));\r\n   }\r\n\r\n   const removeComponent = (...components: Component[]) => {\r\n      history.add(manifest, ...components);\r\n      manifest.states.layout = manifest.states.layout.filter(el => !components.includes(el));\r\n      manifest.states.schematic = manifest.states.schematic.filter(el => !components.includes(el));\r\n\r\n      components.forEach(component => {\r\n         $(component.group.element).hide();\r\n         component.flags.disabled = true;\r\n      });\r\n   }\r\n\r\n   const findCorresponding = (component: Component): Component[] => {\r\n      if (!mappings.getComponentMapSafe(component).correspondsTo) return [];\r\n      //Find component\r\n      if (manifest.states.layout.includes(component)) {\r\n         return manifest.states.schematic.filter(areComponentsSimilar(component));\r\n      } else if (manifest.states.schematic.includes(component)) {\r\n         return manifest.states.layout.filter(areComponentsSimilar(component))\r\n      } else {\r\n         return [];\r\n      }\r\n   }\r\n\r\n   const checkAll = () => {\r\n         /*LOGSTART*/console.groupCollapsed(\"Check Data\");/*LOGEND*/\r\n      // Only look at components which need to be compared\r\n      let layComponents = manifest.states.layout.filter(c => mappings.getComponentMapSafe(c).correspondsTo);\r\n      let schComponents = manifest.states.schematic.filter(c => mappings.getComponentMapSafe(c).correspondsTo);\r\n\r\n      let schConnectorData = schComponents.map(schComponent => ({\r\n         component: schComponent,\r\n         connectorSets: getMinConnections(schComponent)\r\n      }));\r\n\r\n      \r\n\r\n      // Split the layout components by whether they pass the test\r\n      let passSorted = split(layComponents, (layComponent) => {\r\n         if (schConnectorData.length === 0) return false;\r\n\r\n         // Find the layout components connector sets\r\n         let layConnectorSets = getMinConnections(layComponent);\r\n\r\n         \r\n\r\n         // Find the connector sets for schematic components that are similar\r\n         let schConnectorMinData = schConnectorData.filter(datum =>\r\n            areComponentsSimilar(layComponent)(datum.component)\r\n         );\r\n\r\n         console.log(schConnectorMinData,layComponent,layConnectorSets)\r\n\r\n         // Merge them into one if the component is unique (e.g. power supplies)\r\n         const componentIsUnique = mappings.getComponentMapSafe(layComponent).isUnique;\r\n         if (componentIsUnique) {\r\n            let merged = mergeConnectorsSets(schConnectorMinData.map(datum => datum.connectorSets))\r\n            schConnectorMinData.forEach(datum => {\r\n               datum.connectorSets = merged;\r\n            });\r\n         }\r\n\r\n         let found = schConnectorMinData.filter(datum => connectorSetsHaveMatch(layConnectorSets, datum.connectorSets));\r\n\r\n         if (componentIsUnique) {\r\n            schConnectorData = schConnectorData.filter(datum => !found.includes(datum));\r\n               /*LOGSTART*/console.log(\"Layout %s '%o, matched with '%o'\", layComponent.type, [layComponent], found)/*LOGEND*/\r\n         } else {\r\n            schConnectorData = schConnectorData.filter(datum => datum !== found[0]);\r\n               /*LOGSTART*/console.log(\"Layout %s '%o, matched with '%o'\", layComponent.type, [layComponent], [found[0]])/*LOGEND*/\r\n         }\r\n\r\n\r\n\r\n         // Check if there is any match between connector sets\r\n         return found.length > 0;\r\n      });\r\n\r\n      /*LOGSTART*/\r\n      console.log(\"Unmatched schematic components: %o\", schConnectorData.map(datum => datum.component));\r\n      console.log(\"Unmatched layout components: %o\", passSorted.fails);\r\n      console.groupEnd();\r\n      /*LOGEND*/\r\n\r\n      return {\r\n         corrects: passSorted.passes,\r\n         incorrects: passSorted.fails\r\n      }\r\n   };\r\n\r\n   \r\n   const states: {\r\n      schematic: Component[],\r\n      layout: Component[],\r\n      activeBoard?: Component,\r\n      copy: () => typeof states\r\n   } = {\r\n      schematic: [],\r\n      layout: [],\r\n      copy: () => ({\r\n         schematic: [...manifest.states.schematic],\r\n         layout: [...manifest.states.layout],\r\n         activeBoard: manifest.states.activeBoard,\r\n         copy: manifest.states.copy\r\n      })\r\n   }\r\n\r\n   const flags = {}\r\n\r\n   return {\r\n      // schematic: [] as Component[],\r\n      // layout: [] as Component[],\r\n      addComponent: addComponent,\r\n      constructFrom: constructFrom,\r\n      removeComponent: removeComponent,\r\n      findCorresponding: findCorresponding,\r\n      checkAll: checkAll,\r\n      // activeBoard: activeBoard,\r\n      states: states,\r\n      flags: flags,\r\n      clear: clear\r\n   }\r\n})();\r\n\r\ntype connection = {\r\n   name: string;\r\n   component: Component;\r\n}\r\ntype connector = {\r\n   name: string;\r\n   connections: connection[];\r\n}\r\ntype connectorSet = connector[];\r\ntype connectorSetGroup = connectorSet[];\r\ntype connectorSetGroups = connectorSetGroup[];\r\n\r\n\r\nconst arePropertiesEqual = Curry.makeOptional(\r\n   (A: ComponentTypes.properties, B: ComponentTypes.properties) => {\r\n      let Akeys = Object.keys(A);\r\n      let Bkeys = Object.keys(B);\r\n\r\n      return ((Akeys.length === Bkeys.length) &&\r\n         Akeys.every(key => {\r\n            return (B.hasOwnProperty(key) && (A as any)[key] === (B as any)[key]);\r\n         })\r\n      )\r\n   }\r\n);\r\n\r\nconst areComponentsSimilar = Curry.makeOptional(\r\n   (componentA: Component, componentB: Component): boolean => {\r\n      return (\r\n         componentA.type === componentB.type &&\r\n         arePropertiesEqual(getProperties(componentA), getProperties(componentB))\r\n      );\r\n   }\r\n);\r\n\r\nconst createMissingLayoutElements = () => {\r\n   let layoutCopy = manifest.states.layout.slice();\r\n   manifest.states.schematic.forEach(schematicElement => {\r\n      let properties = getProperties(schematicElement);\r\n      let match = layoutCopy.find(layoutElement =>\r\n         arePropertiesEqual(properties, getProperties(layoutElement))\r\n      );\r\n      if (match) {\r\n         if (!mappings.getComponentMapSafe(match).isUnique) {\r\n            layoutCopy = layoutCopy.filter(is(match));\r\n         }\r\n      } else {\r\n         const correspondsTo = mappings.getComponentMapSafe(schematicElement).correspondsTo;\r\n         if (correspondsTo !== undefined) {\r\n            const newComponentMaker = correspondsTo.make as ComponentTypes.loadFunction;\r\n            const newComponent = newComponentMaker(getProperties(schematicElement))\r\n            //mappings.getLayoutInstanceFromSchematic(schematicElement);\r\n            manifest.states.layout.push(newComponent);\r\n            if (mappings.getComponentMapSafe(newComponent).isUnique) {\r\n               layoutCopy.push(newComponent)\r\n            }\r\n\r\n         }\r\n      }\r\n   });\r\n}\r\n\r\nconst mergeSingleOpAmps = () => {\r\n   // For dual op amps\r\n   let layoutOpAmps = manifest.states.layout.filter(layoutElement => (\r\n      layoutElement[\"constructor\"] === OpAmp\r\n   )) as InstanceType<typeof OpAmp>[];\r\n\r\n   let opAmpGroups: InstanceType<typeof OpAmp>[][] = [];\r\n   layoutOpAmps.forEach((opAmp, i) => {\r\n      let groupIdx = opAmpGroups.findIndex(group =>\r\n         arePropertiesEqual(getProperties(opAmp), getProperties(group[0]))\r\n      )\r\n      if (groupIdx >= 0) {\r\n         opAmpGroups[groupIdx].push(opAmp);\r\n      } else {\r\n         opAmpGroups.push([opAmp]);\r\n      }\r\n   });\r\n   opAmpGroups.forEach(group => {\r\n      while (group.length >= 2) {\r\n         group[0].replaceWithDual()\r\n         manifest.removeComponent(group[1]);\r\n         group = group.splice(2);\r\n      }\r\n   });\r\n}\r\n\r\n// Add equivalent layout components for each schematic component\r\nconst completeManifestLayout = () => {\r\n   createMissingLayoutElements();\r\n   mergeSingleOpAmps();\r\n}\r\n\r\nconst mergeConnectorSets = (connectorSets: connectorSetGroup): connectorSet => {\r\n   // Reduce group to set\r\n   return connectorSets.reduce((mergedConnectorSet, connectorSet) => {\r\n      // Check each connector in set\r\n      connectorSet.forEach(connector => {\r\n         // If merged includes connector, merge, otherwise add \r\n         let found = mergedConnectorSet.find((mConnector) => mConnector.name === connector.name);\r\n         if (found) {\r\n            found.connections.push(...connector.connections)\r\n         } else {\r\n            mergedConnectorSet.push(connector);\r\n         }\r\n      });\r\n      return mergedConnectorSet;\r\n   });\r\n}\r\n\r\nconst mergeConnectorsSets = (connectorSetGroups: connectorSetGroups): connectorSetGroup => {\r\n   return connectorSetGroups.reduce((mergedConnectorSetGroup, connectorSetGroup) => {\r\n      connectorSetGroup.forEach((connectorSet, i) => {\r\n         mergedConnectorSetGroup[i] = mergeConnectorSets(\r\n            [(mergedConnectorSetGroup[i] || []), connectorSet]\r\n         );\r\n      });\r\n      return mergedConnectorSetGroup;\r\n   });\r\n}\r\n\r\nconst getMinConnections = (component: Component): connectorSetGroup => {\r\n   return (getComponentConnections(component).map(connectorSet => {\r\n      return (connectorSet.map(connections => {\r\n         let connectorName = connections[0].name;\r\n         connections.shift();\r\n         let blackHole = connections.find(connection => mappings.getComponentMapSafe(connection.component).isUnique === true)\r\n         if (blackHole) connections = connections.filter(is(blackHole));\r\n\r\n         return {\r\n            name: connectorName,\r\n            connections: connections.filter((connection) =>\r\n               mappings.getComponentMapSafe(connection.component).correspondsTo\r\n            )\r\n         }\r\n      })).filter(c => c.connections.length !== 0);\r\n   }));\r\n}\r\n\r\nconst connectorSetsHaveMatch = Curry.makeOptional(\r\n   (connectorSetsA: connectorSet[], connectorSetsB: connectorSet[]): boolean => {\r\n      return connectorSetsA.some(connectorSetA => {\r\n         return connectorSetsB.some(connectorSetMatch(connectorSetA));\r\n      })\r\n   }\r\n);\r\n\r\nconst connectorSetMatch = Curry.makeOptional(\r\n   (connectorSetA: connectorSet, connectorSetB: connectorSet): boolean => {\r\n      // Returns true if both connector sets have the same set of connectors \r\n      // connected to the same set of connections...\r\n\r\n      // Every connector in each connector set has a match in the corresponding set.\r\n      return isUnaryMap(connectorSetA, connectorSetB, (connectorA, connectorB) => {\r\n         if (connectorA.name !== connectorB.name) return false;\r\n         const connectionsA = connectorA.connections;\r\n         const connectionsB = connectorB.connections;\r\n         // Every connection in each connector has a match in the corresponding connector\r\n         return isUnaryMap(connectionsA, connectionsB, (connectionA, connectionB) => {\r\n            // Connections are the same if:\r\n            return (\r\n               connectionA.name === connectionB.name\r\n               && areComponentsSimilar(connectionA.component, connectionB.component)\r\n            );\r\n         })\r\n      });\r\n   }\r\n);\r\n\r\nexport default manifest;","import tuple from \"../utility/-tuple\";\r\nimport Component from \"../circuit/+component\";\r\nimport WireMaps from \"./component/_wire/-maps\";\r\nimport ResistorMaps from \"./component/resistor/-maps\";\r\nimport CapacitorMaps from \"./component/_capacitor/-maps\";\r\nimport InductorMaps from \"./component/_inductor/-maps\";\r\nimport DiodeMaps from \"./component/_diode/-maps\";\r\nimport OpAmpMaps from \"./component/_opAmp/-maps\";\r\nimport PowerMaps from \"./component/_power/-maps\";\r\nimport BipolarMaps from \"./component/_bipolar/-maps\";\r\nimport BreadboardMaps from \"./component/_breadboard/-maps\";\r\nimport StripboardMaps from \"./component/_stripboard/-maps\";\r\nimport TrackMap from \"./component/_track/-maps\";\r\n\r\nconst mappingsBuilder = (() => {\r\n\r\n   const componentMaps = tuple(\r\n      WireMaps.schematic,\r\n      WireMaps.layout,\r\n      ResistorMaps.schematic,\r\n      ResistorMaps.layout,\r\n      CapacitorMaps.schematic,\r\n      CapacitorMaps.layout,\r\n      InductorMaps.schematic,\r\n      InductorMaps.layout,\r\n      DiodeMaps.schematic,\r\n      DiodeMaps.layout,\r\n      OpAmpMaps.schematic,\r\n      OpAmpMaps.layout,\r\n      PowerMaps.schematic,\r\n      PowerMaps.layout,\r\n      BipolarMaps.schematic,\r\n      BipolarMaps.layout,\r\n      BreadboardMaps.layoutLarge,\r\n      BreadboardMaps.layoutSmall,\r\n      StripboardMaps.layout,\r\n      TrackMap,\r\n   );\r\n\r\n   function getComponentMapSafe(data: string | Component) {\r\n      const result = (typeof data === \"string\")\r\n         ? componentMaps.find(map => map.savename === data)\r\n         : componentMaps.find(map => {\r\n            return (data instanceof map.instance)\r\n         });\r\n\r\n      if (result !== undefined) {\r\n         return result;\r\n      } else {\r\n            /*LOGSTART*/console.error(\"Component map not found with data %o\", data);/*LOGEND*/\r\n         throw new Error(\"Component map does not exist!\");\r\n      }\r\n   }\r\n\r\n   function getComponentMap(data: string | Component) {\r\n      return (typeof data === \"string\")\r\n         ? componentMaps.find(map => map.savename === data)\r\n         : componentMaps.find(map => map.instance === data[\"constructor\"]);\r\n   }\r\n\r\n   //TODO use map(ts) to enforce correct values\r\n   const connectorAcceptedTypes: { [key: string]: string[] } = {\r\n      \"pin\": [\"hole\"],\r\n      \"hole\": [\"pin\"],\r\n      \"brokenhole\": [],\r\n      \"node\": [\"node\"],\r\n   }\r\n\r\n   return {\r\n      getComponentMap: getComponentMap,\r\n      getComponentMapSafe: getComponentMapSafe,\r\n      connectorAcceptedTypes: connectorAcceptedTypes,\r\n   }\r\n});\r\n\r\nconst mappings = mappingsBuilder();\r\n\r\nexport default mappings;","import NodeElements from \"../../~nodeElements\";\r\nimport Events from \"../../ui/~events\";\r\nimport buildComponents from \"./dasim/-buildComponents\";\r\nimport filterInvalidComponents from \"./dasim/-filterInvalidComponents\";\r\nimport getRawComponentsFromString from \"./dasim/-getRawComponentsFromString\";\r\nimport getStringFromFileInput from \"./dasim/-getStringFromFileInput\";\r\nimport manifest from \"../../circuit/manifest\";\r\nimport history from \"../../circuit/history\";\r\n//import * as $ from 'jquery';\r\n\r\n//TODO lastFilename shouldn't be exported here...! Maybe move\r\nlet lastFilename: string | undefined;\r\nfunction handleFileInputEvent(event: Event) {\r\n   let fileInput = event.target as HTMLInputElement;\r\n   if (fileInput.value.length === 0) {\r\n      // User selected to cancel, no action required\r\n   } else {\r\n         // Creates a queue forceing the following functions to occur in order,\r\n         // and pass their output to the next function. This is necessary as some\r\n         // are asynchronous but all require the prevous function to completed.\r\n         // Prevents callback hell.\r\n\r\n         // Note that each time '.then(fn)' is written it could be replaced with\r\n         // '.then((args) => fn(args)' which is more explicit but more verbose\r\n\r\n         /*LOGSTART*/console.groupCollapsed(\"File Load Data\");/*LOGEND*/\r\n\r\n      $.Deferred().resolve(fileInput)\r\n         // Get the file as a string from the fileinput\r\n         // (effectively the output of $.Deferred().resolve(fileInput))\r\n         .then(() => getStringFromFileInput(fileInput))\r\n\r\n         // Action changes depending on file type\r\n         .then((file, fileString) => {\r\n            let filename = (file as File).name;\r\n            let fileExtension = filename.split('.').pop();\r\n            lastFilename = filename;\r\n\r\n            if (fileExtension === \"dasim\" || fileExtension === \"layout\") {\r\n               $.Deferred().resolve(fileString as string)\r\n                  // Get the circuit from the string (output of above)\r\n                  .then((string) => getRawComponentsFromString(string as string))\r\n                  // Get the drawable components only from the circuit (output of above)\r\n                  .then((circuitObjects) => filterInvalidComponents(circuitObjects as any[]))\r\n                  // Build components\r\n                  .then((rawComponents) => buildComponents(rawComponents as any[]))\r\n                  // Called if any of the functions fail using detail from their context\r\n                  .then((savedManifest) => {\r\n                     NodeElements.fileStatusText.innerText = \"File:\\r\\n\\\"\" + filename + \"\\\"\\r\\nLoaded Successfully\";\r\n                     if (savedManifest) {\r\n                        manifest.constructFrom(savedManifest);\r\n                        history.reInit(...manifest.states.layout);\r\n                     } else {\r\n                           /*LOGSTART*/console.error(\"savedManifest is undefined\");/*LOGEND*/\r\n                     }\r\n                        /*LOGSTART*/console.groupEnd();/*LOGEND*/\r\n                     Events.schematicPaneResize();\r\n                     Events.layoutPaneResize();\r\n                  })\r\n                  // Construct circuit\r\n                  .fail((failText) => {\r\n                        /*LOGSTART*/console.warn(\"Failed to load circuit: \", failText);/*LOGEND*/\r\n                     NodeElements.fileStatusText.innerText = \"Failed to load file:\\r\\n\\\"\"\r\n                        + \"\" + filename + \"\\\"\\r\\n\"\r\n                        + \"Error:\\r\\n\\\"\" +\r\n                        failText + \"\\\"\";\r\n                        /*LOGSTART*/console.groupEnd();/*LOGEND*/\r\n                  })\r\n            } else {\r\n                  /*LOGSTART*/console.error(\"Failed to load circuit: Incorrect file extenstion %o\", fileExtension);/*LOGEND*/\r\n               NodeElements.fileStatusText.innerText = \"Failed to load file:\\r\\n\\\"\"\r\n                  + \"\" + filename + \"\\\"\\r\\n\"\r\n                  + \"Error:\\r\\n\\\"\" +\r\n                  \"Incorrect file extenstion: \\\".\" + fileExtension + \"\\\"\\\"\";\r\n                  /*LOGSTART*/console.groupEnd();/*LOGEND*/\r\n            }\r\n\r\n            //Clear file input\r\n            $(fileInput).val(\"\");\r\n         })\r\n\r\n   }\r\n}\r\n\r\nexport { lastFilename, handleFileInputEvent };","import Component from \"../../../circuit/+component\";\r\nimport mappings from \"../../../circuit/mappings\";\r\ntype savedManifist = { schematic: Component[], layout: Component[] };\r\n\r\nexport default function buildComponents(rawComponents: any[]): savedManifist {\r\n      /*LOGSTART*/console.groupCollapsed(\"Component Load Data\");/*LOGEND*/\r\n\r\n   let manifest: savedManifist = {\r\n      schematic: [],\r\n      layout: []\r\n   }\r\n\r\n   for (let rawComponent of rawComponents) {\r\n      const componentMap = mappings.getComponentMap(rawComponent.func);\r\n\r\n      if (componentMap === undefined) {\r\n            /*LOGSTART*/console.error(\"I don't know how to build %o yet!\", rawComponent);/*LOGEND*/\r\n         continue;\r\n      }\r\n\r\n      const sectionName = componentMap.diagramType;\r\n\r\n      let manifestSection = (sectionName === \"schematic\") ? manifest.schematic : manifest.layout;\r\n\r\n      let newComponents = componentMap.load(rawComponent);\r\n      if (Array.isArray(newComponents)) {\r\n         manifestSection.push(...newComponents);\r\n      } else {\r\n         manifestSection.push(newComponents);\r\n      }\r\n\r\n   }\r\n      /*LOGSTART*/console.groupEnd();/*LOGEND*/\r\n   return manifest;\r\n}","import mappings from \"../../../circuit/mappings\";\r\n//import * as $ from 'jquery';\r\nexport default function filterInvalidComponents(circuitObjects: any[]): JQueryPromise<{}> {\r\n   // Allow caller to see when function completes\r\n   let deferred = $.Deferred();\r\n\r\n   // List of components from circuit objects that can be drawn\r\n   let validComponents: object[] = [];\r\n\r\n   // List of objects that can be removed\r\n   let knownInvalidComponents: object[] = [];\r\n\r\n   // List of components from circuit objects that can't be drawn\r\n   let unknownInvalidComponents: object[] = [];\r\n\r\n   // Iterate through each circuit object\r\n   for (let circuitObject of circuitObjects) {\r\n\r\n      // If object does not have property 'func' (as all should)\r\n      if (!(\"func\" in circuitObject)) {\r\n            // Reject as there is a file format issue\r\n            /*LOGSTART*/console.error(\"Object %o format is incorrect\", [circuitObject]);/*LOGEND*/\r\n         deferred.reject(\"Object format is incorrect\");\r\n      }\r\n\r\n      // If object is in the supportedComponentList\r\n      if (mappings.getComponentMap(circuitObject.func)) {\r\n         // Add to drawableComponents\r\n         validComponents.push(circuitObject);\r\n      }\r\n      // If object is not supported but can be safely discarded\r\n      else if (discardableObjects.some(dO => dO === circuitObject.func)) {\r\n         // We know its ok to remove and the user did not expect it to be drawn\r\n         knownInvalidComponents.push(circuitObject)\r\n      } else {\r\n         // If object is not in either list then user will expect it to be drawn\r\n         // and needs to be notified that it is not supported\r\n         unknownInvalidComponents.push(circuitObject);\r\n      }\r\n   }\r\n\r\n   if (knownInvalidComponents.length) {\r\n         /*LOGSTART*/console.debug(\"Sim objects %o have been safely removed\", [knownInvalidComponents])/*LOGEND*/\r\n   }\r\n\r\n   if (unknownInvalidComponents.length) {\r\n         /*LOGSTART*/console.warn(\"Components %o are either not supported or not valid\", [unknownInvalidComponents]);/*LOGEND*/\r\n   }\r\n\r\n      /*LOGSTART*/console.info(\"Components %o successfully retrieved\", [validComponents]);/*LOGEND*/\r\n   deferred.resolve(validComponents);\r\n\r\n   // Allow caller to see when function completes\r\n   return deferred.promise();\r\n}\r\n\r\n// List of expected but safely ignorable objects\r\nconst discardableObjects = [\r\n   \"setSimMode\",\r\n   \"setGraphicsControls\",\r\n   \"setDrawingControls\",\r\n];\r\n","//import * as $ from 'jquery';\r\nexport default function getRawComponentsFromString(\r\n   fileString: string): JQueryPromise<{}> {\r\n   // Used to queue asynchronous actions which require the output of previous\r\n   // actions\r\n   let deferred = $.Deferred();\r\n\r\n   // Queues functions where each input is the previous functions output\r\n\r\n   // Shortcut to pass fileString into the first function\r\n   $.Deferred().resolve(fileString)\r\n      // Get an array of the strings for each object\r\n      .then(() => getComponentStrings(fileString))\r\n      // Get an array of the objects\r\n      .then((strings) => getCircuitObjects(strings as string[]))\r\n      // Return the array of objects\r\n      .then(deferred.resolve)\r\n      // Pass the failiure back up to calling function\r\n      .fail((failText) => deferred.reject(failText));\r\n\r\n   // Allow caller to see when function completes\r\n   return deferred.promise();\r\n}\r\n\r\n// Internal function to turn the string into an array of object strings\r\nfunction getComponentStrings(\r\n   fileString: string): JQueryPromise<{}> {\r\n   // Allow caller to see when function completes\r\n   let deferred = $.Deferred();\r\n\r\n   // Failure to parse text into JSON is a common cause of errors\r\n   // catching them prevents failure of the program.\r\n   try {\r\n      let circuitObjectStrings: string[] = [];\r\n      circuitObjectStrings = JSON.parse(fileString.replace(\"\\n\", \"\"));\r\n\r\n      // Function complete, return array of strings\r\n      deferred.resolve(circuitObjectStrings)\r\n   } catch (e) {\r\n      // Almost definitely a file format issue\r\n      if (e instanceof SyntaxError)\r\n            /*LOGSTART*/console.error(\"Error in file list format: %o \", [e]);/*LOGEND*/\r\n      // Function failed, return error text\r\n      deferred.reject(\"Error in file list format\")\r\n   }\r\n\r\n   // Allow caller to see when function completes\r\n   return deferred.promise();\r\n}\r\n\r\n// Internal function to turn the string array into circuit objects\r\nfunction getCircuitObjects(\r\n   circuitObjectStrings: string[]): JQueryPromise<{}> {\r\n   // Allow caller to see when function completes\r\n   let deferred = $.Deferred();\r\n\r\n   // Failure to parse text into JSON is a common cause of errors\r\n   // catching them prevents failure of the program.\r\n   try {\r\n      // Array of circuit objects\r\n      let circuitObjects: object[] = [];\r\n\r\n      // Parse each string into an object individually and add to array\r\n      for (let circuitObjectString of circuitObjectStrings) {\r\n         let circuitObject = JSON.parse(circuitObjectString);\r\n         circuitObjects.push(circuitObject);\r\n      }\r\n\r\n         // Function complete, return array of objects\r\n         /*LOGSTART*/console.info(\"Circuit objects %o successfully parsed\", [circuitObjects])/*LOGEND*/\r\n      deferred.resolve(circuitObjects)\r\n\r\n   } catch (e) {\r\n      // Almost definitely a file format issue\r\n      if (e instanceof SyntaxError)\r\n            /*LOGSTART*/console.error(\"Error in file object format: %o\", [e]);/*LOGEND*/\r\n      // Function failed, return error text\r\n      deferred.reject(\"Error in file object format\")\r\n   }\r\n\r\n   // Allow caller to see when function completes\r\n   return deferred.promise();\r\n}\r\n","//import * as $ from 'jquery';\r\nexport default function getStringFromFileInput(\r\n   fileInput: HTMLInputElement): JQueryPromise<{}> {\r\n\r\n   // Used to queue asynchronous actions which require the output of previous\r\n   // actions\r\n   let deferred = $.Deferred();\r\n\r\n   // Create Asynchronous file reader\r\n   let reader = new FileReader;\r\n\r\n   let files = fileInput.files;\r\n\r\n   // Event called when read started\r\n   reader.onloadstart = function (event) {\r\n         /*LOGSTART*/console.debug(\"Read of %o started with %o\", [this.result], [event]);/*LOGEND*/\r\n   };\r\n\r\n   // Event called if read aborted (Not expected to ever happen)\r\n   reader.onabort = function (event) {\r\n         /*LOGSTART*/console.error(\"Read of %o aborted with %o\", [this.result], [event]);/*LOGEND*/\r\n      // Async action failed, abort queue\r\n      deferred.reject(\"File read aborted\")\r\n   };\r\n\r\n   // Event called if error occurs during read\r\n   reader.onerror = function (event) {\r\n         /*LOGSTART*/console.error(\"Read of %o failed with %o\", [this.result], [event]);/*LOGEND*/\r\n      // Async action failed, abort queue\r\n      deferred.reject(\"File could not be read\")\r\n   };\r\n\r\n   // Event called if read completed successfully\r\n   reader.onload = function (event) {\r\n         /*LOGSTART*/console.info(\"Read of %o successfully complete with %o\", [this.result], [event]);/*LOGEND*/\r\n      let fileString: string = reader.result as string; //TODO\r\n      if (files && files[0]) {\r\n         deferred.resolve(files[0], fileString)\r\n      } else {\r\n         // Async action failed, abort queue\r\n         deferred.reject(\"File undefined\");\r\n      }\r\n   }\r\n\r\n   if (files && files[0]) {\r\n      // Catches other errors such as if the file opject is undefined\r\n      try {\r\n         // Retreive file from file input, file input is configured\r\n         // to open a single file only but still returns as array.\r\n         reader.readAsText(files[0]);\r\n      } catch (e) {\r\n            /*LOGSTART*/console.error(\"Read of %o failed with %o\", [files[0]], [e]);/*LOGEND*/\r\n         // Async action failed, abort queue\r\n         deferred.reject(\"File could not be read as string\");\r\n      }\r\n   } else {\r\n      // Async action failed, abort queue\r\n      deferred.reject(\"File undefined\");\r\n   }\r\n\r\n\r\n\r\n   // Return promise that async function will eventually finish\r\n   return deferred.promise();\r\n}\r\n\r\n","import manifest from \"../../circuit/manifest\";\r\nimport mappings from \"../../circuit/mappings\";\r\nimport { getProperties, getStates } from \"../../circuit/+component\";\r\n\r\nfunction createFile(): string {\r\n   let componentStrings: string[] = [];\r\n   manifest.states.layout.concat(manifest.states.schematic).forEach(component => {\r\n      try {\r\n         const componentMap = mappings.getComponentMap(component);\r\n         if (componentMap === undefined) {\r\n               /*LOGSTART*/console.error(\"No component map found!\", component);/*LOGEND*/\r\n            throw new Error(\"Could not save component\")\r\n         }\r\n\r\n         // Don't save disabled objects\r\n         if (component.flags.disabled === false) {\r\n            let componentObject = {\r\n               func: mappings.getComponentMapSafe(component).savename,\r\n               properties: getProperties(component),\r\n               states: getStates(component)\r\n            }\r\n            componentStrings.push(JSON.stringify(componentObject));\r\n         }\r\n      } catch (e) {\r\n            /*LOGSTART*/console.error(\"Item %o cannot be saved (check mappings) with error %o\", component, e);/*LOGEND*/\r\n      }\r\n\r\n   });\r\n\r\n   return JSON.stringify(componentStrings, undefined, 2);\r\n}\r\nexport default createFile;","import NodeElements from \"../../~nodeElements\";\r\nimport createFile from \"./-createFile\";\r\nimport { lastFilename } from \"../load/-handleFileInputEvent\";\r\n//import * as $ from 'jquery';\r\nexport default function handleFileSaveEvent(event: Event) {\r\n   // Create an temporary element to download\r\n   let downloadElement: HTMLAnchorElement = document.createElement('a');\r\n\r\n   // Specify encoding and define content\r\n   let fileString = createFile();\r\n   downloadElement.setAttribute('href', 'data:text/plain;charset=utf-8,' + encodeURIComponent(fileString));\r\n\r\n   // Give the file a name\r\n   if (lastFilename !== undefined) {\r\n      downloadElement.setAttribute('download', lastFilename.split('.').shift() + \".layout\");\r\n   } else {\r\n      downloadElement.setAttribute('download', 'filename.layout');\r\n   }\r\n\r\n\r\n   // Don't display the element\r\n   downloadElement.style.display = 'none';\r\n\r\n   document.body.appendChild(downloadElement);\r\n\r\n   // Click the element on behalf of the user\r\n   downloadElement.click();\r\n\r\n   // Remove the element\r\n   document.body.removeChild(downloadElement);\r\n\r\n   // Can't detect if cancel pressed but can detect that save window is opened and closed.\r\n   // This mechanism isn't perfect, but it doesn't need to be.\r\n   $(window).one(\"blur\", () => {\r\n      $(window).one(\"focus\", () => {\r\n         NodeElements.fileStatusText.innerText = \"File Saved Successfully\";\r\n      });\r\n   });\r\n}","import NodeElements from \"./~nodeElements\";\r\nimport Active from \"./~active\";\r\nimport Ui from \"./ui/-init\";\r\n\r\n$(document).ready(() => {\r\n   //TODO NodeElements must go before UI, remove dependancy\r\n   NodeElements.init();\r\n   Active.init();\r\n   Ui.init();\r\n});\r\n","import { Vector } from \"../++types\";\r\nimport addTransform from \"./-addTransform\";\r\nimport makeMatrix from \"./-makeMatrix\";\r\nimport * as Types from \"./++types\";\r\nimport svg from \"../svg/-svg\";\r\nimport { svgURI } from \"../~constants\";\r\n//import * as $ from 'jquery';\r\n\r\nexport function makeElement<T extends SVGElement>(type: string, classes: string = \"\") {\r\n   const element = document.createElementNS(svgURI, type) as T;\r\n   $(element).addClass(classes);\r\n   return element;\r\n}\r\n\r\nexport namespace Functions {\r\n\r\n   /** FROM EAST, COUNTER-CLOCKWISE */\r\n   export function rotate<T extends SVGGraphicsElement>(element: T) {\r\n      return (rotation: number, centre?: Vector, insertBefore: boolean = false) => {\r\n         let centreV: Vector;\r\n         if (centre) {\r\n            centreV = centre;\r\n         } else {\r\n            let bounds = element.getBBox();\r\n            centreV = { x: bounds.width / 2 + bounds.x, y: bounds.height / 2 + bounds.y };\r\n         }\r\n\r\n         addTransform(element, t => t.setRotate(rotation, centreV.x, centreV.y), insertBefore);\r\n\r\n         return svg(element);\r\n      }\r\n   }\r\n\r\n   export function translate<T extends SVGGraphicsElement>(element: T) {\r\n      return (translation: Vector, insertBefore: boolean = true) => {\r\n         addTransform(element, t => t.setTranslate(translation.x, translation.y), insertBefore)\r\n         return svg(element);\r\n      }\r\n   }\r\n\r\n   export function scale<T extends SVGGraphicsElement>(element: T) {\r\n      return (scale: (Partial<Vector> | number), insertBefore: boolean = true) => {\r\n         let scaleV = (typeof scale === \"number\") ? { x: scale, y: scale } : scale;\r\n         addTransform(element, t => t.setScale((scaleV.x || 1), (scaleV.y || 1)), insertBefore)\r\n         return svg(element);\r\n      }\r\n   }\r\n\r\n   export function getTransforms<T extends SVGGraphicsElement>(element: T) {\r\n      return () => {\r\n         let transform = element.transform.baseVal.consolidate();\r\n         return (transform === null) ? makeMatrix() : {\r\n            a: transform.matrix.a, b: transform.matrix.b, c: transform.matrix.c,\r\n            d: transform.matrix.d, e: transform.matrix.e, f: transform.matrix.f\r\n         }\r\n      }\r\n   }\r\n\r\n   export function setTransforms<T extends SVGGraphicsElement>(element: T) {\r\n      return (transformMatrix: Types.transformMatrix) => {\r\n         element.transform.baseVal.clear();\r\n         element.removeAttribute('transform');\r\n\r\n         let matrix = makeMatrix();\r\n         matrix.a = transformMatrix.a;\r\n         matrix.b = transformMatrix.b;\r\n         matrix.c = transformMatrix.c;\r\n         matrix.d = transformMatrix.d;\r\n         matrix.e = transformMatrix.e;\r\n         matrix.f = transformMatrix.f;\r\n         let transform = element.transform.baseVal.createSVGTransformFromMatrix(matrix);\r\n         element.transform.baseVal.appendItem(transform);\r\n         return svg(element);\r\n      }\r\n   }\r\n\r\n   // Converts vectors between the Dom and SVG frame of reference\r\n   // Generally will want to use relative for sizes (or drags) and absolute for the rest\r\n   export function convertVector<T extends SVGGraphicsElement>(element: T) {\r\n\r\n      return (vector: Vector, direction: \"DomToSvg\" | \"SvgToDom\", type: \"relToGroup\" | \"absToDoc\"): Vector => {\r\n         // Matrix representing transforms from element coordinates to dom coordinates\r\n         // (It actually converts to the SVGs viewport, but that is unused and will be same as DOM)\r\n         let conversionMatrix = element.getScreenCTM() || makeMatrix();\r\n\r\n         // Inverts the matrix (to convert the other way)\r\n         if (direction === \"DomToSvg\") conversionMatrix = conversionMatrix.inverse();\r\n\r\n         // Reverses the transforms which could cause transformations on the reference frame...\r\n         // In practice, this means top left will always be top left,\r\n         // A rotation of 90(deg) will not cause a top left dom coordinate to\r\n         // convert to the top right of the group and a rightwards drag to convert to a downwards drag\r\n         if (type === \"absToDoc\" && element.transform.baseVal.numberOfItems > 0) {\r\n            element.transform.baseVal.consolidate();\r\n            let groupMatrix = element.transform.baseVal.getItem(0).matrix;\r\n            conversionMatrix = conversionMatrix.multiply(groupMatrix);\r\n         }\r\n\r\n         // Apply rotational/scale conversions\r\n         let convertedVector = {\r\n            x: vector.x * conversionMatrix.a + vector.y * conversionMatrix.c,\r\n            y: vector.y * conversionMatrix.d + vector.x * conversionMatrix.b\r\n         };\r\n\r\n         // If relative then also apply the translations...\r\n         if (type === \"relToGroup\") {\r\n            convertedVector.x += conversionMatrix.e;\r\n            convertedVector.y += conversionMatrix.f;\r\n         }\r\n\r\n         return convertedVector;\r\n      }\r\n   }\r\n\r\n   let clipCount = 0;\r\n   export function clipTo<T extends SVGGraphicsElement>(element: T) {\r\n      return <C extends SVGGraphicsElement>(clip: C) => {\r\n\r\n         // Make a clipPath\r\n         const clipPath = makeElement<SVGGraphicsElement>(\"clipPath\");\r\n         clipPath.append(clip.cloneNode());\r\n\r\n         // Give it a generated (hopefully unique)  ID\r\n         const clipPathID = \"clipForElement\" + clipCount;\r\n         clipPath.setAttribute(\"id\", clipPathID);\r\n         clipCount += 1;\r\n\r\n         // Relative rather than absolute\r\n         clipPath.setAttribute(\"clipPathUnits\", \"userSpaceOnUse\");\r\n\r\n         // Set the clip-path of the element\r\n         $(element).css(\"clip-path\", `url(#${clipPathID})`);\r\n\r\n         // Group them back together\r\n         const group = makeElement<SVGGElement>(\"g\");  \r\n         group.append(element,clipPath)\r\n\r\n         return group;\r\n      }\r\n\r\n\r\n   }\r\n}\r\n\r\n","import { make as makeSvg } from \"./element/+svg\";\r\nimport { makeGroup as makeGroup } from \"./element/+group\";\r\nimport Draggable from \"./addins/draggable\"\r\nimport Scaleable from \"./addins/scaleable\";\r\nimport { makeElement } from \"./+element\";\r\n//import * as $ from 'jquery';\r\nexport default class Root {\r\n   element = makeSvg();\r\n   group = makeGroup();\r\n   constructor(classes: string = \"\") {\r\n      $(this.element.element).addClass(classes);\r\n   }\r\n\r\n   draw(node: HTMLDivElement) {\r\n      this.element.append(this.group);\r\n      this.group.append(\r\n         makeElement<SVGGraphicsElement>(\"marker-back\"),\r\n         makeElement<SVGGraphicsElement>(\"marker-mid\"),\r\n         makeElement<SVGGraphicsElement>(\"marker-fore\")\r\n      )\r\n      node.appendChild(this.element.element);\r\n\r\n      Draggable.init(this.element.element);\r\n\r\n      Scaleable.init(this.group.element, {\r\n         eventTarget: this.element.element,\r\n      });\r\n   }\r\n}\r\n","import { makeElement } from \"./+element\";\r\n\r\nexport default function addTransform(\r\n   element: SVGGraphicsElement,\r\n   transformationFunction: (transform: SVGTransform) => void,\r\n   insertBefore: boolean = true\r\n) {\r\n   let transform = makeTransform();\r\n   transformationFunction(transform);\r\n   let transforms = element.transform.baseVal;\r\n   if (insertBefore) {\r\n      transforms.insertItemBefore(transform, 0);\r\n   } else {\r\n      transforms.appendItem(transform);\r\n   }\r\n   transforms.consolidate();\r\n}\r\n\r\nfunction makeTransform(): SVGTransform {\r\n   return makeElement<SVGSVGElement>(\"svg\").createSVGTransform();\r\n}\r\n","import { makeElement } from \"./+element\";\r\nexport default function makeMatrix(): SVGMatrix {\r\n   return makeElement<SVGSVGElement>(\"svg\").createSVGMatrix();\r\n}\r\n\r\n","import { Functions as ElementFunctions } from \"./+element\";\r\nimport { Functions as GroupFunctions } from \"./element/+group\";\r\nimport { Functions as TextFunctions } from \"./element/+text\";\r\nimport { getPathFunctions } from \"./element/+path\";\r\n\r\nexport default function svg<T extends SVGElement>(element: T) {\r\n\r\n   let extension = {\r\n      element: element\r\n   }\r\n\r\n   let elementExtension = (element instanceof SVGGraphicsElement) ? {\r\n      rotate: ElementFunctions.rotate(element),\r\n      translate: ElementFunctions.translate(element),\r\n      scale: ElementFunctions.scale(element),\r\n      getTransforms: ElementFunctions.getTransforms(element),\r\n      setTransforms: ElementFunctions.setTransforms(element),\r\n      convertVector: ElementFunctions.convertVector(element),\r\n      clipTo: ElementFunctions.clipTo(element),\r\n   } : null;\r\n\r\n   let groupExtension = (element instanceof SVGGElement || element instanceof SVGSVGElement) ? {\r\n      append: GroupFunctions.append(element),\r\n      prepend: GroupFunctions.prepend(element),\r\n      clearChildren: GroupFunctions.clearChildren(element)\r\n   } : null;\r\n\r\n   let textExtension = (element instanceof SVGTextElement) ? {\r\n      followPath: TextFunctions.followPath(element),\r\n      rotatePosition: TextFunctions.rotatePosition(element),\r\n   } : null;\r\n\r\n   let pathExtension = (element instanceof SVGPathElement) ? {\r\n      ...getPathFunctions(element)\r\n   } : null;\r\n\r\n   return Object.assign({}, extension, elementExtension, groupExtension, textExtension, pathExtension) as (\r\n      (typeof extension) &\r\n      (T extends SVGGraphicsElement ? NonNullable<typeof elementExtension> : {}) &\r\n      (T extends SVGGElement | SVGSVGElement ? NonNullable<typeof groupExtension> : {}) &\r\n      (T extends SVGTextElement ? NonNullable<typeof textExtension> : {}) &\r\n      (T extends SVGPathElement ? NonNullable<typeof pathExtension> : {})\r\n   )\r\n}\r\n\r\n\r\n","import vector, { Vector } from \"../../-vector\";\r\nimport Events from \"../../circuit/events\";\r\nimport svg from \"../-svg\";\r\nimport { gridSpacing } from \"../../~constants\"\r\n//import * as $ from 'jquery';\r\nconst Draggable = (() => {\r\n\r\n   const init = (container: SVGGraphicsElement): void => {\r\n      // Parameterise\r\n      const dragStepThresholdSvg = gridSpacing / 2;\r\n      const dragStartThresholdSvg = gridSpacing / 2;\r\n      \r\n\r\n      \r\n      let state: \"Idle\" | \"Ready\" | \"Dragging\" = \"Idle\";\r\n      let lastMousePosSvg: Vector;\r\n      let element: SVGGraphicsElement;\r\n      \r\n      let onMouseDown = (e: JQuery.MouseDownEvent) => {\r\n         // Possible states should be 'Idle'\r\n         // Get the target element\r\n         element = $(e.target).closest(\".draggable\").get(0);\r\n\r\n         if (element) {\r\n            // Do drag prep\r\n            const mouseDownDom = { x: e.clientX, y: e.clientY }\r\n            lastMousePosSvg = svg(element).convertVector(mouseDownDom, \"DomToSvg\", \"relToGroup\");\r\n\r\n            // Trigger drag prepped if I care\r\n            $(document).on(\"mousemove\", onMouseMove);\r\n            $(document).one(\"mouseup\", onMouseUp);\r\n            state = \"Ready\"\r\n         }\r\n      }\r\n\r\n      const onMouseMove = (e: JQuery.MouseMoveEvent) => {\r\n         // Possible states should 'Ready' or 'Dragging'\r\n         // Get absolute position of mouse event\r\n         const mouseMoveToDom = { x: e.clientX, y: e.clientY };\r\n         const mousePosSvg = svg(element).convertVector(mouseMoveToDom, \"DomToSvg\", \"relToGroup\");\r\n         \r\n\r\n         if (state === \"Ready\") {\r\n            if (!vector(mousePosSvg).isCloseTo(lastMousePosSvg, dragStartThresholdSvg / 2)) {\r\n               // If new position > threshold from start\r\n               $(element).addClass(\"dragging\");\r\n               $(element).trigger(Events.dragStart, lastMousePosSvg)\r\n               state = \"Dragging\";\r\n            } else {\r\n               return;\r\n            }\r\n         }\r\n         \r\n         if (state === \"Dragging\") {\r\n            if (!vector(mousePosSvg).isCloseTo(lastMousePosSvg, dragStepThresholdSvg / 2)) {\r\n               const mouseMoveSvg = vector(mousePosSvg).subSum(lastMousePosSvg);\r\n               const dragSteps = mouseMoveSvg.scaleWith(1 / dragStepThresholdSvg).round();\r\n               const dragSizeSvg = dragSteps.scaleWith(dragStepThresholdSvg);\r\n               $(element).trigger(Events.drag, dragSizeSvg.vector);\r\n               lastMousePosSvg = dragSizeSvg.sumWith(lastMousePosSvg).vector;\r\n            }\r\n         }\r\n      }\r\n\r\n      const onMouseUp = (e: JQuery.MouseUpEvent) => {\r\n         // Possible states should be 'Dragging' or 'Ready'     \r\n         $(document).off(\"mousemove\", onMouseMove);\r\n         if (state === \"Dragging\") {\r\n            $(element).removeClass(\"dragging\");\r\n            $(element).trigger(Events.dragStop, lastMousePosSvg);\r\n         }\r\n         state = \"Idle\"\r\n      }\r\n\r\n      $(container).on(\"mousedown\", onMouseDown);\r\n   }\r\n\r\n   return { init }\r\n})()\r\n\r\n\r\nexport default Draggable;\r\n\r\n","import { Vector } from \"../../-vector\";\r\nimport svg from \"../-svg\";\r\n\r\nnamespace Scaleable {\r\n   export const init = (element: SVGGraphicsElement, options: scalableOptions = {}): void => {\r\n      // Set the event to occur on another target, but apply to yourself\r\n      let eventTarget = options.eventTarget !== undefined ? options.eventTarget : element;\r\n\r\n      // Scale occurs on mousewheel\r\n      let mouseWheelHandler = (e: WheelEvent) => {\r\n         // Prevent scaling if a drag is in progress\r\n         // Grid size is calculated on dragstart and will get messed up\r\n         if (e.buttons === 1 || e.buttons === 3) {\r\n            return;\r\n         }\r\n\r\n         // Change scale by +/-0.05 on each step depending on wheel direction\r\n         let scaleChange = Math.sign(e.deltaY) * -0.05;\r\n\r\n         // Find the postion and size of the element on screen\r\n         let clientBounds = element.getBoundingClientRect();\r\n\r\n         // Find the position relative to the SVG position\r\n         let owner = element.ownerSVGElement;\r\n         let rootClientBounds = (owner) ? owner.getBoundingClientRect() : {\r\n            left: 0,\r\n            top: 0\r\n         };\r\n         let clientStart = {\r\n            x: clientBounds.left - rootClientBounds.left,\r\n            y: clientBounds.top - rootClientBounds.top\r\n         };\r\n\r\n         // Find the elements relative position in its own coordinate system\r\n         let svgStart = svg(element).convertVector(clientStart, \"DomToSvg\", \"absToDoc\");\r\n         let svgSize = svg(element).convertVector({\r\n            x: clientBounds.width,\r\n            y: clientBounds.height\r\n         },\r\n            \"DomToSvg\",\r\n            \"absToDoc\"\r\n         );\r\n\r\n         // Find the position of the mouse relative to the centre of the element on screen\r\n         let mousePosDomFromCentre: Vector = {\r\n            x: e.clientX - (clientBounds.left + clientBounds.width / 2),\r\n            y: e.clientY - (clientBounds.top + clientBounds.height / 2)\r\n         };\r\n\r\n         // Find the position of the mouse relative to the centre of the element in its own coordinate system\r\n         let mousePosSvgFromCentre = svg(element).convertVector(\r\n            mousePosDomFromCentre,\r\n            \"DomToSvg\",\r\n            \"absToDoc\"\r\n         );\r\n\r\n         // Perform the scale\r\n         let scale = {\r\n            x: 1 + scaleChange,\r\n            y: 1 + scaleChange\r\n         };\r\n         svg(element).scale(scale, true);\r\n\r\n         // Work out the translation required to keep the element under the mouse\r\n         let scaleTranslationAdjust = {\r\n            x: (svgStart.x + svgSize.x / 2 + mousePosSvgFromCentre.x) * -scaleChange,\r\n            y: (svgStart.y + svgSize.y / 2 + mousePosSvgFromCentre.y) * -scaleChange\r\n         };\r\n         // Translate\r\n         svg(element).translate(scaleTranslationAdjust, true);\r\n\r\n         if (options.onScale !== undefined) {\r\n            options.onScale(scale, scaleTranslationAdjust);\r\n         }\r\n      };\r\n\r\n      // Add event listeners for mousewheel\r\n      // Typescript definitions for addEventListener are incorrect (as any surpresses warning)\r\n      eventTarget.addEventListener(\"DOMMouseScroll\", (e) => mouseWheelHandler(e as WheelEvent), {\r\n         passive: true\r\n      }); // For Firefox\r\n      eventTarget.addEventListener(\"mousewheel\", (e) => mouseWheelHandler(e as WheelEvent), {\r\n         passive: true\r\n      }); // For everyone else\r\n   }\r\n}\r\n\r\ninterface scalableOptions {\r\n   eventTarget?: SVGGElement;\r\n   onScale?: (scale: Vector, translation: Vector) => void;\r\n}\r\n\r\nexport default Scaleable;\r\n\r\n","import { Vector } from \"../../++types\";\r\nimport { makeElement as makeElement } from \"../+element\";\r\nimport svg from \"../-svg\";\r\n\r\nexport type circle = ReturnType<typeof makeCircle>;\r\nexport function makeCircle(centreVector: Vector, radius: number, classes: string = \"\") {\r\n   const element: SVGCircleElement = makeElement(\"circle\", classes);\r\n   element.setAttribute(\"cx\", centreVector.x.toString());\r\n   element.setAttribute(\"cy\", centreVector.y.toString());\r\n   element.setAttribute(\"r\", radius.toString());\r\n   return svg(element);\r\n}\r\n","import { Vector } from \"../../++types\";\r\nimport { makeElement as makeElement } from \"../+element\";\r\nimport svg from \"../-svg\";\r\n\r\nexport type ellipse = ReturnType<typeof makeEllipse>;\r\nexport function makeEllipse(centreVector: Vector, radiusVector: Vector, classes: string = \"\") {\r\n   const element: SVGEllipseElement = makeElement(\"ellipse\", classes);\r\n   element.setAttribute(\"cx\", centreVector.x.toString());\r\n   element.setAttribute(\"cy\", centreVector.y.toString());\r\n   element.setAttribute(\"rx\", radiusVector.x.toString());\r\n   element.setAttribute(\"ry\", radiusVector.y.toString());\r\n   return svg(element);\r\n}\r\n","import { makeElement as makeElement } from \"../+element\";\r\nimport svg from \"../-svg\";\r\n//import * as $ from 'jquery';\r\n\r\nexport type group = ReturnType<typeof makeGroup>;\r\nexport function makeGroup(classes: string = \"\") {\r\n   return svg(makeElement<SVGGElement>(\"g\", classes));\r\n}\r\n\r\nexport namespace Functions {\r\n   type ElementSet = (\r\n      SVGElement |\r\n      { element: SVGElement }\r\n      | SVGElement[] |\r\n      { element: SVGElement }[])[];\r\n\r\n   export function append<T extends SVGGElement>(element: T) {\r\n      return (...elements: ElementSet) => {\r\n         addChildren(element, (child: SVGElement) => {\r\n            element.appendChild(child);\r\n         }, ...elements);\r\n         return svg(element);\r\n      }\r\n   }\r\n\r\n   //Note when given an array, the z-order is not reversed.\r\n   export function prepend<T extends SVGGElement>(element: T) {\r\n      return (...elements: ElementSet) => {\r\n         let firstChild = element.firstChild;\r\n         addChildren(element, (child: SVGElement) => {\r\n            element.insertBefore(child, firstChild);\r\n         }, ...elements);\r\n         return svg(element);\r\n      }\r\n   }\r\n\r\n   export function clearChildren<T extends SVGGElement>(element: T) {\r\n      return (inclusionSelector: string = \"*\") => {\r\n         $(element).children(inclusionSelector).remove();\r\n         return svg(element);\r\n      }\r\n   }\r\n\r\n   function addChildren<GT extends SVGGElement>(\r\n      to: GT,\r\n      addCallback: (element: SVGElement) => void,\r\n      ...elements: ElementSet\r\n   ): GT {\r\n      elements.forEach(item => {\r\n         //item = item instanceof Array ? item : [item];\r\n         let asArray = item instanceof Array ? item : [item]\r\n         asArray.forEach(member => {\r\n            let element = member instanceof SVGElement ? member : member.element;\r\n            addCallback(element)\r\n         });\r\n      })\r\n\r\n      // To allow method chaining;\r\n      return to;\r\n   }\r\n}\r\n\r\n","import { Vector } from \"../../++types\";\r\nimport { makeElement as makeElement } from \"../+element\";\r\nimport svg from \"../-svg\";\r\n\r\nexport type line = ReturnType<typeof makeLine>;\r\nexport function makeLine(startVector: Vector, endVector: Vector, classes: string = \"\") {\r\n   const element: SVGLineElement = makeElement(\"line\", classes);\r\n   element.setAttribute(\"x1\", startVector.x.toString());\r\n   element.setAttribute(\"y1\", startVector.y.toString());\r\n\r\n   element.setAttribute(\"x2\", endVector.x.toString());\r\n   element.setAttribute(\"y2\", endVector.y.toString());\r\n   return svg(element);\r\n}\r\n\r\n","import { Vector } from \"../../++types\";\r\nimport { makeElement as makeElement } from \"../+element\";\r\nimport svg from \"../-svg\";\r\nimport vector from \"../../-vector\";\r\n\r\nexport type path = ReturnType<typeof makePath>;\r\nexport function makePath(path: string | (Vector[] | (Vector[])[]), classes: string = \"\") {\r\n   const element: SVGPathElement = makeElement(\"path\", classes);\r\n   let pathString = (path instanceof Array) ? getLinePath(path) : path;\r\n   element.setAttribute('d', pathString);\r\n   return svg(element);\r\n}\r\n\r\n\r\nfunction getPathWrapper<T extends SVGPathElement>(element: T) {\r\n   return <Args extends any[]>(wrapped: (...args: Args) => string) => {\r\n      return (...args: Args) => {\r\n         const currentPath = element.getAttribute('d') || \"\";\r\n         const pathAddition = wrapped(...args)\r\n         element.setAttribute(\"d\", currentPath + pathAddition);\r\n         return svg(element);\r\n      }\r\n   }\r\n}\r\n\r\nfunction getLinePath(jointSet: (Vector[] | (Vector[])[])) {\r\n   if (jointSet.length > 0 && jointSet[0] instanceof Array) {\r\n      let jointArrays = jointSet as Vector[][];\r\n      return jointArrays.map(getSingleLinePath).join()\r\n   } else {\r\n      let joints = jointSet as Vector[];\r\n      return getSingleLinePath(joints);\r\n   }\r\n}\r\n\r\nfunction getSingleLinePath(joints: Vector[]) {\r\n   if (joints.length < 1) {\r\n      return \"\";\r\n   } else {\r\n      return \"M\" + joints[0].x + \" \" + joints[0].y\r\n         + joints.map(joint => \"L\" + joint.x + \" \" + joint.y).join();\r\n   }\r\n}\r\n\r\nexport const getPathFunctions = <T extends SVGPathElement>(element: T) => ({\r\n   /****************************************************************************\r\n    * Lines\r\n   ****************************************************************************/\r\n   segments: getPathWrapper(element)(getLinePath),\r\n   M: getPathWrapper(element)(\r\n      ({ x, y }: Vector) => `M ${x},${y}`\r\n   ),\r\n   m: getPathWrapper(element)(\r\n      ({ x, y }: Vector) => `m ${x},${y}`\r\n   ),\r\n   L: getPathWrapper(element)(\r\n      ({ x, y }: Vector) => `L ${x},${y}`\r\n   ),\r\n   l: getPathWrapper(element)(\r\n      ({ x, y }: Vector) => `l ${x},${y}`\r\n   ),\r\n   H: getPathWrapper(element)(\r\n      (x: number) => `H ${x}`\r\n   ),\r\n   h: getPathWrapper(element)(\r\n      (x: number) => `M ${x}`\r\n   ),\r\n   V: getPathWrapper(element)(\r\n      (y: number) => `V ${y}`\r\n   ),\r\n   v: getPathWrapper(element)(\r\n      (y: number) => `v ${y}`\r\n   ),\r\n   Z: getPathWrapper(element)(\r\n      () => `Z`\r\n   ),\r\n   /****************************************************************************\r\n    * Curves\r\n   ****************************************************************************/\r\n   C: getPathWrapper(element)(\r\n      ({ c1, c2, e }: Record<\"c1\" | \"c2\" | \"e\", Vector>) =>\r\n         `C ${c1.x} ${c1.y} ${c2.x} ${c2.y} ${e.x} ${e.y}`\r\n   ),\r\n   c: getPathWrapper(element)(\r\n      ({ c1, c2, e }: Record<\"c1\" | \"c2\" | \"e\", Vector>) =>\r\n         `c ${c1.x} ${c1.y} ${c2.x} ${c2.y} ${e.x} ${e.y}`\r\n   ),\r\n   Q: getPathWrapper(element)(\r\n      ({ c, e }: Record<\"c\" | \"e\", Vector>) =>\r\n         `Q ${c.x} ${c.y} ${e.x} ${e.y}`\r\n   ),\r\n   q: getPathWrapper(element)(\r\n      ({ c, e }: Record<\"c\" | \"e\", Vector>) =>\r\n         `q ${c.x} ${c.y} ${e.x} ${e.y}`\r\n   ),\r\n   A: getPathWrapper(element)(\r\n      ({ radii, rotation = 0, arc, sweep, end }: { radii: Vector | number, end: Vector | number, rotation?: number, arc: number, sweep: number }) => [\r\n         `A `\r\n         , `${vector(radii).x}`\r\n         , `${vector(radii).y}`\r\n         , `${rotation}`\r\n         , `${arc}`\r\n         , `${sweep}`\r\n         , `${vector(end).x}`\r\n         , `${vector(end).y}`\r\n      ].join(\" \")\r\n   ),\r\n   a: getPathWrapper(element)(\r\n      ({ radii, rotation = 0, arc, sweep, end }: {\r\n         radii: Vector | number\r\n         , end: Vector | number\r\n         , rotation?: number\r\n         , arc: number\r\n         , sweep: number\r\n      }) => [`a`\r\n         , `${vector(radii).x}`\r\n         , `${vector(radii).y}`\r\n         , `${rotation}`\r\n         , `${arc}`\r\n         , `${sweep}`\r\n         , `${vector(end).x}`\r\n         , `${vector(end).y}`\r\n      ].join(\" \")\r\n   )\r\n})\r\n\r\nvector(4)\r\n\r\n","import { size, Vector } from \"../../++types\";\r\nimport { makeElement as makeElement } from \"../+element\";\r\nimport svg from \"../-svg\";\r\n\r\nexport type rect = ReturnType<typeof makeRect>;\r\nexport function makeRect(centre: Vector, size: size, cornerRounding: Vector = { x: 0, y: 0 }, classes: string = \"\") {\r\n   const element: SVGRectElement = makeElement(\"rect\", classes);\r\n   element.setAttribute(\"x\", (centre.x - size.width / 2).toString());\r\n   element.setAttribute(\"y\", (centre.y - size.height / 2).toString());\r\n   element.setAttribute(\"width\", size.width.toString());\r\n   element.setAttribute(\"height\", size.height.toString());\r\n   element.setAttribute(\"rx\", cornerRounding.x.toString());\r\n   element.setAttribute(\"ry\", cornerRounding.y.toString());\r\n   return svg(element);\r\n}\r\n\r\n","import { makeElement as makeElement } from \"../+element\";\r\nimport svg from \"../-svg\";\r\n\r\nexport function make(classes: string = \"\") {\r\n   const element: SVGSVGElement = makeElement(\"svg\", classes);\r\n   return svg(element);\r\n}\r\n\r\n","import { makeElement as makeElement } from \"../+element\";\r\nimport { Vector } from \"../../++types\";\r\nimport svg from \"../-svg\";\r\n//import * as $ from 'jquery';\r\n\r\nexport type text = ReturnType<typeof makeText>;\r\nexport function makeText(text: string, startVector: Vector, classes: string = \"\") {\r\n   const element: SVGTextElement = makeElement(\"text\", classes);\r\n   element.setAttribute('x', startVector.x.toString());\r\n   element.setAttribute('y', startVector.y.toString());\r\n   element.appendChild(document.createTextNode(text));\r\n   return svg(element);\r\n}\r\n\r\nexport namespace Functions {\r\n\r\n   let textPathCount = 0;\r\n   export function followPath<T extends SVGTextElement>(element: T) {\r\n      return (pathObject: SVGPathElement | { element:SVGPathElement}) => {\r\n         // Make a new path\r\n         const path = pathObject instanceof SVGPathElement ? pathObject : pathObject.element\r\n         $(path).hide();\r\n\r\n         // Give it a generated (hopefully unique)  ID\r\n         let pathID = \"pathForText\" + textPathCount;\r\n         path.setAttribute(\"id\", pathID);\r\n         textPathCount += 1;\r\n\r\n         // Make the text path, and link it to the path\r\n         let textPathEl = makeElement(\"textPath\");\r\n         textPathEl.setAttribute(\"href\", \"#\" + pathID);\r\n\r\n         // Get text content, remove from textEl and add to text pathEl\r\n         let text = $(element).text();\r\n         $(element).text(\"\");\r\n         textPathEl.appendChild(document.createTextNode(text));\r\n\r\n         // Add the path and textpath as children\r\n         element.appendChild(path);\r\n         element.appendChild(textPathEl);\r\n         return svg(element);\r\n      }\r\n   }\r\n\r\n   /** Used to rotate the position of text without affecting the orientation */\r\n   export function rotatePosition<T extends SVGTextElement>(element: T) {\r\n      return (rotation: number) => {\r\n         const position = {\r\n            x: Number(element.getAttribute(\"x\")),\r\n            y: Number(element.getAttribute(\"y\"))\r\n         }\r\n         svg(element).rotate(rotation).rotate(-rotation, position);\r\n\r\n         if (25 < rotation && rotation < 155) {\r\n            $(element).css(\"text-anchor\", \"start\");\r\n         } else if (-155 < rotation && rotation < -25) {\r\n            $(element).css(\"text-anchor\", \"end\");\r\n         } else {\r\n            $(element).css(\"text-anchor\", \"middle\");\r\n         }\r\n\r\n         if (135 < rotation || rotation < -135) {\r\n            $(element).css(\"alignment-baseline\", \"hanging\");\r\n         } else if (-55 < rotation && rotation < 45) {\r\n            $(element).css(\"alignment-baseline\", \"baseline\");\r\n         } else {\r\n            $(element).css(\"alignment-baseline\", \"middle\");\r\n         }\r\n\r\n         return svg(element);\r\n      }\r\n   }\r\n}\r\n","import { makeGroup as makeGroup } from \"../+group\";\r\nimport { makeText as makeText } from \"../+text\";\r\nimport { makePath as makePath } from \"../+path\";\r\nimport { makeRect as makeRect } from \"../+rect\";\r\n\r\nimport { gridSpacing } from \"../../../~constants\";\r\n\r\nexport type dip = ReturnType<typeof makeDip>;\r\nexport function makeDip(\r\n   pinsPerSide: number = 4,\r\n   textLineOne: string = \"\",\r\n   textLineTwo: string = \"\",\r\n   textLineThree: string = \"\",\r\n   classes: string = \"\"\r\n) {\r\n   const element = makeGroup(\"dip\" + classes);\r\n\r\n   let bodySize = {\r\n      width: gridSpacing * pinsPerSide,\r\n      height: gridSpacing * 2.8\r\n   }\r\n\r\n   let centre = {\r\n      x: gridSpacing * (pinsPerSide - 1) / 2,\r\n      y: gridSpacing * 1.5\r\n   };\r\n\r\n   let pinString =\r\n      \"M \" + (0) + \" \" + (-2.5)\r\n      + \"h \" + (-4)\r\n      + \"v \" + (3)\r\n      + \"l \" + (1) + \" \" + (0.5)\r\n      + \"h \" + (6)\r\n      + \"l \" + (1) + \" \" + (-0.5)\r\n      + \"v \" + (-3)\r\n      + \"Z\";\r\n\r\n   // let pinXBase = 0;\r\n   for (let i = 0; i < pinsPerSide; i++) {\r\n      element.append(\r\n         makePath(pinString, \"pin\").scale({ x: 1, y: -1 }).translate({ x: gridSpacing * i, y: 0 }),\r\n         makePath(pinString, \"pin\").translate({ x: gridSpacing * i, y: 3 * gridSpacing })\r\n      );\r\n   };\r\n\r\n   let notchString =\r\n      \"M \" + (-0.5 * gridSpacing) + \" \" + (centre.y) +\r\n      \"v \" + (8) +\r\n      \"a \" + (1) + \" \" + (1) + \" \" + (0) + \" \" + (0) + \" \" + (0) + \" \" + (0) + \" \" + (-16) +\r\n      \"Z\";\r\n\r\n   element.append(\r\n      makeRect(centre, bodySize, { x: 5, y: 5 }, \"body\"),\r\n      makePath(notchString, \"notch\"),\r\n      makeRect(centre, bodySize, { x: 5, y: 5 }, \"body highlight\"),\r\n      makeText(textLineOne, { x: 0.25 * gridSpacing, y: 1 * gridSpacing }, \"text\"),\r\n      makeText(textLineTwo, { x: 0.25 * gridSpacing, y: 1.75 * gridSpacing }, \"text\"),\r\n      makeText(textLineThree, { x: 0.25 * gridSpacing, y: 2.5 * gridSpacing }, \"text\")\r\n   );\r\n   return element;\r\n}\r\n","import { Vector } from \"../../../++types\";\r\nimport { makeGroup as makeGroup } from \"../+group\";\r\nimport { makeText as makeText } from \"../+text\";\r\n\r\nexport type textseq = ReturnType<typeof makeTextSeq>;\r\nexport function makeTextSeq(\r\n   start: Vector,\r\n   gap: Vector,\r\n   sequence: (string | number)[] | string | { start: number; length: number },\r\n   classes: string = \"\"\r\n) {\r\n   const element = makeGroup(classes);\r\n\r\n   let textArray: string[] = [];\r\n   if (sequence instanceof Array) {\r\n      // Converts to text (using 'String(val)')\r\n      textArray = sequence.map(String);\r\n   } else if (typeof sequence === \"string\") {\r\n      textArray = sequence.split(\"\");\r\n   } else {\r\n      // Its the object\r\n      textArray = [...Array(sequence.length).keys()].map(v =>\r\n         (v + sequence.start).toString()\r\n      );\r\n   }\r\n\r\n   element.append(\r\n      textArray.map((txt, i) =>\r\n         makeText(txt, { x: gap.x * i, y: gap.y * i }, \"text\")\r\n      )\r\n   );\r\n\r\n   element.translate(start);\r\n\r\n   return element;\r\n}\r\n","import NodeElements from \"../~nodeElements\";\r\nimport Events from \"./~events\";\r\nimport history from \"../circuit/history\";\r\n//import * as $ from 'jquery';\r\nnamespace Ui {\r\n   export function init() {\r\n      $(\"body\").layout({\r\n         center: {\r\n            size: \"35%\",\r\n            spacing_open: 10,\r\n            spacing_closed: 10,\r\n         },\r\n         west: {\r\n            onresize_end: () => {\r\n               Events.layoutPaneResize();\r\n            },\r\n            onclose: () => {\r\n               Events.layoutPaneResize();\r\n            },\r\n            onopen: () => {\r\n               Events.layoutPaneResize();\r\n            },\r\n            // Override as the external typings are incorrect in this case\r\n            size: \"30%\" as unknown as number,\r\n            minSize: \"270\" as unknown as number,\r\n            spacing_open: 10,\r\n            spacing_closed: 10,\r\n            slidable: false,\r\n         },\r\n         east: {\r\n            onresize_end: () => {\r\n               Events.schematicPaneResize();\r\n               Events.layoutPaneResize();\r\n            },\r\n            onclose: () => {\r\n               Events.schematicPaneResize();\r\n               Events.layoutPaneResize();\r\n            },\r\n            onopen: () => {\r\n               Events.schematicPaneResize();\r\n               Events.layoutPaneResize();\r\n            },\r\n            // Override as the external typings are incorrect in this case\r\n            size: \"35%\" as unknown as number,\r\n            minSize: \"5%\" as unknown as number,\r\n            spacing_open: 10,\r\n            spacing_closed: 10,\r\n            slidable: false,\r\n         }\r\n      });\r\n\r\n\r\n      $(\"#welcomeAccordion\").accordion({\r\n         collapsible: true,\r\n         heightStyle: \"content\"\r\n      });\r\n\r\n      // Control Listeners\r\n      $(document).keydown(e => {\r\n         if (e.ctrlKey) {\r\n            console.log(history.getState())\r\n            if (e.key === \"z\") {\r\n               Events.undo();\r\n            } else if (e.key === \"y\") {\r\n               Events.redo();\r\n            }\r\n         }\r\n      });\r\n\r\n      // File listeners\r\n      NodeElements.fileInput.addEventListener('change', e => {\r\n         Events.fileInput(e);\r\n      });\r\n      NodeElements.fileSave.addEventListener('click', e => {\r\n         Events.fileSave(e);\r\n      });\r\n\r\n      // Schematic Listeners\r\n      NodeElements.schematicEditingEnabled.addEventListener('click', e => {\r\n         const state: boolean = NodeElements.schematicEditingEnabled.checked;\r\n         Events.enableSchematicEditingPress(state)\r\n      });\r\n\r\n      // Board Listeners\r\n      NodeElements.makeStripboard.addEventListener('click', e => {\r\n         Events.makeStripBoardButtonPress();\r\n      });\r\n      NodeElements.makeHalfBreadboard.addEventListener('click', e => {\r\n         Events.makeBreadBoardSmallButtonPress();\r\n      });\r\n      NodeElements.makeFullBreadboard.addEventListener('click', e => {\r\n         Events.makeBreadBoardLargeButtonPress();\r\n      });\r\n      NodeElements.boardDraggingEnabled.addEventListener('click', e => {\r\n         const state: boolean = NodeElements.boardDraggingEnabled.checked;\r\n         Events.enableBoardDraggingPress(state);\r\n      });\r\n\r\n      // Check listeners\r\n      NodeElements.checkCircuitButton.addEventListener('click', e => {\r\n         Events.checkCircuit()\r\n      });\r\n   }\r\n}\r\nexport default Ui;","import NodeElements from \"../~nodeElements\";\r\nimport ControlValues from \"../~controlValues\";\r\nimport Active from \"../~active\";\r\nimport { handleFileInputEvent } from \"../fileIO/load/-handleFileInputEvent\";\r\nimport handleFileSaveEvent from \"../fileIO/save/-handleFileSaveEvent\";\r\nimport history from \"../circuit/history\";\r\nimport manifest from \"../circuit/manifest\";\r\nimport Component from \"../circuit/+component\";\r\nimport Diagram from \"../circuit/+diagram\";\r\nimport StripboardMaps from \"../circuit/component/_stripboard/-maps\";\r\nimport BreadboardMaps from \"../circuit/component/_breadboard/-maps\";\r\n//import * as $ from 'jquery';\r\n\r\nnamespace Events {\r\n\r\n   // Control (explicit)\r\n   export function undo() {\r\n      if (history !== undefined) {\r\n         history.undo();\r\n      }\r\n   }\r\n   export function redo() {\r\n      if (history !== undefined) {\r\n         history.redo();\r\n      }\r\n   }\r\n\r\n   // Controls (implicit)\r\n   function fitDiagramContents(diagram: Diagram) {\r\n      let rootEl = diagram.root.element.element;\r\n      let group = diagram.group;\r\n\r\n      let margin = 3;\r\n\r\n      let groupBBox = group.element.getBBox();\r\n      let groupWidth = groupBBox.width + margin * 2;\r\n      let groupHeight = groupBBox.height + margin * 2;\r\n\r\n      let scaleX: number = (groupWidth) ? (rootEl.width.baseVal.value / groupWidth) : 0;\r\n      let scaleY: number = (groupHeight) ? (rootEl.height.baseVal.value / groupHeight) : 0;\r\n      let scaleMin: number = Math.min(scaleX, scaleY);\r\n\r\n      let offsetX = -groupBBox.x * scaleMin + (rootEl.width.baseVal.value - groupWidth * scaleMin) / 2 + margin;\r\n      let offsetY = (-groupBBox.y * scaleMin) + (rootEl.height.baseVal.value - groupHeight * scaleMin) / 2 + margin;\r\n\r\n      let transformString = \"translate(\" + offsetX + \" \" + offsetY + \")\" + \"scale(\" + scaleMin + \")\";\r\n      group.element.setAttribute('transform', transformString);\r\n   }\r\n   export function schematicPaneResize() {\r\n      window.setTimeout(() => {\r\n         fitDiagramContents(Active.schematic);\r\n      }, 5);\r\n   }\r\n   export function layoutPaneResize() {\r\n      window.setTimeout(() => {\r\n         fitDiagramContents(Active.layout);\r\n      }, 5);\r\n   }\r\n\r\n   // File\r\n   export function fileInput(event: Event) {\r\n      handleFileInputEvent(event);\r\n   }\r\n   export function fileSave(event: Event) {\r\n      handleFileSaveEvent(event);\r\n   }\r\n\r\n   // Schematic\r\n   export function enableSchematicEditingPress(isChecked: boolean) {\r\n      ControlValues.schematicEditingEnabled = isChecked;\r\n   }\r\n\r\n   // Board\r\n   function addBoard(board: Component) {\r\n      if (manifest.states.activeBoard !== undefined) {\r\n         manifest.removeComponent(manifest.states.activeBoard);\r\n         manifest.addComponent(manifest.states.layout, board);\r\n         history.mergeLast();\r\n      } else {\r\n         manifest.addComponent(manifest.states.layout, board);\r\n      }\r\n      manifest.states.activeBoard = board;\r\n   }\r\n   export function makeStripBoardButtonPress() {\r\n      let rowElement = NodeElements.stripboardRows;\r\n      let columnElement = NodeElements.stripboardColumns;\r\n\r\n      let rows = parseInt(rowElement.value);\r\n      let columns = parseInt(columnElement.value);\r\n\r\n      if (rows && columns &&\r\n         rows >= parseInt(rowElement.min) && columns >= parseInt(columnElement.min) &&\r\n         rows <= parseInt(rowElement.max) && columns <= parseInt(columnElement.max)\r\n      ) {\r\n         addBoard(StripboardMaps.layout.make({\r\n            rows: rows,\r\n            columns: columns\r\n         }));\r\n      }\r\n   }\r\n   export function makeBreadBoardSmallButtonPress() {\r\n      addBoard(BreadboardMaps.layoutSmall.make({}));\r\n   }\r\n   export function makeBreadBoardLargeButtonPress() {\r\n      addBoard(BreadboardMaps.layoutLarge.make({}));\r\n   }\r\n   export function enableBoardDraggingPress(isChecked: boolean) {\r\n      ControlValues.boardDraggingEnabled = isChecked;\r\n   }\r\n\r\n   // Check\r\n   export function highlightCorrectComponentsPress(isChecked: boolean) {\r\n      ControlValues.highlightCorrectComponents = isChecked;\r\n   }\r\n   export function highlightIncorrectComponentsPress(isChecked: boolean) {\r\n      ControlValues.highlightIncorrectComponents = isChecked;\r\n   }\r\n   // TODO: Move this\r\n   export function checkCircuit() {\r\n      let circuitStatus = manifest.checkAll();\r\n      const highlightCheck = () => {\r\n         if (ControlValues.highlightIncorrectComponents) {\r\n            circuitStatus.incorrects.forEach(incorrect => {\r\n               $(incorrect.group.element).find(\".highlight\").css(\"stroke\", \"red\");\r\n               $(incorrect.group.element).find(\".highlightwithfill\").css(\"fill\", \"red\");;\r\n            });\r\n         }\r\n         if (ControlValues.highlightCorrectComponents) {\r\n            circuitStatus.corrects.forEach(correct => {\r\n               $(correct.group.element).find(\".highlight\").css(\"stroke\", \"green\");\r\n               $(correct.group.element).find(\".highlightwithfill\").css(\"fill\", \"green\");;\r\n            });\r\n         }\r\n      }\r\n      const clearHighlightCheck = () => {\r\n         if (ControlValues.highlightIncorrectComponents) {\r\n            circuitStatus.incorrects.forEach(incorrect => {\r\n               $(incorrect.group.element).find(\".highlight\").css(\"stroke\", \"\");\r\n               $(incorrect.group.element).find(\".highlightwithfill\").css(\"fill\", \"\");\r\n            });\r\n         }\r\n         if (ControlValues.highlightCorrectComponents) {\r\n            circuitStatus.corrects.forEach(correct => {\r\n               $(correct.group.element).find(\".highlight\").css(\"stroke\", \"\");\r\n               $(correct.group.element).find(\".highlightwithfill\").css(\"fill\", \"\");;\r\n            });\r\n         }\r\n      }\r\n      highlightCheck();\r\n      window.setTimeout(() => {\r\n         clearHighlightCheck();\r\n         window.setTimeout(() => {\r\n            highlightCheck();\r\n            window.setTimeout(() => {\r\n               clearHighlightCheck();\r\n               window.setTimeout(() => {\r\n                  highlightCheck();\r\n                  window.setTimeout(() => {\r\n                     clearHighlightCheck();\r\n                  }, 400);\r\n               }, 200);\r\n            }, 400);\r\n         }, 200);\r\n      }, 400);\r\n\r\n      let completion = (circuitStatus.corrects.length / (circuitStatus.corrects.length + circuitStatus.incorrects.length) * 100).toFixed(1);\r\n      NodeElements.checkStatusText.innerText = \"Correct: \" + completion + \"%\";\r\n   }\r\n\r\n\r\n}\r\n\r\nexport default Events;\r\n\r\n\r\n","\r\n/** Return value in radians */\r\nexport default function cumulativeSum(...values: number[]): number[] {\r\n   return values.reduce((acc, value, idx) => acc.concat(value + acc[idx]), [0]).slice(1);\r\n}\r\n\r\n\r\n","\r\n/** Only safe for JSON friendly objects */\r\nexport default function deepCopy<O extends {}>(obj: O): O {\r\n   return JSON.parse(JSON.stringify(obj));\r\n}\r\n\r\n\r\n","\r\n/** Return value in radians */\r\nexport default function degreesToRadians(angle: number): number {\r\n   return angle * Math.PI / 180;\r\n}\r\n\r\n\r\n\r\n","export default function getStandardForm(value: number, unit: string = \"\"): string {\r\n   let exponentialParts = value.toExponential().split(\"e\");\r\n\r\n   let coefficient: number = parseFloat(exponentialParts[0]);\r\n   let exponent: number = parseInt(exponentialParts[1]);\r\n\r\n   for (let i = 0; i < 3; i++) {\r\n      if (exponent in prefixes) break;\r\n      coefficient *= 10;\r\n      exponent--;\r\n   }\r\n\r\n   const numeric = parseFloat(coefficient.toPrecision(2));\r\n   const prefix = prefixes[exponent] || \"\";\r\n\r\n   return numeric + prefix + unit;\r\n}\r\n\r\nconst prefixes: { [key: string]: string } = {\r\n   '-24': 'y',\r\n   '-21': 'z',\r\n   '-18': 'a',\r\n   '-15': 'f',\r\n   '-12': 'p',\r\n   '-9': 'n',\r\n   '-6': 'µ',\r\n   '-3': 'm',\r\n   '0': '',\r\n   '3': 'k',\r\n   '6': 'M',\r\n   '9': 'G',\r\n   '12': 'T',\r\n   '15': 'P',\r\n   '18': 'E',\r\n   '21': 'Z',\r\n   '24': 'Y'\r\n};\r\n","export default function is<T>(check: T) {\r\n   return (test: T) => test === check;\r\n}\r\n\r\n\r\n","export default function isNot<T>(check: T) {\r\n   return (test: T) => test !== check\r\n}\r\n","import isNot from \"./-isNot\";\r\n\r\n/** Tests that for every element in array A there is exactly one corresponding element\r\n * in array B for which the predicate is true when presented with both elements.\r\n */\r\nexport default function isUnaryMap<T>(A: T[], B: T[], predicate: (elA: T, elB: T) => boolean) {\r\n   const isPredicateMatchForAllA: boolean = A.every(elA => {\r\n      let match = B.find(elB => predicate(elA, elB));\r\n      B = B.filter(isNot(match));\r\n      return (match !== undefined);\r\n   });\r\n\r\n   const allBMatched: boolean = (B.length === 0);\r\n\r\n   return (isPredicateMatchForAllA && allBMatched);\r\n}\r\n\r\n\r\n","\r\n/** Return value in Degrees */\r\nexport default function radiansToDegrees(angle: number): number {\r\n   return angle * 180 / Math.PI;\r\n}\r\n\r\n\r\n","\r\n/** Splits an array by predicate*/\r\nexport default function split<T>(A: T[], predicate: (elA: T) => boolean): { passes: T[], fails: T[] } {\r\n   let passes: T[] = [];\r\n   let fails: T[] = [];\r\n\r\n   A.forEach(elA => {\r\n      if (predicate(elA)) {\r\n         passes.push(elA);\r\n      } else {\r\n         fails.push(elA);\r\n      }\r\n   })\r\n\r\n   return { passes: passes, fails: fails };\r\n}\r\n\r\n\r\n","import * as GlobalTypes from \"../++types\";\r\nimport is from \"./-is\";\r\n\r\nexport default function testType<T extends GlobalTypes.baseTypes>(type: T): (v: unknown) => v is GlobalTypes.NameType<T>;\r\nexport default function testType<T>(predicate: (value: T) => boolean): (v: unknown) => v is T;\r\nexport default function testType<T>(type: T[]): (v: unknown) => v is T;\r\nexport default function testType<T>(test: GlobalTypes.baseTypes | ((value: unknown) => boolean) | T[]) {\r\n\r\n   const predicate = ((typeof test === \"string\")\r\n      ? (v: unknown) => typeof v === test\r\n      : (test instanceof Array)\r\n         ? (v: unknown) => test.some(is(v))\r\n         : test\r\n   );\r\n\r\n   return predicate;\r\n}\r\n","/** Restructures inputs as a Tuple */\r\nexport default function tuple<TS extends any[]>(...args: TS) {\r\n   return args;\r\n}\r\n","import is from \"./-is\";\r\nimport * as GlobalTypes from \"../++types\";\r\n\r\nexport type checkfunction<T> = (value: unknown, log?: boolean) => T;\r\n\r\ntype genericValidate<T, OT=T> = (test: T, fallback: OT) => checkfunction<OT>;\r\n\r\n// Validate by type checking against base type (string number etc)\r\ntype baseValidate<T = GlobalTypes.baseTypes> = genericValidate<T, GlobalTypes.NameType<T>>;\r\n\r\n// Validate according to some function\r\ntype functionValidate = genericValidate<(value: unknown) => boolean>;\r\n\r\n// Validate by checking against predefined array\r\ntype selectValidate<T> = genericValidate<T[]>;\r\n\r\nexport default interface validateType<T> extends baseValidate, functionValidate, selectValidate<T> { };\r\n\r\nexport default function validateType<T>(test: (GlobalTypes.baseTypes | ((value: unknown) => boolean) | T[]), fallback: T) {\r\n   // Effectively convert all cases into a boolean returning function\r\n   const predicate = ((typeof test === \"string\")\r\n      ? (v: unknown) => typeof v === test\r\n      : (test instanceof Array)\r\n         ? (v: unknown) => test.some(is(v))\r\n         : test\r\n   );\r\n\r\n   const validator: checkfunction<T> = (value, log = false) => {\r\n      if (predicate(value)) {\r\n            /*LOGSTART*/if (log) {\r\n            console.log(`Value '%o' passed test '%o`, value, test);\r\n         }/*LOGEND*/\r\n         return value as T;\r\n      } else {\r\n            /*LOGSTART*/if (log) {\r\n            console.log(`Validation failure, value '%o' did not pass test '%o',\r\n                fallback '%o' used.`, value, test, fallback);\r\n         }/*LOGEND*/\r\n         return fallback;\r\n      }\r\n   }\r\n\r\n   return validator;\r\n}\r\n\r\n\r\n\r\n","import degreesToRadians from \"../-degreesToRadians\"\r\nimport { Vector } from \"../../++types\"\r\nexport default function toVector(radius: number, angle: number): Vector {\r\n   const rads = degreesToRadians(angle)\r\n   return {\r\n      x: radius * Math.cos(rads),\r\n      y: radius * Math.sin(rads)\r\n   };\r\n}\r\n\r\n\r\n","namespace Curry {\r\n   export function makeOptional<AT, BT, RT>(fn: (A: AT, B: BT) => RT) {\r\n      function curried(A: AT): (B: BT) => RT;\r\n      function curried(A: AT, B: BT): RT;\r\n      function curried(A: AT, B?: BT) {\r\n         if (B !== undefined) {\r\n            return fn(A, B);\r\n         } else {\r\n            return (B: BT) => fn(A, B);\r\n         }\r\n      }\r\n      return curried;\r\n   }\r\n}\r\n\r\nexport default Curry;\r\n","namespace flatten {\r\n   export const flatten2d = <T>(array: T[][]): T[] => ([] as T[]).concat.apply([], array);\r\n   export const flatten3d = <T>(array: T[][][]): T[] => flatten2d(flatten2d(array));\r\n}\r\n\r\nexport default flatten;","//import * as $ from 'jquery';\r\nnamespace Insert {\r\n   export function last(element: Element, target?: Element) {\r\n      if (element === target || target === undefined) {\r\n         $(element).insertAfter($(element).siblings().last());\r\n      } else if ($(target).children().length) {\r\n         $(element).insertAfter($(target).children().last());\r\n      } else {\r\n         $(element).appendTo(target);\r\n      }\r\n   }\r\n\r\n   export function first(element: Element, target?: Element) {\r\n      if (element === target || target === undefined) {\r\n         $(element).insertBefore($(element).siblings().first());\r\n      } else if ($(target).children().length) {\r\n         $(element).insertBefore($(target).children().first());\r\n      } else {\r\n         $(element).prependTo(target);\r\n      }\r\n   }\r\n\r\n   export function before(element: Element, target?: Element): void\r\n   export function before(element: Element, referenceSelector: string): void\r\n   export function before(element: Element, target?: Element, referenceSelector?: string): void\r\n   export function before(element: Element, targetOrRef?: Element | string, referenceSelector: string = \"*\"): void {\r\n      let target = (typeof targetOrRef === \"string\") ? undefined : targetOrRef;\r\n      referenceSelector = (typeof targetOrRef === \"string\") ? targetOrRef : referenceSelector;\r\n      if (element === target || target === undefined) {\r\n         $(element).insertBefore($(element).siblings(referenceSelector).first());\r\n      } else if ($(target).children(referenceSelector).length) {\r\n         $(element).insertBefore($(target).children(referenceSelector).first());\r\n      } else {\r\n         $(element).prependTo(target);\r\n      }\r\n   }\r\n\r\n   export function after(element: Element, target?: Element): void\r\n   export function after(element: Element, referenceSelector: string): void\r\n   export function after(element: Element, target?: Element, referenceSelector?: string): void\r\n   export function after(element: Element, targetOrRef?: Element | string, referenceSelector: string = \"*\"): void {\r\n      let target = (typeof targetOrRef === \"string\") ? undefined : targetOrRef;\r\n      referenceSelector = (typeof targetOrRef === \"string\") ? targetOrRef : referenceSelector;\r\n      if (element === target || target === undefined) {\r\n         $(element).insertAfter($(element).siblings(referenceSelector).last());\r\n      } else if ($(target).children(referenceSelector).length) {\r\n         $(element).insertAfter($(target).children(referenceSelector).last());\r\n      } else {\r\n         $(element).prependTo(target);\r\n      }\r\n   }\r\n}\r\n\r\nexport default Insert;","import NodeElements from \"./~nodeElements\";\r\nimport Diagram from \"./circuit/+diagram\";\r\n//import * as $ from 'jquery';\r\nnamespace Active {\r\n   export let layout: Diagram;\r\n   export let schematic: Diagram;\r\n\r\n   export function init() {\r\n      layout = new Diagram(NodeElements.layoutContainer);\r\n      $(layout.root.group.element).addClass(\"layout\");\r\n      schematic = new Diagram(NodeElements.schematicContainer);\r\n      $(schematic.root.group.element).addClass(\"schematic\");\r\n   }\r\n}\r\nexport default Active;","export const gridSpacing = 20;\r\nexport const svgURI: string = \"http://www.w3.org/2000/svg\";\r\n\r\n\r\n","namespace ControlValues {\r\n   // schematic\r\n   export let schematicEditingEnabled: boolean = false;\r\n\r\n   // board\r\n   export let boardDraggingEnabled: boolean = false;\r\n\r\n   // check\r\n   export let highlightCorrectComponents: boolean = true;\r\n   export let highlightIncorrectComponents: boolean = true;\r\n}\r\nexport default ControlValues;\r\n\r\n\r\n","//import * as $ from 'jquery';\r\nnamespace NodeElements {\r\n   //File\r\n   export let fileInput: HTMLInputElement;\r\n   export let fileSave: HTMLInputElement;\r\n   export let fileStatusText: HTMLParagraphElement;\r\n\r\n   //Schematic Editing\r\n   export let schematicEditingEnabled: HTMLInputElement;\r\n\r\n   //Board Control\r\n   export let stripboardRows: HTMLInputElement;\r\n   export let stripboardColumns: HTMLInputElement;\r\n   export let makeStripboard: HTMLInputElement;\r\n   export let makeHalfBreadboard: HTMLInputElement;\r\n   export let makeFullBreadboard: HTMLInputElement;\r\n   export let boardDraggingEnabled: HTMLInputElement;\r\n\r\n   //Checking\r\n   export let checkCircuitButton: HTMLInputElement;\r\n   export let checkShowCorrect: HTMLInputElement;\r\n   export let checkShowIncorrect: HTMLInputElement;\r\n   export let checkStatusText: HTMLParagraphElement;\r\n\r\n   //Svg Containers\r\n   export let layoutContainer: HTMLDivElement;\r\n   export let schematicContainer: HTMLDivElement;\r\n\r\n   export function init() {\r\n      //File\r\n      NodeElements.fileInput = $(\"input#fileInput\")[0] as HTMLInputElement;\r\n      NodeElements.fileSave = $(\"input#fileSave\")[0] as HTMLInputElement;\r\n      NodeElements.fileStatusText = $(\"p#fileStatusText\")[0] as HTMLParagraphElement;\r\n\r\n      //Schematic Editing\r\n      NodeElements.schematicEditingEnabled = $(\"input#schematicEditingEnabled\")[0] as HTMLInputElement;\r\n\r\n      //Board Control\r\n      NodeElements.stripboardRows = $(\"input#stripboardRows\")[0] as HTMLInputElement;\r\n      NodeElements.stripboardColumns = $(\"input#stripboardColumns\")[0] as HTMLInputElement;\r\n      NodeElements.makeStripboard = $(\"input#makeStripboard\")[0] as HTMLInputElement;\r\n      NodeElements.makeHalfBreadboard = $(\"input#makeHalfBreadboard\")[0] as HTMLInputElement;\r\n      NodeElements.makeFullBreadboard = $(\"input#makeFullBreadboard\")[0] as HTMLInputElement;\r\n      NodeElements.boardDraggingEnabled = $(\"input#boardDraggingEnabled\")[0] as HTMLInputElement;\r\n\r\n      //Checking\r\n      NodeElements.checkCircuitButton = $(\"input#checkCircuitButton\")[0] as HTMLInputElement;\r\n      NodeElements.checkShowCorrect = $(\"input#checkShowCorrect\")[0] as HTMLInputElement;\r\n      NodeElements.checkShowIncorrect = $(\"input#checkShowIncorrect\")[0] as HTMLInputElement;\r\n      NodeElements.checkStatusText = $(\"p#checkStatusText\")[0] as HTMLParagraphElement;\r\n\r\n      //Svg Containers\r\n      NodeElements.layoutContainer = $(\"div#layoutContainer\")[0] as HTMLDivElement;\r\n      NodeElements.schematicContainer = $(\"div#schematicContainer\")[0] as HTMLDivElement;\r\n   }\r\n}\r\nexport default NodeElements\r\n"],"sourceRoot":""}